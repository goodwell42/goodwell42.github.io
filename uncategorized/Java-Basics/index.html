<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="9HUf6ezOpFf73Y0w8eaFdX2rXMl4XmbEMOwRpS3fRvk">
<meta name="baidu-site-verification" content="p1GieRH4fF">
<script>
    (function(){
        if(''){
            if (prompt('此文已设密，请输入密码') !== ''){
                alert('密码错误！要不要问一下goodwell');
                history.back();
            }
        }
    })();
</script>


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "ad95c87d"
    });
  daovoice('update');
  </script>














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="自用 Java基础 笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Java-Basics">
<meta property="og:url" content="https://goodwell42.github.io/uncategorized/Java-Basics/index.html">
<meta property="og:site_name" content="GOODWELL&#39;S BLOG">
<meta property="og:description" content="自用 Java基础 笔记">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://images2017.cnblogs.com/blog/1071931/201801/1071931-20180108134122472-1822105846.png">
<meta property="og:image" content="https://i1.100024.xyz/i/2019/09/25/u6vgy3.png">
<meta property="og:updated_time" content="2021-03-21T21:24:35.857Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java-Basics">
<meta name="twitter:description" content="自用 Java基础 笔记">
<meta name="twitter:image" content="https://images2017.cnblogs.com/blog/1071931/201801/1071931-20180108134122472-1822105846.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://goodwell42.github.io/uncategorized/Java-Basics/">





  <title>Java-Basics | GOODWELL'S BLOG</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4478864dba087d91a98ca744e6f1408b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script>
<!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/goodwell42"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">GOODWELL'S BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">江岭作鸽 | 山海为信<br> 岭鸽千里终见关，<br> 海信百年遗荒滩。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://goodwell42.github.io/uncategorized/Java-Basics/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="goodwell">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GOODWELL'S BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java-Basics</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-20T05:07:30+08:00">
                2021-03-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/uncategorized/Java-Basics/" class="leancloud_visitors" data-flag-title="Java-Basics">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
                 <span>℃</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  43,580(字)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  193(分)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>自用 Java基础 笔记<a id="more"></a></p>
<h1 id="Java路线"><a href="#Java路线" class="headerlink" title="Java路线"></a>Java路线</h1><h2 id="第一阶段入门进阶"><a href="#第一阶段入门进阶" class="headerlink" title="第一阶段入门进阶"></a>第一阶段入门进阶</h2><ul>
<li>JAVA基本语法</li>
<li>OO的编程思想</li>
<li>集合</li>
<li>IO</li>
<li>异常</li>
<li>泛型</li>
<li>反射</li>
<li>多线程</li>
<li>函数式.</li>
</ul>
<h2 id="第二阶段Web基础和工具"><a href="#第二阶段Web基础和工具" class="headerlink" title="第二阶段Web基础和工具"></a>第二阶段Web基础和工具</h2><ul>
<li>前段基础三件套(html/css/js),</li>
<li>jquery,ajax,jsp,cookie,session,</li>
<li>http基础</li>
<li>servlet基础,</li>
<li>Git,SVN等代码管理工具</li>
</ul>
<h2 id="第三阶段企业级应用框架培训"><a href="#第三阶段企业级应用框架培训" class="headerlink" title="第三阶段企业级应用框架培训"></a>第三阶段企业级应用框架培训</h2><ul>
<li>maven/gradle项目管理工具</li>
<li>Spring全家桶:Spring/Spring MVC/ SpringBoot（比较先进的培训有SpringBoot，而SSH基本不用报）</li>
<li>关系型数据库 MySQL,jdbc,MyBatis,Hibernate.</li>
<li>非关系数据库 Redis缓存 (也是区别重点)</li>
<li>模板技术: thymeleaf,freemarker</li>
</ul>
<h2 id="第四阶段高级应用框架培训"><a href="#第四阶段高级应用框架培训" class="headerlink" title="第四阶段高级应用框架培训"></a>第四阶段高级应用框架培训</h2><ul>
<li>搜索引擎 elastic search</li>
<li>RPC框架/微服务框架: Dubbo,Spring Cloud(区别重点)</li>
<li>中间件技术 RabbitMQ,RocketMQ,ActiveMQ,Kafka等.</li>
<li>虚拟化技术:Docker容器,k8s容器编排技术等</li>
</ul>
<h2 id="第五阶段高级话题"><a href="#第五阶段高级话题" class="headerlink" title="第五阶段高级话题"></a>第五阶段高级话题</h2><ul>
<li>JVM优化和排错</li>
<li>GC分析</li>
<li>数据库高级优化等话题</li>
</ul>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h4 id="Java语言的特点"><a href="#Java语言的特点" class="headerlink" title="Java语言的特点"></a>Java语言的特点</h4><ol>
<li>面向对象</li>
<li>健壮性</li>
<li>跨平台性（JVM）</li>
</ol>
<h4 id="Java两种核心机制"><a href="#Java两种核心机制" class="headerlink" title="Java两种核心机制"></a>Java两种核心机制</h4><ul>
<li>Java虚拟机（Java Virtual Machine）</li>
</ul>
<p>可以理解为一个以字节码为机器指令的CPU，是解释型</p>
<ul>
<li>垃圾回收机制（Garbage collection）</li>
</ul>
<h4 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h4><ol>
<li><p>JDK(J2SDK) &amp; JRE</p>
<p>SDK(Software Development kit <strong>软件开发包</strong>)</p>
<p>Java Runtime Environment (<strong>Java运行环境</strong>)</p>
<p>ps: 开发需要JDK，用户只需JRE。</p>
<ul>
<li>JDK = JRE + 开发工具集（例如Javac编译工具）</li>
<li>JRE = JVM + Java SE标准类库</li>
</ul>
</li>
<li><p>Java技术体系平台</p>
<p>Java SE(Java Standard Edition) 标准版</p>
<p>Java EE(Java Enterprise Edition)企业版</p>
<p>Java ME(Java Micro Edition)小型版</p>
<p>Java Card</p>
</li>
<li><p>IDE (Integrated Development Environment) 集成开发环境</p>
</li>
</ol>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><h4 id="注释类型Comment"><a href="#注释类型Comment" class="headerlink" title="注释类型Comment"></a>注释类型Comment</h4><ol>
<li>单行注释 //</li>
<li>多行注释 /<em> </em>/</li>
<li>文档注释 (Java特有)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  <span class="doctag">@author</span> 指定Java程序的作者</span></span><br><span class="line"><span class="comment">  <span class="doctag">@version</span> 指定源文件的版本</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>PS:文档注释的内容可以被javadoc所解析，生成一套以网页文件形式体现的该程序的说明文档。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; javadoc -d myXXXdoc -author -version XXX.java</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Java-API-文档"><a href="#Java-API-文档" class="headerlink" title="Java API 文档"></a>Java API 文档</h4><p>API (<strong>Application Programming Interface</strong>, <strong>应用程序编程接口</strong>)</p>
<ol>
<li>一个Java源文件只能有一个类声明public，该类名必须与文件名一致</li>
<li>程序入口是main() </li>
<li>输出语句：System.out.println() 输出数据再换行 /  System.out.print()</li>
<li><strong>编译会生成（多个）与源文件中类名相同的字节码文件。</strong></li>
</ol>
<h4 id="关键字与保留字"><a href="#关键字与保留字" class="headerlink" title="关键字与保留字"></a>关键字与保留字</h4><p>Java保留字： goto 、const</p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>各种变量、方法和类（凡是自己起名字的）</p>
<ul>
<li><p>特点：<strong>字母，0-9，_ 或$</strong>组成，数字不开头</p>
</li>
<li><p>规范：(PS:Java 采用unicode字符集)</p>
<p>包名：多单词组成所有字母都小写：xxxyyyzz</p>
<p>类名、接口名：多单词所有单词首字母大写：XxxYyyZzz</p>
<p>变量名、方法名：第一个首字母小写其余首字母大写：xxxYyyZzz</p>
<p>常量名：所有字母大写，多单词下划线连接：XXX_YYY_ZZZ</p>
</li>
</ul>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>是程序中最基本的储存单元。包括变量类型、变量名和储存的值。先声明后使用</p>
<p>数据类型：</p>
<ul>
<li>基本数据类型(primitive type) <ul>
<li>整数类型（byte 1, short 2, <strong>int</strong> 4, long 8）</li>
<li>浮点类型（float 4数值范围大必须末尾加f, <strong>double</strong> 8双精度）</li>
<li>字符类型（char 2 ‘ ‘）</li>
<li>布尔型（boolean）</li>
</ul>
</li>
<li>引用数据类型(reference type)<ul>
<li>类（class）</li>
<li>接口（interface）</li>
<li>数组（string[]）</li>
</ul>
</li>
</ul>
<p>基本数据类型转换（不包含boolean）：</p>
<ul>
<li><p>自动类型提升</p>
<p><strong>byte、char、short</strong>互相 –&gt; int –&gt; <strong>long –&gt; float</strong> –&gt; double</p>
</li>
<li><p>强制类型转换</p>
<p>自动类型提升的逆运算，强制转换符()</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 特殊情况1</span></span><br><span class="line"><span class="keyword">long</span> l = <span class="number">123123</span>;<span class="comment">//int</span></span><br><span class="line"><span class="comment">//long ll = 123123123123123123;</span></span><br><span class="line"><span class="comment">//float f = 12.3;//double false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 特殊情况2</span></span><br><span class="line"><span class="comment">//整型常量默认为int，浮点型常量默认为double</span></span><br><span class="line"><span class="keyword">byte</span> b = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">byte</span> b1 = b + <span class="number">1</span>;<span class="comment">//int false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//char c = '';//false</span></span><br></pre></td></tr></table></figure>
<p>引用数据类型string</p>
<p>string可以和8种基本数据类型进行运算，且只能进行连接运算： +</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//String str1 = 123;//false</span></span><br><span class="line">String str2 = <span class="number">123</span> + <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//int num = str1;//false</span></span><br><span class="line"><span class="comment">//int num = (int)str1;//false</span></span><br><span class="line"><span class="keyword">int</span> num = Integer.parseInt(str1);</span><br></pre></td></tr></table></figure>
<h4 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h4><ul>
<li>二进制(binary)：以0B或0b开头，<em>原码  补码（反码+1）  反码（符号位不变）计算机底层都以补码存储数据</em></li>
<li>十进制(decimal)</li>
<li>八进制(octal)：以数字0开头</li>
<li>十六进制(hex)：以0x或0X开头</li>
</ul>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><ul>
<li><p>算术运算符</p>
<p>（%结果与被模数符号相同）（++不改变本身数据 类型）</p>
</li>
<li><p>赋值运算符</p>
<p>（+=不改变本身数据 类型，带隐形制性转换）</p>
</li>
<li><p>比较运算符</p>
<p>（ps: instanceof是否是string）</p>
</li>
<li><p>逻辑运算符</p>
<p>(逻辑 &amp;  | !  ^        短路 &amp;&amp; ||)</p>
<p>ps: &amp; 与 &amp;&amp; （| 与 ||类似）开发中推荐使用双</p>
<ul>
<li>相同点：<strong>运算结果相同</strong>，当左边为true时都执行</li>
<li><strong>不同点：当左边为false时，&amp;继续执行&amp;&amp;短路不执行</strong></li>
</ul>
</li>
<li><p>位运算符</p>
<p>(&lt;&lt; (最高效2*8)   &gt;&gt;  （最高位0补0，1补1）  &gt;&gt;&gt;无符号右移(都用0补)    &amp;  |   ^(<strong>俩数交换</strong>)   ~取反(补码各位取反))取决于数据类型</p>
</li>
<li><p>三元运算符</p>
<p>(? : )</p>
<p>ps：可以嵌套使用，凡是?:(运算效率高)都可以改写成if-else，反之不成立</p>
</li>
</ul>
<blockquote>
<p>[a:b]   -&gt;   (int)(Math.random() * (b - a + 1) + a)</p>
</blockquote>
<h4 id="程序流程控制"><a href="#程序流程控制" class="headerlink" title="程序流程控制"></a>程序流程控制</h4><p>基本流程结构：</p>
<ul>
<li>顺序结构</li>
<li>分支结构<ul>
<li>if-else （万能）</li>
<li>switch (执行效率更高，都可以转换成if-else，反之不成立)</li>
</ul>
</li>
<li>循环结构<ul>
<li>while</li>
<li>do-while</li>
<li>for</li>
<li>foreace</li>
</ul>
</li>
</ul>
<h4 id="引用数据类型变量：数组"><a href="#引用数据类型变量：数组" class="headerlink" title="引用数据类型变量：数组"></a>引用数据类型变量：数组</h4><ul>
<li><p>初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态初始化</span></span><br><span class="line"><span class="keyword">int</span>[] ids = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] ids = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>&#125;; <span class="comment">//类型判断</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[][] ids1 = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">3.4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">5</span>,<span class="number">6</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态初始化</span></span><br><span class="line"><span class="keyword">int</span>[] ids = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span>[] ods = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">String[][] arr = <span class="keyword">new</span> String[<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">String[] arr[] = <span class="keyword">new</span> String[<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">String[][] arr = <span class="keyword">new</span> String[<span class="number">2</span>][];</span><br><span class="line"><span class="comment">//错误String[][] arr = new String[][2];</span></span><br><span class="line"><span class="comment">// 数组一旦初始化完成，在内存中占有一连串地址，并且长度无法改变。</span></span><br></pre></td></tr></table></figure>
<p>PS：默认初始化值：整型为0，浮点型0.0，char为0或‘\u000’非这个‘0’，boolean型false，引用类型为null 非“null”，<strong>多维数组外层为地址值</strong>，内层地址未指定时为null。</p>
</li>
<li><p>获取数组的长度：length属性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(name.length);</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组的遍历：for</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; name.length; i++) &#123;</span><br><span class="line">	System.out.println(name[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr[i].length; j++) &#123;</span><br><span class="line">        System.out.println(arr[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>内存结构解析</p>
<p><strong>栈stack</strong>：局部变量</p>
<p>（基本数据类型的变量，一个对象的引用，函数调用的现场保留）</p>
<p><strong>堆heap</strong>：new出来的结构：对象、数组（构造器创建的对象）</p>
<p><strong>方法区</strong>：</p>
<p>​    常量池</p>
<p>​    静态域 （直接的100，“hello“，常量）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(<span class="string">"hello"</span>);</span><br><span class="line"><span class="comment">//str -&gt; 栈  </span></span><br><span class="line"><span class="comment">//new出来的对象 -&gt; 堆  </span></span><br><span class="line"><span class="comment">//"hello"字面量 -&gt; 静态区s</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数组中涉及的常见算法</p>
<p>1.数组元素的赋值（杨辉三角、回形数等）<br>2.求数值型数组中元素的最大值、最小值、平均数、总和等<br>3.数组的复制（需new）、反转、查找（线性查找、二分法查找（必须有序））<br>4.数组元素的排序算法<em>（加粗手写，斜体原理）</em></p>
<blockquote>
<p>●选择排序：直接选择排序、<em>堆排序</em><br>●交换排序：<strong>冒泡排序O(n^2)、快速排序O(nlog2n)</strong><br>●插入排序：直接插入排序、折半插入排序、Shell排序(希尔)<br>●<em>归并排序</em><br>●桶式排序<br>●基数排序</p>
</blockquote>
</li>
<li><p>Array工具类（操作数组的工具类Arrays.XXX）定义在java.util下</p>
<ul>
<li>boolean equals(int[] a, int[] b)  判断两个数组是否相等</li>
<li>String toString(int[] a)  输出数组信息</li>
<li>void fill(int[] a, int val)  将指定值填充到数组之中</li>
<li>void sort(int[] a)  对数组进行排序</li>
<li>int binarySearch(int[] a, int key)  对<strong>排序后</strong>的数组进行二分法检索特定的值(注意是排序后的)</li>
</ul>
</li>
<li><p>数组中常见异常</p>
<p>角标越界异常：ArrayIndexOutOfBoundsExcetion</p>
<p>空指针异常：NullPointerException</p>
</li>
</ul>
<h3 id="补充：eclipse快捷键"><a href="#补充：eclipse快捷键" class="headerlink" title="*补充：eclipse快捷键"></a>*补充：eclipse快捷键</h3><blockquote>
<ul>
<li>1.补全代码的声明：alt + / </li>
<li>2.快速修复: ctrl + 1 </li>
<li>3.批量导包：ctrl + shift + o </li>
<li>4.使用单行注释：ctrl + / </li>
<li>5.使用多行注释： ctrl + shift + / </li>
<li>6.取消多行注释：ctrl + shift + \ </li>
<li>7.复制指定行的代码：ctrl + alt + down 或 ctrl + alt + up </li>
<li>8.删除指定行的代码：ctrl + d </li>
<li>9.上下移动代码：alt + up 或 alt + down </li>
<li>10.切换到下一行代码空位：shift + enter </li>
<li>11.切换到上一行代码空位：ctrl + shift + enter </li>
<li>12.如何查看源码：ctrl + 选中指定的结构 或 ctrl + shift + t </li>
<li>13.退回到前一个编辑的页面：alt + left </li>
<li>14.进入到下一个编辑的页面(针对于上面那条来说的)：alt + right </li>
<li>15.光标选中指定的类，查看继承树结构：ctrl + t </li>
<li>16.复制代码： ctrl + c </li>
<li>17.撤销： ctrl + z </li>
<li>18.反撤销： ctrl + y </li>
<li>19.剪切：ctrl + x </li>
<li>20.粘贴：ctrl + v </li>
<li>21.保存： ctrl + s </li>
<li>22.全选：ctrl + a </li>
<li>23.格式化代码： ctrl + shift + f </li>
<li>24.选中数行，整体往后移动：tab </li>
<li>25.选中数行，整体往前移动：shift + tab </li>
<li>26.在当前类中，显示类结构，并支持搜索指定的方法、属性等：ctrl + o </li>
<li>27.批量修改指定的变量名、方法名、类名等：alt + shift + r </li>
<li>28.选中的结构的大小写的切换：变成大写： ctrl + shift + x </li>
<li>29.选中的结构的大小写的切换：变成小写：ctrl + shift + y </li>
<li>30.调出生成 getter/setter/构造器等结构： alt + shift + s </li>
<li>31.显示当前选择资源(工程 or 文件)的属性：alt + enter </li>
<li>32.快速查找：参照选中的 Word 快速定位到下一个 ：ctrl + k </li>
<li>33.关闭当前窗口：ctrl + w </li>
<li>34.关闭所有的窗口：ctrl + shift + w </li>
<li>35.查看指定的结构使用过的地方：ctrl + alt + g </li>
<li>36.查找与替换：ctrl + f </li>
<li>37.最大化当前的 View：ctrl + m </li>
<li>38.直接定位到当前行的首位：home </li>
<li>39.直接定位到当前行的末位：end</li>
</ul>
</blockquote>
<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="Java类及类的成员："><a href="#Java类及类的成员：" class="headerlink" title="Java类及类的成员："></a>Java类及类的成员：</h2><ul>
<li>属性、方法、构造器；代码块、内部类</li>
</ul>
<h3 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h3><p>面向对象程序设计的重点是类的设计，设计类就是设计类的成员</p>
<h4 id="类的成员"><a href="#类的成员" class="headerlink" title="类的成员"></a>类的成员</h4><ul>
<li>属性：Field = 域、字段 = 成员变量</li>
<li>行为：Method =（成员）方法 = 函数</li>
</ul>
<h4 id="类和对象的使用"><a href="#类和对象的使用" class="headerlink" title="类和对象的使用"></a>类和对象的使用</h4><p>创建类的对象 = 类的实例化 = 实例化类</p>
<p>调用对象的结构（属性、方法）</p>
<ul>
<li>属性：   object.field</li>
<li>方法：   object.method()</li>
</ul>
<h4 id="对象的内存解析"><a href="#对象的内存解析" class="headerlink" title="对象的内存解析"></a>对象的内存解析</h4><ul>
<li><p>堆（Heap）存放对象实例</p>
</li>
<li><p>栈（Stack）存储<strong>局部</strong>变量</p>
</li>
<li><p>方法区（Method Area）存储已被虚拟机加载的类信息、变量、静态变量、即时编译器编译后的代码等</p>
</li>
</ul>
<h4 id="理解万事万物皆对象"><a href="#理解万事万物皆对象" class="headerlink" title="理解万事万物皆对象"></a>理解万事万物皆对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 在Java语言范畴中，我们将功能，结构等封装到类中，通过类的实例化，来调用具体的功能结构。</span><br><span class="line"><span class="number">2</span>. 涉及到Java与前端Html、后端的数据库交互时，前后端的结构在Java层面交互时，都体现为类、对象。</span><br></pre></td></tr></table></figure>
<p>  <em>PS：引用类型的变量，只可能储存两类值，null 或 地址值（含变量的类型）</em></p>
<p><strong>匿名对象的使用，只能调用一次</strong></p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><h4 id="属性（成员变量）VS-局部变量"><a href="#属性（成员变量）VS-局部变量" class="headerlink" title="属性（成员变量）VS 局部变量"></a>属性（成员变量）VS 局部变量</h4><ul>
<li><p><strong>相同点</strong></p>
<p>定义变量格式相同，先声明后使用，且都有对应的作用域</p>
</li>
<li><p><strong>不同点</strong></p>
<ol>
<li><p>声明的位置不同</p>
<p>属性：直接定义在类的{}中</p>
<p>局部变量：声明在方法内、方法形参、代码块内、构造器形参、构造器内部的变量</p>
</li>
<li><p>权限修饰符的不同</p>
<p>属性：可以在声明属性时，使用权限修饰符指明其权限</p>
<p>局部变量：不可以使用</p>
</li>
<li><p>默认初始化值的情况</p>
<p>属性：类的属性根据类型都有默认初始化值</p>
<p>局部变量：无初始化值</p>
</li>
<li><p>在内存中加载的位置</p>
<p>属性：堆空间（非static）</p>
<p>局部变量：栈空间</p>
</li>
</ol>
</li>
</ul>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h4 id="方法重载-overload"><a href="#方法重载-overload" class="headerlink" title="方法重载(overload)"></a>方法重载(overload)</h4><p>定义：在同一个类中允许存在一个以上的同名方法，只要他们的参数个数或者类型不同即可。（跟方法的权限修饰符、返回值类型、形参变量名、方法体都没有关系）</p>
<p><em>“两同一不同”：同一个类，同一个方法名。参数列表不同。</em></p>
<h4 id="可变个数的形参"><a href="#可变个数的形参" class="headerlink" title="可变个数的形参"></a>可变个数的形参</h4><p>格式：数据类型 … 变量名， 必须申明在末尾，可传入参数个数为0个及以上</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(String[] strs)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(String ... strs)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">        System.out.println(strs[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="方法参数的值传递机制"><a href="#方法参数的值传递机制" class="headerlink" title="方法参数的值传递机制"></a>方法参数的值传递机制</h4><p>变量赋值：</p>
<ul>
<li>基本数据类型：赋值的是变量所保存的<strong>数据值</strong></li>
<li>引用数据类型：赋值变量所保存数据的<strong>地址值</strong></li>
</ul>
<h3 id="类的成员之三：构造器（构造方法constructor）"><a href="#类的成员之三：构造器（构造方法constructor）" class="headerlink" title="类的成员之三：构造器（构造方法constructor）"></a>类的成员之三：构造器（构造方法constructor）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">//构建类的对象：new + 构造器</span></span><br></pre></td></tr></table></figure>
<p>作用：创建对象；给对象进行初始化</p>
<p>格式：权限修饰符 + 类名(形参列表){}</p>
<p>ps：构造器可重载，且一旦显示定义了类的构造器之后，系统不再提供默认空参构造器。（<strong>必须自己加</strong>，一个类中至少有一个构造器）</p>
<h3 id="类的成员之四：代码块（初始化块）"><a href="#类的成员之四：代码块（初始化块）" class="headerlink" title="类的成员之四：代码块（初始化块）"></a>类的成员之四：代码块（初始化块）</h3><p>就是一对大括号，用来初始化类、对象，<strong>若有修饰，只能是static</strong>，</p>
<ul>
<li>静态代码块<ul>
<li>内部可以有输出语句，并<strong>随着类的<em>加载而执行</em></strong>（不只是加载，<strong>最先</strong>甚至先于main方法），且<strong>只执行一次</strong>。</li>
<li>若多个静态代码块，按声明顺序依次执行，总<strong>优先于非静态代码块</strong></li>
<li>静态代码块内只能静态的属性、方法，不能调用非静态的结构</li>
<li>作用：<strong>初始化类的信息</strong>（<em>我一行写不下</em>，应用场景如连接数据池）</li>
</ul>
</li>
<li><p>非静态代码块</p>
<ul>
<li><p>内部可以有输出语句，<strong>随着每次对象的创建而执行</strong>。</p>
</li>
<li><p>非静态代码块内<strong>既能</strong>静态的属性、方法，<strong>也能</strong>调用非静态的结构</p>
</li>
</ul>
</li>
</ul>
<p><strong>调用顺序：</strong>    </p>
<p><em>代码块的执行先于构造器</em>，甚至先于main方法<strong>（由父及子，静态先行）</strong><br>    Root的静态初始化块<br>    Mid的静态初始化块<br>    Leaf的静态初始化块<br>    Root的普通初始化块<br>    Root的无参数的构造器<br>    Mid的普通初始化块<br>    Mid的无参数的构造器<br>    Mid的带参数构造器，其参数值：“”<br>    Leaf的普通初始化块<br>    Leaf的构造器</p>
<h4 id="属性赋值的相关问题："><a href="#属性赋值的相关问题：" class="headerlink" title="属性赋值的相关问题："></a>属性赋值的相关问题：</h4><p>可以对属性进行赋值的位置：</p>
<ol>
<li>默认初始化</li>
<li>显式初始化</li>
<li>构造器中初始化</li>
<li>有对象后，通过“对象.属性”或“对象.方法”的方法进行赋值</li>
<li>在代码块中进行赋值</li>
</ol>
<p>属性赋值的先后顺序：1 -&gt; <strong>2 / 5</strong> （看谁后写）-&gt; 3 -&gt; 4</p>
<h3 id="类的成员之五：内部类"><a href="#类的成员之五：内部类" class="headerlink" title="类的成员之五：内部类"></a>类的成员之五：内部类</h3><p>类A声明在类B中，A为内部类</p>
<p>分类：成员内部类 （静态、非静态）  VS  局部内部类（方法、代码块、构造器内）</p>
<p>成员内部类：</p>
<ul>
<li>作为外部类的成员：调用外部类的结构、<strong>可以被static修饰</strong>、可以被四种权限修饰符修饰</li>
<li>作为一个类：内可以定义属性、方法、构造器等，可以被final修饰，可以被abstract修饰</li>
<li>相关使用细节：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如何实例化成员内部类的对象：</span></span><br><span class="line"><span class="comment">//创建静态成员内部类对象</span></span><br><span class="line">Person.Dog dog = <span class="keyword">new</span> Person.Dog();</span><br><span class="line">dog.show();</span><br><span class="line"><span class="comment">//创建非静态成员内部类对象</span></span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line">Person.Bird bird = p.new Person.Bird();</span><br><span class="line">bird.show();</span><br><span class="line"></span><br><span class="line"><span class="comment">//如何在成员内部类中区分调用外部类的结构：</span></span><br><span class="line"><span class="comment">//方法的形参</span></span><br><span class="line">name</span><br><span class="line"><span class="comment">//内部类的形参</span></span><br><span class="line"><span class="keyword">this</span>.name</span><br><span class="line"><span class="comment">//外部类的形参</span></span><br><span class="line">Person.<span class="keyword">this</span>.name</span><br></pre></td></tr></table></figure>
<p>局部内部类 的方法中，如果调用局部内部类所声明的方法中的局部变量， 要求此 <strong>局部变量</strong> 声明为 <strong>final</strong> 的（JDK8以后可以省略）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开发中局部内部类的使用：</span></span><br><span class="line"><span class="comment">//eg：返回一个实现了XXX接口的类的对象</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Comparable <span class="title">getComparable</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//创建一个实现了Comparable接口的类:局部内部类</span></span><br><span class="line">		<span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//		class MyComparable implements Comparable&#123;</span></span><br><span class="line"><span class="comment">//			@Override</span></span><br><span class="line"><span class="comment">//			public int compareTo(Object o) &#123;</span></span><br><span class="line"><span class="comment">//				return 0;</span></span><br><span class="line"><span class="comment">//			&#125;</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line"><span class="comment">//		return new MyComparable();</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//方式二：</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Comparable()&#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;;	</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h2 id="面向对象的三个特征"><a href="#面向对象的三个特征" class="headerlink" title="面向对象的三个特征"></a>面向对象的三个特征</h2><p>封装性、继承性、多态性、（抽象性）</p>
<h3 id="封装与隐藏"><a href="#封装与隐藏" class="headerlink" title="封装与隐藏"></a>封装与隐藏</h3><h4 id="体现"><a href="#体现" class="headerlink" title="体现:"></a>体现:</h4><ul>
<li>将类的属性XXX私有化private，提供公有化public方法来获取getXXX和设置属性setXXX的值。</li>
<li>不对外暴露的私有的方法</li>
<li>单例模式（将构造器私有化）</li>
<li>如果不希望 类 在包外被使用可以设置成缺省</li>
</ul>
<h4 id="目标：高内聚，低耦合"><a href="#目标：高内聚，低耦合" class="headerlink" title="目标：高内聚，低耦合"></a>目标：高内聚，低耦合</h4><p>PS：封装性的体现需要权限修饰符来体现。修饰 类 只能public与缺省</p>
<h4 id="权限修饰符（从小到大）"><a href="#权限修饰符（从小到大）" class="headerlink" title="权限修饰符（从小到大）"></a>权限修饰符（从小到大）</h4><table>
<thead>
<tr>
<th>修饰符</th>
<th>类内部</th>
<th>同一个包</th>
<th>不同包的子类</th>
<th>同一个工程</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>√</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>（缺省）</td>
<td>√</td>
<td>√</td>
<td></td>
<td></td>
</tr>
<tr>
<td>protect</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td></td>
</tr>
<tr>
<td>public</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody>
</table>
<h3 id="继承性inheritance"><a href="#继承性inheritance" class="headerlink" title="继承性inheritance"></a>继承性inheritance</h3><h4 id="好处："><a href="#好处：" class="headerlink" title="好处："></a>好处：</h4><ul>
<li>减少了代码的多余，提高代码的复用性</li>
<li>便于功能的扩展</li>
<li>为之后多态性的使用，提供了前提</li>
</ul>
<h4 id="格式："><a href="#格式：" class="headerlink" title="格式："></a>格式：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>A:子类、派生类、subclass</li>
<li>B:父类、超类、superclass</li>
</ul>
<p>体现：一旦子类A继承父类B以后，子类A中就获取了父类B中声明的<strong>所有的属性和方法</strong>。(private的属性也继承到了，只是因为封装性的影响不能直接调用)</p>
<p>ps：Java只支持单继承和多继承，不允许多重继承，<strong>一个子类只能有一个父类。</strong>如果没有显式的声明一个类的父类的话，则此类继承于java.lang.Object类，所有Java类都直接或间接继承了java.lang.Object类。</p>
<h4 id="方法的重写-override-overwrite"><a href="#方法的重写-override-overwrite" class="headerlink" title="方法的重写(override/overwrite)"></a>方法的重写(override/overwrite)</h4><p>定义：在子类中根据需要对父类中的方法进行改造。</p>
<p>应用：重写以后，当创建子类对象，调用同名方法时调用的是重写的方法。</p>
<p>规定：（<em>建议：开发中直接从父类粘贴过来</em>）</p>
<ol>
<li><p>子类重写的<strong>方法名与形参列表与被重写一样</strong></p>
</li>
<li><p>子类重写的方法的<strong>权限修饰符不小于</strong>父类被重写的方法的权限修饰符</p>
<p>ps：<em>特殊情况，子类中不能重写父类中声明为private的方法。</em></p>
</li>
<li><p>返回类型：</p>
<ul>
<li>父类被重写方法的返回类型为void，子类重写的方法只能返回void；</li>
<li>父类被重写方法的返回类型为基本类型，子类重写的方法只能返回<strong>相同的</strong>基本类型；</li>
<li>父类被重写方法的返回类型为A类型，子类重写的方法可以返回A类型或A的子类；</li>
</ul>
</li>
<li><p>异常类型：子类重写的方法的<strong>异常类型不大于</strong>父类被重写的方法抛出的异常类型</p>
</li>
</ol>
<p>特别注意：子类和父类的同名同参数的方法要么声明非static（考虑重写），要么都声明为static（<strong>不是重写</strong>，静态方法不能被覆盖）</p>
<p><strong>区分重载和重写：</strong><br>①二者的概念：<br>②重载和重写的具体规则<br>③重敢：不表现为多态性重写：表现为多态性</p>
<h3 id="多态性polymorphism"><a href="#多态性polymorphism" class="headerlink" title="多态性polymorphism"></a>多态性polymorphism</h3><p>定义：一个事物的多种形态</p>
<p>在Java中的体现：对象的多态性，<strong><em>父类的引用指向子类的对象</em></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person p1 = <span class="keyword">new</span> Man();</span><br><span class="line">Person p2 = <span class="keyword">new</span> Woman();</span><br><span class="line"><span class="comment">//子类的对象赋给父类的引用</span></span><br></pre></td></tr></table></figure>
<h4 id="多态的使用："><a href="#多态的使用：" class="headerlink" title="多态的使用："></a>多态的使用：</h4><p><em>在编译期，只能调用父类中声明的方法，在运行期，实际执行的是子类中的重写的方法。</em></p>
<h4 id="虚拟方法调用（Virtual-Method-Invocation）"><a href="#虚拟方法调用（Virtual-Method-Invocation）" class="headerlink" title="虚拟方法调用（Virtual Method Invocation）"></a>虚拟方法调用（Virtual Method Invocation）</h4><p>当调用子父类同名同参数的方法时，实际执行的是子类重写父类的方法</p>
<p>Java引用变量有两种类型：编译时类型 和 运行时类型。</p>
<p><strong>调用方法时，编译看左边，执行看右边</strong>。<strong>–动态绑定</strong></p>
<p>多态是运行时行为。重载是编译是就已经确定了，“早绑定”,”静态绑定”。</p>
<blockquote>
<p>Bruce Eckel:”不要犯傻，如果它不是晚绑定，就不是多态。”</p>
</blockquote>
<h4 id="多态性的使用前提："><a href="#多态性的使用前提：" class="headerlink" title="多态性的使用前提："></a>多态性的使用前提：</h4><ul>
<li>类的继承关系</li>
<li>方法的重写</li>
</ul>
<p>ps： <strong>对象的多态性，只适用于方法，不适用于属性（编译和运行都看左边）</strong> <strong>1001</strong> VS 1002</p>
<h4 id="向下转型（使用强制类型转换符）"><a href="#向下转型（使用强制类型转换符）" class="headerlink" title="向下转型（使用强制类型转换符）"></a>向下转型（使用强制类型转换符）</h4><p>编译时只能调用父类声明的属性和方法，如何调用子类特有的属性和方法？ 使用强制类型转换。</p>
<p>使用强制转换时，可能出现ClassCastException的异常。</p>
<p>使用instanceof进行检测：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> A) &#123;</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">//判断对象是否是A的实例，如是返回true。</span></span><br></pre></td></tr></table></figure>
<p>1.若子类重写了父类方法，就意味着子类里定义的方法<strong>彻底覆盖</strong>了父类里的同名方法，系统将不可能把父类里的方法转移到子类中。<br>2.对于实例变量，则不存在这样的现象，即使子类里定义了与父类完全相同的实例变量，这个实例变量依然不可能覆盖父类中定义的实例变量。</p>
<h2 id="其他关键字："><a href="#其他关键字：" class="headerlink" title="其他关键字："></a>其他关键字：</h2><p>this、super、static、final、abstract、interface、package、import与相关补充知识</p>
<h4 id="this："><a href="#this：" class="headerlink" title="this："></a>this：</h4><p>理解为 当前对象，通常可以省略。可以调用：属性（用以区分局部变量和属性）、方法和构造器。</p>
<p><strong>调用本类中指定的构造器   <em>this(形参列表)</em></strong>   减少代码重复，且必须放在构造器内第一行，最多只能声明一个来调用其他构造器。</p>
<p>ps: <em>import static导入指定类或接口中的静态结构：属性、方法</em></p>
<h4 id="super："><a href="#super：" class="headerlink" title="super："></a>super：</h4><p>理解为 父类的，可以调用：属性、方法和构造器。</p>
<p>通常可以省略，<strong>当子类和父类中定义同名的属性时，需要显式</strong>的super</p>
<p>特殊情况， <strong>当子类重写父类的方法时，需要调用父类中的方法时，需要显式的super</strong></p>
<p>super调用父类构造器：在子类构造器中显式的“super(参数列表)”，且<strong>必须声明在子类构造器中的首行</strong></p>
<p>在类的构造器中，针对“super(参数列表)”和“this(参数列表)”只能二选一，构造器中<strong>没有，默认super(空参)</strong></p>
<p>在类的多个构造器中，至少有一个类的构造器使用了super(参数列表)，调用父类的构造器。</p>
<p>虽然创建子类时调用了父类的构造器，只是创建了一个对象。</p>
<h4 id="static："><a href="#static：" class="headerlink" title="static："></a>static：</h4><p>某些<strong>特定的数据在内存中只有一份</strong>。eg：每个中国人都共享中国这个国籍。</p>
<p>修饰：属性、方法、代码块、内部类（注意构造器不行）</p>
<p>修饰属性：静态变量（类变量）</p>
<ul>
<li>属性按是否有static修饰又分为：静态属性 VS 非静态属性<em>（实例变量）</em></li>
<li>实例变量：当创建类的多个对象，每个对象都独立拥有<strong>一套类中的非静态属性</strong>，当修改某一个对象的静态属性时，不会导致其他对象中同样的属性值的修改。</li>
<li>静态属性：创建类的多个对象，每个对象都<strong>共享同一个静态属性</strong>。当修改某一个对象的静态属性时，会导致其他对象调用此静态变量时，属性值是修改的。</li>
<li>PS：<strong>静态变量（类变量）随类的加载而加载，且早于对象的加载</strong>。因此可以通过”<strong>类.静态变量</strong>“进行调用。由于类只会加载一次 ，则静态变量在内存中也<strong>只会存在一份</strong>。</li>
</ul>
<p>举例：System.out   / Math.PI</p>
<p>修饰方法：静态方法</p>
<ul>
<li>可以通过”<strong>类.静态方法</strong>“进行调用</li>
<li>静态方法只能调用静态的方法或属性，非静态则都可以。</li>
<li><strong>在静态方法中，不能使用this，super关键字</strong></li>
</ul>
<p>static应用场景：</p>
<ul>
<li>属性是可以被多个对象共享，不会随着对象的不同而改变</li>
<li><strong>操作静态属性的方法，设置成static；工具类中的方法，习惯上声明为static</strong></li>
</ul>
<h4 id="final："><a href="#final：" class="headerlink" title="final："></a>final：</h4><p>可以修饰的结构：类、方法、变量</p>
<ul>
<li>修饰类：<strong>此类不能被其他类继承</strong>。eg：String类、System类、StringBuffer类。</li>
<li>修饰方法：<strong>此方法不能被重写</strong>。eg：Object类中的getClass()。</li>
<li>修饰变量：此“变量”被称为一个常量。<ul>
<li>修饰属性，之后（必须初始化）可以考虑的赋值位置有：显式初始化、代码块中初始化、构造器中初始化、不可以在方法中赋值（因为未调用）。</li>
<li>修饰局部变量：常量不可修改，尤其修饰形参时，表明此形参是常量，方法内不能重新赋值。</li>
</ul>
</li>
<li>static final 修饰属性：全局常量</li>
</ul>
<h4 id="abstract：抽象类与抽象方法"><a href="#abstract：抽象类与抽象方法" class="headerlink" title="abstract：抽象类与抽象方法"></a>abstract：抽象类与抽象方法</h4><p>修饰的结构：类、方法</p>
<ul>
<li>修饰类：抽象类，<strong>不可实例化</strong>，<strong>类中一定要构造器</strong>，便于子类实例化时调用（涉及：子类对象实例化的全过程）开发中，都会提供抽象类的子类。让子类对象实例化，完成相关的。</li>
<li>修饰方法：抽象方法只有方法的声明，没有方法体。<strong>包含抽象方法的类一定是一个抽象类，抽象类中可以没有抽象方法。</strong>若子类重写了父类的所有的抽象方法后，此子类方可实例化。<strong>若未重写，则该子类也是一个抽象类，需要abstract修饰</strong>。（子类必须重写后才可实例化）</li>
<li>PS：abstract不可以用来修饰属性、构造器等。abstract不能修饰私有方法、静态方法、final的类与方法。</li>
</ul>
<p>抽象类的匿名子类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Worker worker = <span class="keyword">new</span> Worker();</span><br><span class="line">method1(worker);<span class="comment">//非匿名的类非匿名对象</span></span><br><span class="line"></span><br><span class="line">method1(<span class="keyword">new</span> Worker());<span class="comment">//非匿名的类匿名的对象</span></span><br><span class="line"></span><br><span class="line">Person p = <span class="keyword">new</span> Person()&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">breath</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//匿名子类的对象：p</span></span><br><span class="line"></span><br><span class="line">method1(<span class="keyword">new</span> Person()&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">breath</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);<span class="comment">//匿名子类的匿名对象 --- 省事</span></span><br></pre></td></tr></table></figure>
<h4 id="接口（interface）"><a href="#接口（interface）" class="headerlink" title="接口（interface）"></a>接口（interface）</h4><ul>
<li><p><strong>与类并列的结构，一定程度解决类的单继承性的缺陷</strong>。本质是契约、<strong>规范</strong>、标准。（JDK7及以前）接口是一种特殊的抽象类，这种抽象类只包含常量和方法的定义。</p>
</li>
<li><p><strong>继承是一个“是不是”的关系，而接口实现的是“能不能”的关系。</strong>（例如学生和运动员都能学习）</p>
</li>
<li><p>接口中的成员：</p>
<ul>
<li>JDK1.7及以前，只能定义全局变量和抽象方法（默认缺省也是）<ul>
<li><strong>全局变量</strong>：<strong><em>public static final</em></strong>的</li>
<li><strong>抽象方法</strong>：<strong>public abstract</strong>的</li>
</ul>
</li>
<li>JDK8，除了定义以上之外，还可以定义静态static方法、默认default方法。</li>
</ul>
</li>
<li><p><strong>接口中不能定义构造器</strong>！意味着<strong>接口不能实例化</strong></p>
</li>
<li><p>Java开发中，接口通过让类去实现（<strong>implement</strong>）的方法来使用（<strong>面向接口编程</strong>），若实现类<strong>覆盖了接口的所有</strong>的抽象方法后，此实现类方可实例化。若未重写，则该实现类也是一个抽象类。</p>
</li>
<li><p><strong>Java类可以实现多个接口（多实现），弥补类的单继承性的局限性</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先写extends再写implements</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AA</span> <span class="keyword">extends</span> <span class="title">BB</span> <span class="keyword">implements</span> <span class="title">CC</span>,<span class="title">DD</span>,<span class="title">EE</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接口与接口之间可以继承，而且可以<em>多继承</em>。</strong></p>
</li>
<li><p>接口的具体使用，体现了多态性、</p>
</li>
</ul>
<p><strong>Java8中关于接口的改进</strong></p>
<ol>
<li><p><strong>接口中定义的静态方法，只能通过接口来调用</strong>（像工具类）</p>
</li>
<li><p><strong>通过实现类的对象，可以调用接口中的默认方法</strong>。</p>
</li>
<li><p><strong>类优先原则</strong>：若子类（或实现类）继承的父类和实现的接口中声明了同名同参数的<strong>方法</strong>（属性bushi），那么子类在没有重写此方法的情况下，默认调用的是<strong>父类</strong>的同名同参数的方法。</p>
</li>
<li><p><strong>接口冲突</strong>：若实现类实现了多个接口，而多个接口都定义了同名同参数的<strong>默认</strong>方法，在实现类没有重写的情况下，报错。因此实现类必须重写此方法。</p>
</li>
<li><p>如何在子类（实现类）的方法中调用父类、接口中被重写的（默认）方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">method();<span class="comment">//调用自己重写的方法</span></span><br><span class="line"><span class="keyword">super</span>.method();<span class="comment">//调用父类中声明的</span></span><br><span class="line">Interface1.<span class="keyword">super</span>.method();<span class="comment">//调用接口中的默认方法</span></span><br><span class="line">Interface1.method();<span class="comment">//直接调用接口中的静态方法</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>接口的应用：</strong></p>
<ol>
<li><p><strong>代理模式</strong>（Proxy）</p>
<p><img src="https://images2017.cnblogs.com/blog/1071931/201801/1071931-20180108134122472-1822105846.png" alt="代理模式"></p>
<p><strong>为其他对象提供一种代理以控制对这个对象的访问</strong>，<a href="https://www.cnblogs.com/daniels/p/8242592.html" target="_blank" rel="noopener">另一个博文</a>（中介，歌手经纪人）应用场景：</p>
<ul>
<li><p>安全代理</p>
</li>
<li><p>远程代理</p>
</li>
<li><p>延迟加载</p>
</li>
</ul>
</li>
</ol>
<p>   分类：</p>
<ul>
<li>静态代理（静态定义代理类）</li>
<li>动态代理（动态生存代理类）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口的应用：代理模式 举例</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NetWorkTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Server server = <span class="keyword">new</span> Server();</span><br><span class="line"><span class="comment">//		server.browse();</span></span><br><span class="line">		ProxyServer proxyServer = <span class="keyword">new</span> ProxyServer(server);</span><br><span class="line">		proxyServer.browse();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">NetWork</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Server</span> <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"真实的服务器访问网络"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyServer</span> <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> NetWork work;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ProxyServer</span><span class="params">(NetWork work)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.work = work;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"联网之前的检查工作"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		check();</span><br><span class="line">		work.browse();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>工厂模式</strong> Factory</li>
</ol>
<p><strong>创建者和调用者分离</strong>。</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><h4 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h4><p>是一种Java语言写成的<strong>可重用组件</strong>，符合以下标准的Java类：</p>
<ul>
<li><strong>类是公共的</strong></li>
<li><strong>有一个无参的公共的构造器</strong></li>
<li><strong>有属性，且有对应的get、set方法</strong></li>
</ul>
<h3 id="Debug调试"><a href="#Debug调试" class="headerlink" title="Debug调试"></a>Debug调试</h3><h4 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h4><table>
<thead>
<tr>
<th>操作</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>step into 跳入(f5)</td>
<td>进入当前行所调用的方法中</td>
</tr>
<tr>
<td>step over 跳过(f6)</td>
<td>执行完当前行的语句，进入下一行</td>
</tr>
<tr>
<td>step return 跳回(f7)</td>
<td>执行完当前行所在的方法，进入下一行</td>
</tr>
<tr>
<td>drop to frame</td>
<td>回到当前行所在方法的第一行</td>
</tr>
<tr>
<td>resume恢复</td>
<td>执行完当前行所在断点的所有代码，进入 下一个断点，如果没有就结束</td>
</tr>
<tr>
<td>Terminate 终止</td>
<td>停止 JVM, 后面的程序不会再执行</td>
</tr>
</tbody>
</table>
<h4 id="JUnit单元测试方法"><a href="#JUnit单元测试方法" class="headerlink" title="JUnit单元测试方法"></a>JUnit单元测试方法</h4><ul>
<li><p>选中当前工程 - 右键选择：build path - add libraries - JUnit 4 - 下一步</p>
</li>
<li><p>创建Java类</p>
<p>（要求：①此类是public ②此类提供公共空参构造器）进行单元测试</p>
</li>
<li><p>在此类中声明单元测试方法</p>
<p>要求权限为 public，没有返回值 且 没有形参</p>
</li>
<li><p>PS：需要声明注释<strong>@Test</strong>，并导入包import org.junit.Test; 左键双击 <strong>单元测试方法名</strong>，右键：run as - JUnit Test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JunitTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>若执行结果无异常为<strong>绿色</strong>，异常为<strong>红</strong>。</p>
</li>
</ul>
<h3 id="Object类："><a href="#Object类：" class="headerlink" title="Object类："></a>Object类：</h3><p>只定义了一个空参构造器</p>
<p>方法: clone()    / getClass()   / finalize()   /hashCode()   / wait()   / notify()   / notifyAll()   / equals()    / toString()</p>
<h4 id="VS-equals"><a href="#VS-equals" class="headerlink" title="== VS equals()"></a>== VS equals()</h4><ul>
<li><p>== 是<strong>运算符</strong>，可以用于 基本数据 与 引用类型变量，前者比较保存的数据是否相同（<strong>不一定要类型相同，但必须一致</strong>，否则编译不通过），后者比较地址值是否相同，是否引用指向同一个对象</p>
</li>
<li><p>equals() 是一个<strong>方法</strong>，<strong>只能用于 引用数据类型变量 的比较</strong>，<code>*object类中定义的equals() 和 == 的作用是相同的*</code>（未重写）。像String、Date、File、包装类等都重写了Object类中的equals()方法，<strong>重写以后比较的是两个对象的实体内容是否相同</strong>。若自己定义的类也要有这样的功能，比较对象的实体内容，应该重写equals()方法。<strong><em>（equals()建议反着写，比如：”反着来”.equals(str) ,这样可以避免str可能是空指针的情况！）</em></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重写的原则，比较两个对象的实体内容是否相同（举例：name和age）</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> XXX) &#123;</span><br><span class="line">        XXX xxx = (XXX)obj;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age == xxx.age &amp;&amp; <span class="keyword">this</span>.name.equals(xxx.name);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实际使用自动生成 和setter、getter一样</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="toString-方法"><a href="#toString-方法" class="headerlink" title="toString()方法"></a>toString()方法</h4><ul>
<li>输出一个 引用变量 时，实际上输出的是对象的toString()</li>
<li>像String、Date、File、包装类等都重写了Object类中的toString()方法，<strong>返回“实体内容”信息</strong></li>
<li>自定义类也可以重写该方法。</li>
</ul>
<h4 id="main-方法"><a href="#main-方法" class="headerlink" title="main()方法"></a>main()<strong>方法</strong></h4><ul>
<li>作为程序的入口</li>
<li>也是一个普通的<strong>静态</strong>方法（只能调用静态属性方法，不然造类：<strong>通过实例化类对象调用普通属性与方法</strong>）</li>
<li>可以作为与控制台交互的方式（java xxxDemo “str”）因为有参数String[] args</li>
</ul>
<h4 id="包装类-Wrapper-的使用"><a href="#包装类-Wrapper-的使用" class="headerlink" title="包装类(Wrapper)的使用"></a>包装类(Wrapper)的使用</h4><ul>
<li><p>针对八种基本数据类型定义相应的引用类型-包装类（封装类），具备类的特征，就可以调用类中的方法，实现真正的面向对象。</p>
<p>| 基本数据类型 | 包装类        |<br>| ———— | ————- |<br>| byte         | Byte          |<br>| short        | Short         |<br>| int          | <strong>Integer</strong>   |<br>| long         | Long          |<br>| float        | Float         |<br>| double       | Double        |<br>| boolean      | Boolean       |<br>| char         | <strong>Character</strong> |</p>
</li>
<li><p>Byte  Short  Integer  Long  Float  Double 父类为Number</p>
</li>
<li><p><strong>基本数据类型、包装类、String三者的相互转换</strong></p>
<ol>
<li><p>包装类 -&gt; 基本数据类型：调用包装类的xxxValue()</p>
</li>
<li><p>基本数据类型 -&gt; 包装类：调用包装类的构造器new()</p>
</li>
<li><p>基本数据类型、包装类 -&gt; String类型：调用String重载的valueOf(Xxx xxx)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num1 = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//方式一：连接运算</span></span><br><span class="line">String str1 = num1 + <span class="string">""</span>;</span><br><span class="line"><span class="comment">//方式二：调用String重载的valueOf(Xxx xxx)</span></span><br><span class="line">String str2 = String.valueOf(num1);</span><br></pre></td></tr></table></figure>
</li>
<li><p>String类型 -&gt; 基本数据类型、包装类：调用包装类的parseXxx()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str3 = <span class="string">"1234"</span>;</span><br><span class="line"><span class="keyword">int</span> num3 = Integer.parseInt(str3);</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>自动装箱与拆箱(JDK5.0以后)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">Integer in1 = num1; <span class="comment">//自动装箱</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num3 = in1;<span class="comment">//自动拆箱</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 关于包装类的比较迷惑的问题</span></span><br><span class="line">Object o1 = <span class="keyword">true</span> ? <span class="keyword">new</span> Integer(<span class="number">1</span>) : <span class="keyword">new</span> Double(<span class="number">2.0</span>);</span><br><span class="line">System.out.println(o1); <span class="comment">//1.0 提升了！！</span></span><br><span class="line">Object o2;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">    o2 = <span class="keyword">new</span> Integer(<span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="keyword">new</span> Double(<span class="number">2.0</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(o1); <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Integer i = <span class="keyword">new</span> Integer(<span class="number">1</span>);</span><br><span class="line">Integer j = <span class="keyword">new</span> Integer(<span class="number">1</span>);</span><br><span class="line">System.out.println(i == j); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">Integer m = <span class="number">1</span>;</span><br><span class="line">Integer n = <span class="number">1</span>;</span><br><span class="line">System.out.println(m == n); <span class="comment">//true</span></span><br><span class="line"><span class="comment">// Integer内部定义了IntegerCache结构，其中定义了Integer[]</span></span><br><span class="line"><span class="comment">//保存了-128~127,如果使用自动装箱时，直接调用。</span></span><br><span class="line"><span class="comment">//128~127范围内时，可以直接使用数组中的元素，不用再去new了。目的，提高效率</span></span><br><span class="line"></span><br><span class="line">Integer x = <span class="number">128</span>;</span><br><span class="line">Integer y = <span class="number">128</span>;</span><br><span class="line">System.out.println(x == y); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><p>是在大量实践中总结和理论化后优选的代码结构、编程风格以及解决问题的思考方式。“<strong>套路</strong>”</p>
<h4 id="单例-Singleton-设计模式"><a href="#单例-Singleton-设计模式" class="headerlink" title="单例(Singleton)设计模式"></a>单例(Singleton)设计模式</h4><p>只能存在一个对象实例，好处减少了系统性能的开销（注意：<em>学习时由static延申</em>）</p>
<p>实现一：<strong>饿汉式</strong>       （线程安全）</p>
<ol>
<li><p>私有化类的构造器</p>
</li>
<li><p>内部创建类的对象（private static）</p>
</li>
<li><p>提供公共的方法（public static），返回类的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Bank</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Bank instance = <span class="keyword">new</span> Bank();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>实现二：<strong>懒汉式</strong>    （延迟对象的创建）</p>
<ol>
<li><p>私有化类的构造器</p>
</li>
<li><p>声明当前类对象（private static），没有初始化null</p>
</li>
<li><p>声明public、static的返回当前类对象的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Order</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Order instance = <span class="keyword">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Order <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">        instance = <span class="keyword">new</span> Order();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>饿汉式 VS 懒汉式</p>
<p>区别：<strong>懒汉式好处延迟对象的创建</strong>，<strong>饿汉式坏处，对象加载时间太长</strong>，<strong>但其是线程安全的</strong></p>
<p>使用场景：</p>
<ul>
<li>网站的计数器</li>
<li>应用程序的日志应用</li>
<li>数据库连接池</li>
<li>读取配置文件的类</li>
<li>Application也是单例的典型应用</li>
<li>Windows的Task Manager（任务管理器）</li>
<li>Windows中的Recycle Bin（回收站）</li>
</ul>
<h4 id="模板方法设计模式（TemplateMethod）"><a href="#模板方法设计模式（TemplateMethod）" class="headerlink" title="模板方法设计模式（TemplateMethod）"></a>模板方法设计模式（TemplateMethod）</h4><p><strong>抽象类</strong>体现的就是一种模板模式的设计，抽象类作为多个子类的通用模板，子类在抽象类的基础上进行拓展、改造，但子类总体上会保留抽象类的行为方式。</p>
<p>解决的问题：</p>
<ul>
<li>当功能内部一部分实现是确定的，一部分实现是不确定的。这是可以把不确定部分暴露出来，让子类去实现。</li>
<li>在软件开发中实现一个算法时，整体步骤很确定、通用，这些步骤在父类中写好，但部分易变，可以将该部分抽象出来，供不同子类去实现。</li>
</ul>
<h4 id="MVC设计模式"><a href="#MVC设计模式" class="headerlink" title="MVC设计模式"></a>MVC设计模式</h4><p>模型层 model：主要处理数据</p>
<ul>
<li>数据对象封装： model.bean/domain</li>
<li>数据库操作类： model.dao</li>
<li>数据库： model.db</li>
</ul>
<p>视图层 view： 显示数据</p>
<ul>
<li>相关工具类： view.utils</li>
<li>自定义view： view.ui</li>
</ul>
<p>控制层 controller： 处理业务逻辑</p>
<ul>
<li>应用界面相关： controller.activity</li>
<li>存放fragment： controller.fragment</li>
<li>显示列表的适配器： controller.adapter</li>
<li>服务相关的： controller.service</li>
<li>抽取的基类： controller.base</li>
</ul>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><h3 id="概述与体系结构"><a href="#概述与体系结构" class="headerlink" title="概述与体系结构"></a>概述与体系结构</h3><p>开发过程中的 <strong>语法错误</strong> 和 <strong>逻辑错误</strong> <strong>不是异常</strong>。</p>
<p>执行过程中出现的异常分为两类：</p>
<ul>
<li>Error：Java虚拟机无法解决的严重问题。eg：StackOverflowError 栈溢出  和  OutOfMemoryError 堆溢出。<em>一般不编写针对性的代码进行处理。</em></li>
<li>Exception：其他因编程错误或偶然的外在因素导致的一般性问题，可以使用针对性的代码进行处理。又分为<strong>编译时异常</strong>（受检checked异常） VS  <strong>运行时异常</strong>（非受检unchecked异常，RuntimeException）</li>
</ul>
<h3 id="异常处理机制"><a href="#异常处理机制" class="headerlink" title="异常处理机制"></a>异常处理机制</h3><h4 id="抓抛模型："><a href="#抓抛模型：" class="headerlink" title="抓抛模型："></a>抓抛模型：</h4><ol>
<li><p>“抛”：程序在正常执行中，一旦出现异常就会在代码处生成一个对应异常类的对象，并抛出。之后的代码不再执行。</p>
<p>关于<strong>异常对象</strong>的产生：</p>
<ul>
<li><p>系统自动生成的异常对象</p>
</li>
<li><p>手动的生成一个异常对象，并抛出（<strong>throw</strong>）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"nnn"</span>);</span><br><span class="line"><span class="comment">//自身并不输出nnn，被catch后.getMessage才有</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>‘’抓“：可以理解为异常的处理方式，如下两种方式：</p>
</li>
</ol>
<h4 id="①-try-catch-finally"><a href="#①-try-catch-finally" class="headerlink" title="① try-catch-finally"></a>① try-catch-finally</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//可能会出现异常的代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(异常类型<span class="number">1</span> 变量名<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">//处理异常的方法1</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(异常类型<span class="number">2</span> 变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">//处理异常的方法2</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//一定会执行的代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 类似直接上药</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	String str = <span class="string">"123"</span>;</span><br><span class="line">	str = <span class="string">"abc"</span>;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> num = Integer.parseInt(str);</span><br><span class="line">		System.out.println(<span class="string">"hello---1"</span>); <span class="comment">//未运行</span></span><br><span class="line">	&#125; <span class="keyword">catch</span>(NumberFormatException e) &#123;</span><br><span class="line">		System.out.println(<span class="string">"数值转换异常啦。"</span>);</span><br><span class="line">		System.out.println(e.getMessage());</span><br><span class="line">        <span class="comment">//e.printStackTrace();</span></span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(str + <span class="string">"hello"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output:</span></span><br><span class="line"><span class="comment">// 数值转换异常啦。</span></span><br><span class="line"><span class="comment">// For input string: "abc"</span></span><br><span class="line"><span class="comment">// abchello</span></span><br></pre></td></tr></table></figure>
<p><strong>常用异常对象处理的方式</strong>：<br>    ①String getMessage()<br>    ②printStackTrace()</p>
<p>PS：</p>
<ul>
<li>catch中的异常类型 若无子类父类关系 ，无需考虑声明的先后顺序；若有，<strong>子类必须声明在父类的上面</strong>，否则报错（<strong>类似if和switch</strong>  break）。</li>
<li>在<strong>try中声明的变量</strong>，<strong>在大括号外不能调用</strong>。try-catch-finally<strong>可以嵌套</strong>。</li>
<li>finally是可选的，其中声明的是<strong>一定会执行</strong>的代码，<strong>即便catch中又出现了异常，try或catch中有return语句等情况。</strong></li>
<li><strong>finally</strong>重要应用：像数据库连接、输入输出流、网络编程Socket等资源，JVM是不能自动的回收的，需要收到编写代码进行资源的释放，此时代码就需要编写在finally中。</li>
</ul>
<p>体会：</p>
<ol>
<li>使用try-catch-finally处理编译时异常，是<strong>使得程序在编译时不再报错，但在运行时仍可能报错</strong>。<em>“延迟”到运行时</em></li>
<li>开发中，由于运行时异常比较常见，所以我们<strong>通常不针对运行时异常编写try-catch-finally</strong>，针对<strong>编译时异常</strong>，一定要考虑异常的处理。</li>
</ol>
<h4 id="②-throws-异常类型"><a href="#②-throws-异常类型" class="headerlink" title="② throws + 异常类型"></a>② throws + 异常类型</h4><p>（<em>喊人通报，未解决</em>）声明在方法的声明处，指明此方法执行时，可能回抛出的异常类型，一旦方法体执行时出现异常，仍会在异常处生成一个异常类的对象。此对象满足throws后的异常类型时，就会被抛出，之后的代码就不再执行。</p>
<h4 id="如何选择"><a href="#如何选择" class="headerlink" title="如何选择"></a>如何选择</h4><ul>
<li>若父类中被<strong>重写的方法没有throws</strong>方式处理异常，则<strong>子类重写的方法也不能使用</strong>throws，意味着若<strong>子类重写的方法有异常必须使用try-catch-finally</strong></li>
<li>执行的方法a中，先后调用了另外几个方法，这几个方法是<strong>递进关系执行</strong>的。<strong>建议这几个方法使用throws的方式处理（层层向上报），而执行的方法a可以考虑使用try-catch-finally</strong></li>
</ul>
<h4 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h4><ol>
<li><p>继承现有的异常结构：<strong>RuntimeException、Exception</strong></p>
</li>
<li><p>提供全局常量：<strong>serialVersionUID</strong></p>
</li>
<li><p>提供重载的构造器</p>
<p><strong>（记得要搭配throw手动抛出）</strong></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">70348971766939L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="throw-VS-throws"><a href="#throw-VS-throws" class="headerlink" title="throw VS throws"></a>throw VS throws</h4><ul>
<li>throw表示抛出一个异常类对象，生成异常对象的<strong>过程</strong>。<strong>声明在方法体内</strong>。</li>
<li>throws属于<strong>异常处理</strong>的一种方式，<strong>声明在方法的声明处</strong>。</li>
</ul>
<h1 id="程序、进程、线程"><a href="#程序、进程、线程" class="headerlink" title="程序、进程、线程"></a>程序、进程、线程</h1><h3 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>程序(program)是为<strong>完成特定任务</strong>、用某种语言编写的<strong>一组指令的集合</strong>。即指一段<strong>静态的代码，静态对象</strong>。</li>
<li>进程(process)是<strong>程序的一次执行过程</strong>，或是<strong>正在运行的一个程序</strong>。是一个<strong>动态</strong>的过程：有它自身的产生、存在和消亡的过程。——生命周期<br>PS：程序是静态的，进程是动态的<br>进程作为<strong>资源分配的单位</strong>，系统在运行时会为每个进程分配不同的内存区域。（方法区和堆）</li>
<li>线程(thread)，进程可进一步细化为线程，是一个程序内部的一条执行路径。<br>线程作为<strong>调度和执行的单位</strong>，每个线程拥有<strong>独立的运行栈和程序计数器(pc)</strong>，线程切换的开销小。一个进程中的多个线程<strong>共享相同的内存单元/内存地址空间</strong>。它们从同一堆中分配对象，可以访问相同的变量和对象。这就使得<strong>线程间通信更简便、高效</strong>。但多个线程操作共享的系统资源可能就会带来<strong>安全的隐患</strong>。</li>
</ul>
<h3 id="何时需要多线程"><a href="#何时需要多线程" class="headerlink" title="何时需要多线程"></a>何时需要多线程</h3><ul>
<li>程序需要同时执行两个或多个任务。</li>
<li>程序需要实现一些需要等待的任务时，如用户输入、文件读写操作、网络操作、搜索等。</li>
<li>需要一些后台运行的程序时。</li>
</ul>
<h2 id="多线程的创建"><a href="#多线程的创建" class="headerlink" title="多线程的创建"></a>多线程的创建</h2><h3 id="方法一：继承于Thread类"><a href="#方法一：继承于Thread类" class="headerlink" title="方法一：继承于Thread类"></a>方法一：继承于Thread类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *多线程的创建，方法一：继承于Thread类</span></span><br><span class="line"><span class="comment"> * 1.创建一个继承于Thread类的子类</span></span><br><span class="line"><span class="comment"> * 2.重写Thread类的run() -&gt; 将此线程执行的操作声明在run()中</span></span><br><span class="line"><span class="comment"> * 3.创建Thread类的子类对象</span></span><br><span class="line"><span class="comment"> * 4.通过此对象调用start(): ①启动当前线程；②调用当前线程的run()</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * PS：  1.不能直接调用run()启动线程</span></span><br><span class="line"><span class="comment"> *       2.要运行多个线程需要造多个对象（不可以让已经start()的线程去执行，会报IllegalThread）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> goodwell</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019-09-25-9:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line">        myThread.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 创建Thread类的匿名子类的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.start();</span><br></pre></td></tr></table></figure>
<p>Thread类中的常用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试Thread中的常用方法</span></span><br><span class="line"><span class="comment"> * 1. start() 启动线程；调用当前线程的run()</span></span><br><span class="line"><span class="comment"> * 2. run() 通常需要重写Thread类中的方法，将创建的线程要执行的操作声明在此方法</span></span><br><span class="line"><span class="comment"> * 3. currentThread() 静态方法，返回执行当前代码的线程</span></span><br><span class="line"><span class="comment"> * 4. getName() 获取当前线程的名字</span></span><br><span class="line"><span class="comment"> * 5. setName() 设置当前线程的名字</span></span><br><span class="line"><span class="comment"> * 6. yield() 释放当前线程cpu的执行权</span></span><br><span class="line"><span class="comment"> * 7. join() 在线程a中调用了线程b的join()，此时线程a进入阻塞状态，直到b完全执行完，a才结束阻塞状态。</span></span><br><span class="line"><span class="comment"> * 8. sleep(long millitime) 让当前线程“睡眠”millitime 单位为ms，此时为阻塞状态</span></span><br><span class="line"><span class="comment"> * 9. isAlive() 判断当前线程是否存活</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> goodwell</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-03-09 19:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (i % 20 == 0) &#123;</span></span><br><span class="line"><span class="comment">//                yield();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//直接构造器命名</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadMethodTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        HelloThread hiThread =<span class="keyword">new</span> HelloThread(<span class="string">"Thread:1"</span>);</span><br><span class="line"><span class="comment">//        hiThread.setName("线程一");</span></span><br><span class="line">        hiThread.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 主线程命名</span></span><br><span class="line">        Thread.currentThread().setName(<span class="string">"主线程"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    hiThread.join();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法二：实现Runnable接口"><a href="#方法二：实现Runnable接口" class="headerlink" title="方法二：实现Runnable接口"></a>方法二：实现Runnable接口</h3><ol>
<li>创建一个实现了Runnable接口的类</li>
<li>实现类 去 实现Runnable中的抽象方法：run()</li>
<li>创建 实现类 的对象</li>
<li>将此对象作为参数传递到Thread类的构造器中，创建Thread类的对象</li>
<li>通过Thread类的对象调用start()</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建多线程方法二</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> goodwell</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019-09-25-16:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MThread mThread = <span class="keyword">new</span> MThread();</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(mThread);</span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="两种创建方式的对比"><a href="#两种创建方式的对比" class="headerlink" title="两种创建方式的对比"></a>两种创建方式的对比</h3><p>开发中，<strong>优先选择实现Runnable接口</strong>的方式</p>
<ul>
<li><p>原因：</p>
<ol>
<li>实现的方式<strong>没有类的单继承的局限性</strong></li>
<li>实现的方式更适合处理<strong>多个线程有共享数据</strong>的情况</li>
</ol>
</li>
<li><p>联系：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>相同点：<strong>都需要重写run()</strong>，将线程执行的逻辑声明在run()中</p>
</li>
</ul>
<h3 id="方法三：实现Callable接口"><a href="#方法三：实现Callable接口" class="headerlink" title="方法三：实现Callable接口"></a>方法三：实现Callable接口</h3><ol>
<li>创建一个Callable的实现类</li>
<li>实现call方法，将线程需要执行的操作声明在call()中</li>
<li>创建callable实现类的对象</li>
<li>将此对象传递到FutureTask构造器中，创建FutureTask的对象</li>
<li>将FutureTask的对象作为参数传给Thread的构造器，创建Thread对象，并调用start()</li>
<li>获取Callable中call方法的返回值</li>
</ol>
<h3 id="使用Runnable-VS-Callable"><a href="#使用Runnable-VS-Callable" class="headerlink" title="使用Runnable VS Callable"></a>使用Runnable VS Callable</h3><p>如何理解与使用Runnable相比， <strong>Callable功能更强大些</strong></p>
<ul>
<li>相比run()方法，<strong>可以有返回值</strong></li>
<li><strong>方法可以抛出异常，被外面操作捕获，得到异常信息</strong></li>
<li><strong>支持泛型的返回值</strong></li>
<li><p><strong>需要借助FutureTask类</strong>，比如获取返回结果</p>
<p>Future接口</p>
</li>
<li><p>可以对具体Runnable、Callable任务的执行结果进行取消、查询是否完成、获取结果等。</p>
</li>
<li>FutrueTask是Futrue接口的唯一的实现类</li>
<li>FutureTask 同时实现了 Runnable, Future 接口。它既可以作为Runnable被线程执行，又可以作为Future得到Callable的返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建一个Callable的实现类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumThread</span> <span class="keyword">implements</span> <span class="title">Callable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//2. 实现call方法，将线程需要执行的操作声明在call()中</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CallTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 3. 创建callable实现类的对象</span></span><br><span class="line">        NumThread numThread = <span class="keyword">new</span> NumThread();</span><br><span class="line">        <span class="comment">// 4. 将此对象传递到FutureTask构造器中，创建FutureTask的对象</span></span><br><span class="line">        FutureTask futureTask = <span class="keyword">new</span> FutureTask(numThread);</span><br><span class="line">        <span class="comment">// 5. 将FutureTask的对象作为参数传给Thread的构造器，创建Thread对象，并调用start()</span></span><br><span class="line">        <span class="keyword">new</span> Thread(futureTask).start();</span><br><span class="line"></span><br><span class="line">        Object sum = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 6. get()获取Callable中call方法的返回值</span></span><br><span class="line">            sum = futureTask.get();</span><br><span class="line">            System.out.println(<span class="string">"总和为:"</span> + sum);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法四：使用线程池"><a href="#方法四：使用线程池" class="headerlink" title="方法四：使用线程池"></a>方法四：使用线程池</h3><p>背景： 经常创建和销毁、使用量特别大的资源，比如并发情况下的线程，对性能影响很大。</p>
<p>思路：提前 创建好多个线程，放入线程池中，使用时直接获取，使用完放回池中。<strong>可以避免频繁创建销毁、实现重复利用。</strong>类似生活中的公共交通工具。</p>
<p>步骤：</p>
<ol>
<li>提供指定线程数量的线程池 </li>
<li>执行指定的线程操作，需要提供实现Runnable、Callable接口实现类的对象</li>
<li>关闭连接池</li>
</ol>
<p>好处：</p>
<ul>
<li><strong>提高响应速度</strong>（减少了创建新线程的时间）</li>
<li><strong>降低资源消耗</strong>（重复利用线程池中线程，不需要每次都创建）</li>
<li><strong>便于线程管理</strong><ul>
<li>corePoolSize：核心池的大小</li>
<li>maximumPoolSize：最大线程数</li>
<li>keepAliveTime：线程没有任务时最多保持多长时间后会终止</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumberThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">": "</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadPool</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1. 提供指定线程数量的线程池</span></span><br><span class="line">        ExecutorService service = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        <span class="comment">//↑是接口，↓是类 System.out.println(service.getClass());</span></span><br><span class="line"><span class="comment">//        ThreadPoolExecutor service1 = (ThreadPoolExecutor) service;</span></span><br><span class="line">        <span class="comment">// 设置线程池的属性</span></span><br><span class="line"><span class="comment">//        service1.setCorePoolSize(15);</span></span><br><span class="line"><span class="comment">//        service1.setKeepAliveTime();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 执行指定的线程操作，需要提供实现Runnable、Callable接口实现类的对象</span></span><br><span class="line">        service.execute(<span class="keyword">new</span> NumberThread()); <span class="comment">// 适用于Runnable</span></span><br><span class="line"><span class="comment">//        service.submit(Callable callable); // 适用于Callable</span></span><br><span class="line">        <span class="comment">// 3. 关闭连接池</span></span><br><span class="line">        service.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="线程的生命周期"><a href="#线程的生命周期" class="headerlink" title="线程的生命周期"></a>线程的生命周期</h2><p><img src="https://i1.100024.xyz/i/2019/09/25/u6vgy3.png" alt="线程的生命周期"></p>
<h2 id="线程的同步"><a href="#线程的同步" class="headerlink" title="线程的同步"></a>线程的同步</h2><p>举例问题：卖票过程中，出现了重票、错票 –&gt; 出现了线程的<strong>安全问题</strong>，通过同步机制来解决</p>
<h3 id="方式一：同步代码块"><a href="#方式一：同步代码块" class="headerlink" title="方式一：同步代码块"></a>方式一：同步代码块</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(同步监视器)&#123;</span><br><span class="line">	<span class="comment">//需要同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：操作共享数据的代码，及需要被同步的代码；共享数据，多个线程共同操作的变量；同步监视器,俗称：锁，<strong>任何一个类的对象都可以当锁</strong>，runnable实现类可以用<strong>this</strong>，或者用类（<strong>Xxxx.class</strong>）。（<strong>要求：多个线程必须要共同的一把锁</strong>）</p>
<p>补充：在实现Runnable接口创建多线程的方式中，我们可以考虑使用this充同步监视器；在继承Thread类创建多线程的方式中，慎用this充当同步监视器考虑使用当前类作为锁Xxxx.class</p>
<h3 id="同步的优缺点："><a href="#同步的优缺点：" class="headerlink" title="同步的优缺点："></a>同步的优缺点：</h3><ul>
<li>好处：解决了线程的安全问题</li>
<li>局限性：操作同步代码时，只能有一个线程参加，其他线程等等待，效率较低。</li>
</ul>
<h3 id="方法二：同步方法"><a href="#方法二：同步方法" class="headerlink" title="方法二：同步方法"></a>方法二：同步方法</h3><p>如操作共享数据的代码完整的声明在一个方法中。</p>
<p>总结：</p>
<ol>
<li>同步方法仍然涉及到<strong>同步监视器，不需要显式的声明</strong>。</li>
<li>非静态的同步方法，同步监视器是：this；静态的同步方法，同步监视器是：当前类本身。</li>
</ol>
<p>线程安全的饿汉式单例模式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Bank</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Bank instance = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Bank <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//方式一：效率较差</span></span><br><span class="line"><span class="comment">//        synchronized (Bank.class) &#123;</span></span><br><span class="line"><span class="comment">//            if (instance == null) &#123;</span></span><br><span class="line"><span class="comment">//                instance = new Bank();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            return instance;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//方式二：效率更高</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Bank.class) &#123;</span><br><span class="line">                instance = <span class="keyword">new</span> Bank();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="线程的死锁问题"><a href="#线程的死锁问题" class="headerlink" title="线程的死锁问题"></a>线程的死锁问题</h3><p>死锁的理解：</p>
<p>不同的线程<strong>分别占用对方需要的同步资源</strong>不放弃，都在等待对方放弃自己需要的同步资源，就形成了线程的死锁。</p>
<p>说明：</p>
<ul>
<li>出现死锁后，<strong>不会出现异常、提示</strong>，只是所有的线程都处于阻塞状态，无法继续</li>
<li>使用同步的时候，要避免出现死锁。</li>
</ul>
<h3 id="方式三：lock锁-—-JDK5-0新增"><a href="#方式三：lock锁-—-JDK5-0新增" class="headerlink" title="方式三：lock锁  —  JDK5.0新增"></a>方式三：lock锁  —  JDK5.0新增</h3><ol>
<li>实例化ReentrantLock</li>
<li>调用lock</li>
<li>调用解锁方法：unlock</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//1.实例化Reentrantlock</span></span><br><span class="line">    <span class="keyword">private</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//2.调用lock</span></span><br><span class="line">                lock.lock();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="comment">//3.调用解锁方法：unlock</span></span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="synchronized-VS-Lock-异同"><a href="#synchronized-VS-Lock-异同" class="headerlink" title="synchronized VS Lock 异同"></a>synchronized VS Lock 异同</h3><ul>
<li>相同：二者都可以解决线程安全问题</li>
<li>不同：synchronized机制在执行完相应的同步代码后，<strong>自动释放</strong>同步监视器；<strong>Lock需要手动</strong>的启动同步（Lock()），同时结束同步也需要手动的实现（unlock()）</li>
</ul>
<h3 id="优先使用顺序："><a href="#优先使用顺序：" class="headerlink" title="优先使用顺序："></a>优先使用顺序：</h3><p>Lock -&gt; 同步代码块（已经进入了方法体，分配了相应资源） -&gt; 同步方法（在方法体之外）</p>
<h2 id="线程的通信"><a href="#线程的通信" class="headerlink" title="线程的通信"></a>线程的通信</h2><p>相关方法：</p>
<p>wait()：一旦执行，当前线程就进入阻塞状态，并释放同步监视器</p>
<p>notify()：唤醒被wait的一个线程，若有多个线程被wait，就唤醒优先级最高的</p>
<p>notifyAll()：唤醒所有被wait的线程</p>
<p>说明：</p>
<ol>
<li>此三个方法<strong>必须使用在同步代码块</strong>中</li>
<li>其<strong>调用者</strong>必须是 同步代码块中 的<strong>同步监视器</strong>，否则会出现<strong>IllegalMonitorStateException</strong>异常</li>
<li><strong>都是定义在java.lang.Object类中</strong></li>
</ol>
<p><strong>sleep() VS wait() 异同:</strong></p>
<ul>
<li>同：<strong>一旦执行，都可以是当前的线程进入阻塞状态</strong></li>
<li>异：<ol>
<li>方法<strong>声明的位置不同</strong>：Thread类中声明sleep，Object类中声明wait</li>
<li><strong>调用的要求不同</strong>：sleep可以在任何场景下调用，<strong>wait必须使用在同步代码块</strong>中</li>
<li>是否释放同步监视器：若都使用在同步代码块或同步方法中，<strong>sleep不会释放锁</strong>，<strong>wait会释放锁</strong></li>
</ol>
</li>
</ul>
<h1 id="字符串相关的类"><a href="#字符串相关的类" class="headerlink" title="字符串相关的类"></a>字符串相关的类</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><strong>字符串是常量</strong>，用双引号引起来，他们的值在创建后就不能改变。</p>
<p>String对象的 字符串内容 是 存储在一个 字符数组<strong>final char[] value</strong>中。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li><p>实现了 Serializable 接口，表示字符串<strong>支持序列化</strong>的；</p>
</li>
<li><p>实现了 Comparable 接口，表示String可以<strong>比较大小</strong></p>
</li>
<li><p>String<strong>是一个final类，不可被继承</strong>，其代表不可变的字符序列。（<strong>不可变性</strong>）</p>
<p>体现：</p>
<ol>
<li>当对字符串重新赋值时，需要重新指定内存区域赋值，不能使用原有的value进行赋值；</li>
<li>当对现有的字符串进行拼接时，也需要重新指定内存区域赋值，不能使用原有的value进行赋值；</li>
<li>当调用String的replace()修改字符串，也需要重新指定内存区域赋值。</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">String</span>&gt;, <span class="title">CharSequence</span></span></span><br></pre></td></tr></table></figure>
<p>通过字面量的方式（<strong>区别于new方式</strong>）给一个字符串赋值，此时的 字符串值 声明在<strong>字符串常量池</strong>中，<strong>字符串常量池 不会重复储存相同的 字符串</strong>。</p>
<h3 id="实例化的方式"><a href="#实例化的方式" class="headerlink" title="实例化的方式"></a>实例化的方式</h3><ol>
<li>通过字面量定义</li>
<li>通过new + 构造器</li>
</ol>
<p>面试题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="keyword">new</span> String(<span class="string">"abc"</span>);<span class="comment">//此方式创建对象，在内存中创建了几个对象？ 俩：一个堆空间中new结构，另一个是char[]对应的常量池中的数据“abc”</span></span><br><span class="line">String s1 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">String s2 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">System.out.println(s1 == s2); <span class="comment">//false</span></span><br><span class="line"><span class="comment">// 先造了对象在堆中，对象的value指向常量池</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String s1 = <span class="string">"hello"</span>;</span><br><span class="line">        String s2 = <span class="string">"goodwell"</span>;</span><br><span class="line"></span><br><span class="line">        String s3 = <span class="string">"hellogoodwell"</span>;</span><br><span class="line">        String s4 = <span class="string">"hello"</span> + <span class="string">"goodwell"</span>;</span><br><span class="line">        String s5 = s1 + <span class="string">"goodwell"</span>;</span><br><span class="line">        String s6 = <span class="string">"hello"</span> + s2;</span><br><span class="line">        String s7 = s1 + s2;</span><br><span class="line"><span class="comment">//1.</span></span><br><span class="line">        System.out.println(s3 == s4);<span class="comment">//true</span></span><br><span class="line"><span class="comment">//2.</span></span><br><span class="line">        System.out.println(s3 == s5);<span class="comment">//false</span></span><br><span class="line">        System.out.println(s3 == s6);<span class="comment">//false</span></span><br><span class="line">        System.out.println(s3 == s7);<span class="comment">//false</span></span><br><span class="line">        System.out.println(s5 == s6);<span class="comment">//false</span></span><br><span class="line">        System.out.println(s6 == s7);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        String s8 = s5.intern();</span><br><span class="line">        <span class="comment">//返回值得到的s8使用的常量值已经存在的“hellogoodwell”</span></span><br><span class="line"> <span class="comment">//3.</span></span><br><span class="line">        System.out.println(s3 == s8);<span class="comment">//true</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">final</span> String s9 = <span class="string">"hello"</span>;</span><br><span class="line">        String s10 = s9 + <span class="string">"goodwell"</span>;</span><br><span class="line"><span class="comment">//4.</span></span><br><span class="line">        System.out.println(s3 == s10);<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>结论：</p>
<ul>
<li>常量与常量的 拼接结果 在常量池。且常量池中 不会存在相同内容的常量。</li>
<li><strong>只要拼接的其中有一个是变量，结果就在堆中</strong>（类似new）</li>
<li>如果拼接的结果 <strong>调用intern()方法，返回值就在常量池中</strong></li>
<li>final String（也在常量池中）和字面量连接，结果在常量池中</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line">    String str = <span class="keyword">new</span> String(<span class="string">"good"</span>);</span><br><span class="line">    <span class="keyword">char</span>[] ch = &#123;<span class="string">'t'</span>,<span class="string">'e'</span>,<span class="string">'s'</span>,<span class="string">'t'</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(String str, <span class="keyword">char</span> ch[])</span> </span>&#123;</span><br><span class="line">        str = <span class="string">"test ok"</span>;</span><br><span class="line">        ch[<span class="number">0</span>] = <span class="string">'b'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StringTest ex = <span class="keyword">new</span> StringTest();</span><br><span class="line">        ex.change(ex.str, ex.ch);</span><br><span class="line">        System.out.println(ex.str);<span class="comment">//good</span></span><br><span class="line">        <span class="comment">//不可变性</span></span><br><span class="line">        System.out.println(ex.ch);<span class="comment">//best</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li>int length() ：返回字符串的长度： return value.length</li>
<li>char charAt(int index)： ： 返回某索引处的字符return value[index]</li>
<li>boolean isEmpty() ：判断是否是空字符串：return value.length == 0</li>
<li>String toLowerCase() ：使用默认语言环境，将 String 中的所有字符转换为小写</li>
<li>String toUpperCase() ：使用默认语言环境，将 String 中的所有字符转换为大写</li>
<li>String trim()： ：返回字符串的副本，忽略前导空白和尾部空白</li>
<li>boolean equals(Object obj)： ：比较字符串的内容是否相同</li>
<li>boolean equalsIgnoreCase(String anotherString) ：与equals方法类似，忽略大小写</li>
<li>String concat(String str) ：将指定字符串连接到此字符串的结尾。 等价于用“+”</li>
<li>int compareTo(String anotherString)： ：比较两个字符串的大小</li>
<li>String substring(int beginIndex)： ：返回一个新的字符串，它是此字符串的从beginIndex开始截取到最后的一个子字符串。</li>
<li>String substring(int beginIndex, int endIndex) ： ：返回一个新字符串，它是此字符串从beginIndex开始截取到endIndex(不包含)的一个子字符串。</li>
<li>boolean contains(CharSequence s) ：当且仅当此字符串包含指定的 char 值序列时，返回 true</li>
<li>int indexOf(String str)： ：返回指定子字符串在此字符串中第一次出现处的索引</li>
<li>int indexOf(String str, int fromIndex)： ：返回指定子字符串在此字符串中第一次出现处的索引，从指定的索引开始</li>
<li>int lastIndexOf(String str)： ：返回指定子字符串在此字符串中最右边出现处的索引</li>
<li>int lastIndexOf(String str, int fromIndex)： ：返回指定子字符串在此字符串中最后一次出现处的索引，从指定的索引开始反向搜索<br>注：indexOf和lastIndexOf方法如果未找到都是返回-1</li>
<li>boolean endsWith(String suffix)： ：测试此字符串是否以指定的后缀结束</li>
<li>boolean startsWith(String prefix)： ：测试此字符串是否以指定的前缀开始</li>
<li>boolean startsWith(String prefix, int toffset)： ：测试此字符串从指定索引开始的子字符串是否以指定前缀开始</li>
<li><strong>替换</strong></li>
<li>String replace(char oldChar, char newChar)： ：返回一个新的字符串，它是通过用 newChar 替换此字符串中出现的所有 oldChar 得到的。</li>
<li>String replace(CharSequence target, CharSequence replacement)： ：使用指定的字面值替换序列替换此字符串所有匹配字面值目标序列的子字符串。</li>
<li>String replaceAll(String regex, String replacement) ： ： 使 用 给 定 的replacement 替换此字符串所有匹配给定的正则表达式的子字符串。</li>
<li>String replaceFirst(String regex, String replacement) ： ： 使 用 给 定 的replacement 替换此字符串匹配给定的正则表达式的第一个子字符串。</li>
<li><strong>匹配</strong></li>
<li>boolean matches(String regex)： ：告知此字符串是否匹配给定的正则表达式。</li>
<li><strong>切片</strong></li>
<li>String[] split(String regex)： ：根据给定正则表达式的匹配拆分此字符串。</li>
<li>String[] split(String regex, int limit)： ：根据匹配给定的正则表达式来拆分此字符串，最多不超过limit个，如果超过了，剩下的全部都放到最后一个元素中。</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>String 与 char[] 之间的转换：</p>
<ul>
<li><p>String –&gt; char[]  调用String的<strong>toCharArray()</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] charArray = str1.toCharArray();</span><br></pre></td></tr></table></figure>
</li>
<li><p>char[] –&gt; String 调用String的构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str2 = <span class="keyword">new</span> String(arr);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>String 与 byte[] 之间的转换：</p>
<ul>
<li><p>String –&gt; byte[]  调用String的<strong>getBytes()</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] bytes = str1.getBytes(); <span class="comment">//使用默认的字符集进行编码</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>byte[] –&gt; String 调用String的构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str2 = <span class="keyword">new</span> String(bytes);<span class="comment">//使用默认的字符集进行解码</span></span><br><span class="line"><span class="comment">//说明：解码时，要求解码使用的字符集必须和编码时使用的字符集一致，否则出现乱码</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="StringBuffer类"><a href="#StringBuffer类" class="headerlink" title="StringBuffer类"></a>StringBuffer类</h2><p> java.lang.StringBuffer代表 <strong>可变的字符序列</strong>，JDK1.0中声明，可以对字符串内容进行增删，此时不会产生新的对象。很多方法与String相同。<strong>作为参数传递时，方法内部可以改变值。</strong></p>
<p>StringBuffer类不同于String，<strong>其对象必须使用构造器生成</strong>。有三个构造器：</p>
<ul>
<li>StringBuffer() ：初始为 容量为16 的字符串缓冲区</li>
<li>StringBuffer(int size) ：构造 指定容量的字符串缓冲区</li>
<li>StringBuffer(String str) ：将内容初始化为指定字符串内容</li>
</ul>
<p>StringBuffer 类的常用方法</p>
<ul>
<li>StringBuffer append(xxx)：提供了很多的append()方法，用于进行字符串拼接<em>(啥都变成字符串，例如“null”)</em></li>
<li>StringBuffer delete(int start,int end)：删除指定位置的内容</li>
<li>StringBuffer replace(int start, int end, String str)：把[start,end)位置替换为str</li>
<li>StringBuffer insert(int offset, xxx)：在指定位置插入xxx</li>
<li><p>StringBuffer reverse() ：把当前字符序列逆转</p>
</li>
<li><p>public int indexOf(String str)</p>
</li>
<li>public String substring(int start,int end)</li>
<li>public int length()</li>
<li>public char charAt(int n )</li>
<li>public void setCharAt(int n ,char ch)</li>
</ul>
<p>##　StringBuilder类</p>
<p>StringBuilder和StringBuffer 非常类似，均代表<strong>可变的字符序列</strong>，而且<strong>提供相关功能的方法也一样</strong></p>
<p><strong>对比String 、StringBuffer 、StringBuilder</strong></p>
<ul>
<li><p>String(JDK1.0)：<strong>不可变字符序列</strong></p>
</li>
<li><p>StringBuffer(JDK1.0)：可变字符序列、<strong>效率低、线程安全</strong></p>
</li>
<li><p>StringBuilder(JDK 5.0)：可变字符序列、效率高、线程不安全，底层都是使用char[] 存储</p>
<p><strong><em>注意：作为参数传递的话，方法内部String不会改变其值，StringBuffer和StringBuilder会改变其值。</em></strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//System.out.println(str.length());//NullPointerException</span></span><br><span class="line">StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">sb.append(str);</span><br><span class="line">System.out.println(sb.length());<span class="comment">//4</span></span><br><span class="line">System.out.println(sb);<span class="comment">//"null"</span></span><br><span class="line"><span class="comment">//StringBuffer sb1 = new StringBuffer(str);</span></span><br><span class="line"><span class="comment">//System.out.println(sb1);//NullPointerException</span></span><br></pre></td></tr></table></figure>
<p>源码分析</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String();<span class="comment">// char[] value = new char[0];</span></span><br><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">"abn"</span>);<span class="comment">// char[] value = new char[]&#123;'a','b','n'&#125;;</span></span><br><span class="line"></span><br><span class="line">StringBuffer sb1 = <span class="keyword">new</span> StringBuffer();<span class="comment">// char[] value = new char[16];</span></span><br><span class="line">sb1.append(<span class="string">'a'</span>);<span class="comment">// value[0] = 'a';</span></span><br><span class="line">sb1.append(<span class="string">'b'</span>);<span class="comment">// value[1] = 'b';</span></span><br><span class="line"></span><br><span class="line">StringBuffer sb2 = <span class="keyword">new</span> StringBuffer(<span class="string">"abc"</span>);<span class="comment">// char[] value = new char["abc".length + 16]&#123;'a','b','c's&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//问题一：</span></span><br><span class="line">System.out.println(sb2.length());<span class="comment">// 3</span></span><br><span class="line"><span class="comment">//问题二：</span></span><br><span class="line"><span class="comment">//扩容问题：若添加的数据底层数组装不下，那就需要扩容底层的数组；默认情况下，扩容为原来容量的2倍 + 2，同时将原有数组中的元素复制到新的数组中。</span></span><br></pre></td></tr></table></figure>
<p>指导建议:</p>
<p>​    开发中使用，StringBuffer(int capacity) 或 StringBuilder(int capacity) <em>指定容量的</em></p>
<p>对比三者效率：</p>
<p>​    StringBuilder &gt; StringBuffer &gt; String</p>
<p>总结：</p>
<ul>
<li>增：append(xxx)</li>
<li>删：delete(int start, int end)</li>
<li>改：setCharAt(int n, char ch) / replace(int start, int end, String str)</li>
<li>查：charAt(int n)</li>
<li>插：insert(int offset, xxx)</li>
<li>长度：length()</li>
<li>*遍历：for() + charAt() / toString()</li>
</ul>
<h1 id="时间相关的类"><a href="#时间相关的类" class="headerlink" title="时间相关的类"></a>时间相关的类</h1><h2 id="JDk8之前的日期和时间的API"><a href="#JDk8之前的日期和时间的API" class="headerlink" title="JDk8之前的日期和时间的API"></a>JDk8之前的日期和时间的API</h2><h3 id="①-java-lang-System类"><a href="#①-java-lang-System类" class="headerlink" title="①.  java.lang.System类"></a>①.  java.lang.System类</h3><p><strong>System.currentTimeMillis():</strong>  返回当前时间与<strong>1970年1月1日0时0分0秒</strong>之间 以<strong>毫秒</strong>为单位的时间差，也称为<strong>时间戳</strong></p>
<h3 id="②-java-util-Date-java-sql-Date继承前者"><a href="#②-java-util-Date-java-sql-Date继承前者" class="headerlink" title="②.  java.util.Date (java.sql.Date继承前者)"></a>②.  java.util.Date (java.sql.Date继承前者)</h3><p>构造器：</p>
<ul>
<li>Date()  创建一个对应当前时间的Date对象</li>
<li>//Date(int year, int month, int day)  创建一个对应时间的Date对象</li>
<li>Date(long)  创建指定毫秒数的Date对象</li>
</ul>
<p>方法：</p>
<ul>
<li><strong>tiString()</strong> 显示当前年月日</li>
<li><strong>getTime()</strong> 获取当前Date对象对应的时间戳</li>
</ul>
<p>java.sql.Date 对应着数据库中的日期类型的变量</p>
<ul>
<li><p>将java.util.Date对象转换成java.sql.Date对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.sql.Date dateSql = new java.sql.Date(dateUtil.getTime());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1.System类中的currentTimeMillis()</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test11</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">long</span> time = System.currentTimeMillis();</span><br><span class="line">        System.out.println(time);</span><br><span class="line">        <span class="comment">//1569513273409返回当前时间与1970年1月1日0时0分0秒之间以毫秒为单位的时间差</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.java.util.Date类（java.sql.Date类）</span></span><br><span class="line"><span class="comment">//    ①两个构造器的使用</span></span><br><span class="line"><span class="comment">//        &gt; Date() 创建一个当前时间的Date对象</span></span><br><span class="line"><span class="comment">//        &gt; Date(long) 创建指定毫秒数的Date对象</span></span><br><span class="line"><span class="comment">//    ②两个方法的使用</span></span><br><span class="line"><span class="comment">//        &gt; toString() 显示当前的年、月、日、时、分、秒</span></span><br><span class="line"><span class="comment">//        &gt; getTime() 获取当前Date对象对应的毫秒数（时间戳）</span></span><br><span class="line"><span class="comment">//    ③java.sql.Date类对应着数据库中的日期类型的变量</span></span><br><span class="line"><span class="comment">//        &gt; 如何实例化</span></span><br><span class="line"><span class="comment">//        &gt; util.Date  --getTime()-&gt;  sql.Date对象</span></span><br><span class="line"><span class="comment">//        &gt;&lt; sql.Date  --&gt;  util.Date对象(不需要转，学生本身就是人)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test22</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//构造器一：Date() 创建一个当前时间的Date对象</span></span><br><span class="line">        Date date1 = <span class="keyword">new</span> Date();</span><br><span class="line">        System.out.println(date1.toString());<span class="comment">//Fri Sep 27 00:50:46 CST 2019</span></span><br><span class="line">        System.out.println(date1.getTime());<span class="comment">//1569516806737</span></span><br><span class="line">        <span class="comment">//构造器二：Date(long) 创建指定毫秒数的Date对象</span></span><br><span class="line">        Date date2 = <span class="keyword">new</span> Date(<span class="number">1569516806737L</span>);</span><br><span class="line">        System.out.println(date2.toString());<span class="comment">//Fri Sep 27 00:53:26 CST 2019</span></span><br><span class="line">        <span class="comment">//创建java.sql.Date对象</span></span><br><span class="line">        java.sql.Date date3 = <span class="keyword">new</span> java.sql.Date(<span class="number">1569516806737L</span>);</span><br><span class="line">        System.out.println(date3);<span class="comment">//2019-09-27有无.toString()一样</span></span><br><span class="line">        <span class="comment">//sql.Date  --&gt;  util.Date对象</span></span><br><span class="line">        Date date8 = date3;</span><br><span class="line">        System.out.println(date8.toString());</span><br><span class="line">        <span class="comment">//util.Date  --getTime()-&gt;  sql.Date对象</span></span><br><span class="line">        <span class="comment">//情况1</span></span><br><span class="line">        Date date4 = <span class="keyword">new</span> java.sql.Date(<span class="number">1569516806737L</span>);</span><br><span class="line">        java.sql.Date date5 = (java.sql.Date) date4;</span><br><span class="line">        <span class="comment">//情况2</span></span><br><span class="line">        Date date6 = <span class="keyword">new</span> Date();</span><br><span class="line">        java.sql.Date date7 = <span class="keyword">new</span> java.sql.Date(date6.getTime());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="③-SimpleDateFormat类"><a href="#③-SimpleDateFormat类" class="headerlink" title="③.  SimpleDateFormat类"></a>③.  SimpleDateFormat类</h3><p>java.text.SimpleDateFormat() 不与语言环境有关的方式来对Date类的<strong>格式化和解析</strong>的具体类</p>
<p>构造器： </p>
<ul>
<li>SimpleDateFormat()  默认的模式和语言环境创建对象</li>
<li>SimpleDateFormat(String Pattern)   用参数pattern指定的格式创建一个对象。</li>
</ul>
<p>该对象可以</p>
<ul>
<li><strong>格式化</strong>： 日期 -&gt; 文本  String <strong>format(Date date)</strong></li>
<li><strong>解析</strong>：文本 -&gt; 日期 Date <strong>parse(String source)</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTimeTesr</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    SimpleDateFormat的使用：对日期Date类的格式化和解析</span></span><br><span class="line"><span class="comment">    1.两个操作</span></span><br><span class="line"><span class="comment">    - 格式化： 日期 ---&gt; 字符串</span></span><br><span class="line"><span class="comment">    - 解析： 字符串 ---&gt; 日期</span></span><br><span class="line"><span class="comment">    2.SimpleDateFormat的实例化</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSimpleDateFormat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//实例化SimpleDateFormat:使用默认构造器</span></span><br><span class="line">        SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//格式化： 日期 ---&gt; 字符串</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        System.out.println(date);</span><br><span class="line"></span><br><span class="line">        String format = sdf.format(date);</span><br><span class="line">        System.out.println(format);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//解析： 字符串 ---&gt; 日期</span></span><br><span class="line">        String str = <span class="string">"19-9-27 下午8:12"</span>;</span><br><span class="line">        Date date1 = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            date1 = sdf.parse(str);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(date1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 按照指定的方式格式化和解析，调用带参数的构造器</span></span><br><span class="line"><span class="comment">//        SimpleDateFormat sdf1 = new SimpleDateFormat("yyyyy.MMMMM.dd GGG hh:mm aaa");</span></span><br><span class="line">        SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</span><br><span class="line">        <span class="comment">//格式化</span></span><br><span class="line">        String format1 = sdf1.format(date);</span><br><span class="line">        System.out.println(format1);<span class="comment">//2019-09-27 08:22:08</span></span><br><span class="line">        <span class="comment">//解析</span></span><br><span class="line">        Date date2 = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            date2 = sdf1.parse(<span class="string">"2019-09-27 08:22:08"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(date2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test12</span><span class="params">()</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    练习一： 字符串“2020-09-08”抓换成java.sql.Date</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    练习二： “三天打鱼两天晒网” 1990-01-01 xxxx-xx-xx 打鱼？晒网？</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String birth = <span class="string">"2020-09-08"</span>;</span><br><span class="line"></span><br><span class="line">    SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">    Date date = sdf1.parse(birth);</span><br><span class="line"><span class="comment">//        System.out.println(date);</span></span><br><span class="line">    java.sql.Date birthDate = <span class="keyword">new</span> java.sql.Date(date.getTime());</span><br><span class="line">    System.out.println(birthDate);</span><br><span class="line">    <span class="comment">//思路：总天数％５＝＝？</span></span><br><span class="line">    <span class="comment">//方式一：( date2.getTime() - date1.getTime() ) / (1000 * 60 * 60 * 24) + 1</span></span><br><span class="line">    <span class="comment">//方式二：时间分段整数年加闰年</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="④-Calendar类"><a href="#④-Calendar类" class="headerlink" title="④.  Calendar类"></a>④.  Calendar类</h3><p>是一个抽象基类，主要用于完成日期之间相互操作的功能。</p>
<p>1.实例化<br>    方式一：创建其子类（GregorianCalendar）的对象<br>    方式二：调用其静态方法getInstance()</p>
<p>2.常用方法</p>
<ul>
<li>get()</li>
<li>set() 可变性</li>
<li>add()</li>
<li>getTime()    日历类 –&gt; Date</li>
<li>setTime()     Date –&gt; 日历类</li>
</ul>
<p>注意：</p>
<ul>
<li>获取月份时：一月是0 … 十二月是11</li>
<li>获取星期时：周日是1 … 周六是7</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Calendar类(抽象类)的使用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCalendar</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 1.实例化</span></span><br><span class="line">    <span class="comment">// 方式一：创建其子类（GregorianCalendar）的对象</span></span><br><span class="line">    <span class="comment">// 方式二：调用其静态方法getInstance()</span></span><br><span class="line">    Calendar calendar = Calendar.getInstance();</span><br><span class="line">    System.out.println(calendar.getClass());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.常用方法</span></span><br><span class="line">    <span class="comment">// get()</span></span><br><span class="line">    <span class="keyword">int</span> days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">    System.out.println(days);<span class="comment">//28</span></span><br><span class="line">    System.out.println(calendar.get(Calendar.DAY_OF_YEAR));<span class="comment">//271</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// set() 可变性</span></span><br><span class="line">    calendar.set(Calendar.DAY_OF_MONTH,<span class="number">22</span>);</span><br><span class="line">    days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">    System.out.println(days);<span class="comment">//22</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// add()</span></span><br><span class="line">    calendar.add(Calendar.DAY_OF_MONTH,<span class="number">22</span>);</span><br><span class="line">    days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">    System.out.println(days);<span class="comment">//14</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// getTime() 日历类 --&gt; Date</span></span><br><span class="line">    Date date = calendar.getTime();</span><br><span class="line">    System.out.println(date);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// setTime() Date --&gt; 日历类</span></span><br><span class="line">    Date date1 = <span class="keyword">new</span> Date();</span><br><span class="line">    calendar.setTime(date1);</span><br><span class="line">    days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">    System.out.println(days);<span class="comment">//28</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JDK-8中新日期时间API"><a href="#JDK-8中新日期时间API" class="headerlink" title="JDK 8中新日期时间API"></a>JDK 8中新日期时间API</h2><h3 id="java-time"><a href="#java-time" class="headerlink" title="java.time"></a>java.time</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">LocalDate LocalTime LocalDateTime 的使用 </span></span><br><span class="line"><span class="comment">类似于Calendar() </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testTime</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.  now()  获取当前时间日期</span></span><br><span class="line">    LocalDate localDate = LocalDate.now();</span><br><span class="line">    LocalTime localTime = LocalTime.now();</span><br><span class="line">    LocalDateTime localDateTime = LocalDateTime.now();</span><br><span class="line"></span><br><span class="line">    System.out.println(localDate);<span class="comment">//2019-09-28</span></span><br><span class="line">    System.out.println(localTime);<span class="comment">//09:19:28.307</span></span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T09:19:28.307</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.  of()  设置指定的年月日时分秒，没有偏移量</span></span><br><span class="line">    LocalDateTime localDateTime1 = LocalDateTime.of(<span class="number">2020</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    System.out.println(localDateTime1);<span class="comment">//2020-10-10T00:00</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//getXxx() 获取相关属性</span></span><br><span class="line">    System.out.println(localDateTime.getDayOfMonth());<span class="comment">//28</span></span><br><span class="line">    System.out.println(localDateTime.getDayOfWeek());<span class="comment">//SATURDAY</span></span><br><span class="line">    System.out.println(localDateTime.getDayOfYear());<span class="comment">//271</span></span><br><span class="line">    System.out.println(localDateTime.getHour());<span class="comment">//9</span></span><br><span class="line">    System.out.println(localDateTime.getMonthValue());<span class="comment">//9</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//withXxx()  修改、设置  不同于Calendar() 体现不可变性</span></span><br><span class="line">    LocalDate localDate1 = localDate.withDayOfMonth(<span class="number">22</span>);</span><br><span class="line">    System.out.println(localDate);<span class="comment">//2019-09-28</span></span><br><span class="line">    System.out.println(localDate1);<span class="comment">//2019-09-22</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//plusXxx()  增加</span></span><br><span class="line">    LocalDateTime localDateTime2 = localDateTime.plusMonths(<span class="number">4</span>);</span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T09:29:43.638</span></span><br><span class="line">    System.out.println(localDateTime2);<span class="comment">//2020-01-28T09:29:43.638</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//minusXxx()  减去</span></span><br><span class="line">    LocalDateTime localDateTime3 = localDateTime.minusDays(<span class="number">3</span>);</span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T09:32:06.256</span></span><br><span class="line">    System.out.println(localDateTime3);<span class="comment">//2019-09-25T09:32:06.256</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Instant"><a href="#Instant" class="headerlink" title="Instant"></a>Instant</h3><p>瞬时</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Instant 的使用</span></span><br><span class="line"><span class="comment">类似于Date</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span>  </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInstant</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//now() 获取本初子午线对应的标准时间</span></span><br><span class="line">    Instant instant = Instant.now();  </span><br><span class="line">    System.out.println(instant); <span class="comment">//2019-09-28T01:42:23.739Z</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加时间的偏移量</span></span><br><span class="line">    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.ofHours(<span class="number">8</span>));</span><br><span class="line">    System.out.println(offsetDateTime); <span class="comment">//2019-09-28T09:42:23.739+08:00</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//toEpochMilli() 获取自1970年1月1日0时0分0秒（UTC）开始的毫秒数 --&gt; Date类的getTime()</span></span><br><span class="line">    <span class="keyword">long</span> milli = instant.toEpochMilli();</span><br><span class="line">    System.out.println(milli);<span class="comment">//1569638022547</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ofEpochMilli() 通过给定的毫秒数，获取Instant实例  --&gt; Date(long millis)</span></span><br><span class="line">    Instant instant1 = Instant.ofEpochMilli(<span class="number">11111111L</span>);</span><br><span class="line">    System.out.println(instant1);<span class="comment">//1970-01-01T03:05:11.111Z</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="java-time-format-DateTimeFormatter"><a href="#java-time-format-DateTimeFormatter" class="headerlink" title="java.time.format.DateTimeFormatter"></a>java.time.format.DateTimeFormatter</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">DateTimeFormatter 格式化或解析日期、时间</span></span><br><span class="line"><span class="comment">类似于SimpleDateFormat</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//方式1：预定义的标准格式。如：ISO_LOCAL_DATE_TIME;ISO_LOCAL_DATE;ISO_LOCAL_TIME</span></span><br><span class="line">    DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME;</span><br><span class="line">    <span class="comment">//格式化： 日期 --&gt; 字符串</span></span><br><span class="line">    LocalDateTime localDateTime = LocalDateTime.now();</span><br><span class="line">    String str = formatter.format(localDateTime);</span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T14:49:57.682</span></span><br><span class="line">    System.out.println(str);<span class="comment">//2019-09-28T14:49:57.682</span></span><br><span class="line">    <span class="comment">//解析： 字符串 --&gt; 日期</span></span><br><span class="line">    TemporalAccessor parse = formatter.parse(<span class="string">"2019-09-28T14:49:57.682"</span>);</span><br><span class="line">    System.out.println(parse);<span class="comment">//&#123;&#125;,ISO resolved to 2019-09-28T14:49:57.682</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式2：本地化相关的格式。如：ofLocalizedDateTime(FormatStyle.LONG)</span></span><br><span class="line">    <span class="comment">//FormatStyle.LONG / FormatStyle.MEDIUM / FormatStyle.SHORT ↑</span></span><br><span class="line">    DateTimeFormatter formatter1 = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG);</span><br><span class="line">    <span class="comment">//格式化</span></span><br><span class="line">    String str1 = formatter1.format(localDateTime);</span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T15:33:41.802</span></span><br><span class="line">    System.out.println(str1);<span class="comment">//2019年9月28日 下午03时33分41秒</span></span><br><span class="line">    <span class="comment">//ofLocalizedDate()</span></span><br><span class="line">    DateTimeFormatter formatter2 = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL);</span><br><span class="line">    <span class="comment">//格式化</span></span><br><span class="line">    String str2 = formatter2.format(LocalDate.now());</span><br><span class="line">    System.out.println(str2);<span class="comment">//2019年9月28日 星期六</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式3：自定义的格式。如：ofPattern(“yyyy-MM-dd hh:mm:ss”)</span></span><br><span class="line">    DateTimeFormatter formatter3 = DateTimeFormatter.ofPattern(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</span><br><span class="line">    <span class="comment">//格式化</span></span><br><span class="line">    String str3 = formatter3.format(localDateTime);</span><br><span class="line">    System.out.println(localDateTime);<span class="comment">//2019-09-28T15:38:38.889</span></span><br><span class="line">    System.out.println(str3);<span class="comment">//2019-09-28 03:38:38</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//解析</span></span><br><span class="line">    TemporalAccessor parse1 = formatter3.parse(<span class="string">"2019-09-28 03:38:38"</span>);</span><br><span class="line">    System.out.println(parse1);<span class="comment">//&#123;SecondOfMinute=38, HourOfAmPm=3, MicroOfSecond=0, NanoOfSecond=0, MinuteOfHour=38</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Java比较器"><a href="#Java比较器" class="headerlink" title="Java比较器"></a>Java比较器</h1><p>对象数组的排序问题，涉及对象之间的比较。Java对象正常情况下，只能进行比较： == 或 != ，<strong>不能使用 &gt; 或 &lt;</strong> 。Java实现对象排序的方式有两种：</p>
<h2 id="自然排序：java-lang-Comparable"><a href="#自然排序：java-lang-Comparable" class="headerlink" title="自然排序：java.lang.Comparable"></a>自然排序：java.lang.Comparable</h2><p>Comparable接口的使用举例  自然排序</p>
<ol>
<li><p>像String、包装类等实现了Comparable接口，<strong>重写了compareTo(obj)</strong>方法，给出了<strong>比较两个大小</strong>的方式</p>
</li>
<li><p>像String、包装类等重写了<strong>compareTo()</strong>方法以后，<strong>进行了从小到大的排序</strong></p>
</li>
<li><p>重写compareTo(obj)的规则：    </p>
<p>如果当前对象this大于形参对象obj，则返回正整数；    </p>
<p>如果当前对象this小于形参对象obj，则返回负整数；   </p>
<p>如果当前对象this等于形参对象obj，则返回零。</p>
</li>
<li><p>对于自定义类，若需要排序，可<strong>让自定义类实现Comparable接口，重写compareTo(obj)方法</strong>，<strong>指明如何排序</strong></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"AA"</span>,<span class="string">"CC"</span>,<span class="string">"KK"</span>,<span class="string">"MM"</span>,<span class="string">"GG"</span>,<span class="string">"JJ"</span>,<span class="string">"DD"</span>&#125;;</span><br><span class="line">    Arrays.sort(arr);</span><br><span class="line">    System.out.println(Arrays.toString(arr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Eg:商品价格从低到高：按价格排序</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Goods</span> <span class="keyword">implements</span> <span class="title">Comparable</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Objact o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(o instanceod Goods) &#123;</span><br><span class="line">        Goods goods = (Goods)o;</span><br><span class="line">        <span class="keyword">return</span> Double.compare(<span class="keyword">this</span>.price,goods.price)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"传入的数据类型不一致"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="定制排序：java-util-Comparator"><a href="#定制排序：java-util-Comparator" class="headerlink" title="定制排序：java.util.Comparator"></a>定制排序：java.util.Comparator</h2><ol>
<li><p>背景：</p>
<p>当元素的类型没有实现Comparable接口 而又不方便修改代码；或者实现了Comparable接口的排序规则不适合当前的操作，那么可以考虑使用Comparator的对象来进行排序。</p>
</li>
<li><p><strong>重写compare(Object o1, Object o2)</strong>方法，比较o1和o2的大小：</p>
<p>若方法返回正整数，表示o1大于o2；</p>
<p>返回0，表示相等；</p>
<p>返回负数，表示o1小于o2。</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"AA"</span>,<span class="string">"CC"</span>,<span class="string">"KK"</span>,<span class="string">"MM"</span>,<span class="string">"GG"</span>,<span class="string">"JJ"</span>,<span class="string">"DD"</span>&#125;;</span><br><span class="line">    Arrays.sort(arr,<span class="keyword">new</span> Comparator()&#123;</span><br><span class="line">        <span class="comment">//按照字符串大到小</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> String &amp;&amp; o2 <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">                String s1 = (String) o1;</span><br><span class="line">                String s2 = (String) o2;</span><br><span class="line">                <span class="keyword">return</span> -s1.compareTo(s2);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//                return 0;</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"输入的数据类型不一致"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    System.out.println(Arrays.toString(arr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Comparable接口与Comparator的使用的对比：</p>
<ul>
<li><p>前者一旦指定，保证Comparable接口实现类的对象在<strong>任何位置都可以比较大小</strong>；</p>
</li>
<li><p>后者属于<strong>临时性的比较</strong>。Arrays.sort(arr,new Comparator(){…..}</p>
</li>
</ul>
<h1 id="其他类"><a href="#其他类" class="headerlink" title="其他类"></a>其他类</h1><h2 id="System类"><a href="#System类" class="headerlink" title="System类"></a>System类</h2><ul>
<li><p>System类<strong>代表系统</strong>，系统级的很多属性和控制方法都放置在该类的内部。该类位于java.lang包。</p>
</li>
<li><p>由于该类的构造器是private的，所以<strong>无法创建该类的对象</strong>，也就是无法实例化该类。<strong>其内部的成员变量和成员方法都是static的</strong>，所以也可以很方便的进行调用。</p>
</li>
<li><p>成员变量<br>System类内部包含 <strong>in、out和err </strong>三个成员变量，分别代表 <strong>标准输入流</strong>(键盘输入)，<strong>标准输出流</strong>(显示器)和 <strong>标准错误输出流</strong>(显示器)。</p>
</li>
<li><p>成员方法</p>
<ul>
<li><p>native long <strong>currentTimeMillis</strong>()：<br>该方法的作用是返回当前的计算机时间，时间的表达格式为当前计算机时间和GMT时间(格林威治时间)1970年1月1号0时0分0秒所差的毫秒数。</p>
</li>
<li><p>void <strong>exit</strong>(int status)：<br><strong>该方法的作用是退出程序</strong>。其中status的值为<strong>0代表正常退出，非零代表异常退出</strong>。 使用该方法可以在图形界面编程中实现程序的退出功能等。</p>
</li>
<li><p>void gc()：<br>该方法的作用是<strong>请求系统进行垃圾回收</strong>。至于系统是否立刻回收，则取决于系统中垃圾回收算法的实现以及系统执行时的情况。</p>
</li>
<li><p>String <strong>getProperty</strong>(String key)：<br>该方法的作用是获得<strong>系统中属性名为key的属性对应的值</strong>。系统中常见的属性名以及属性的作用如下表所示：</p>
<p>| 属性名        | 属性说明                   |<br>| ————- | ————————– |<br>| java. version | Java运行时环境版本         |<br>| java. home    | java安装目录操作系统的名称 |<br>| os.version    | 操作系统的版本             |<br>| user.nane     | 用户的账户名称             |<br>| user.home     | 用户的主目录               |<br>| user.dir      | 用户的当前工作目录         |</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String javaVersion = System.getProperty(<span class="string">"java.version"</span>);</span><br><span class="line">    System.out.println(<span class="string">"java的version:"</span> + javaVersion);</span><br><span class="line">    String javaHome = System.getProperty(<span class="string">"java.home"</span>);</span><br><span class="line">    System.out.println(<span class="string">"java的home:"</span> + javaHome);</span><br><span class="line">    String osName = System.getProperty(<span class="string">"os.name"</span>);</span><br><span class="line">    System.out.println(<span class="string">"os的name:"</span> + osName);</span><br><span class="line">    String osVersion = System.getProperty(<span class="string">"os.version"</span>);</span><br><span class="line">    System.out.println(<span class="string">"os的version:"</span> + osVersion);</span><br><span class="line">    String userName = System.getProperty(<span class="string">"user.name"</span>);</span><br><span class="line">    System.out.println(<span class="string">"user的name:"</span> + userName);</span><br><span class="line">    String userHome = System.getProperty(<span class="string">"user.home"</span>);</span><br><span class="line">    System.out.println(<span class="string">"user的home:"</span> + userHome);</span><br><span class="line">    String userDir = System.getProperty(<span class="string">"user.dir"</span>);</span><br><span class="line">    System.out.println(<span class="string">"user的dir:"</span> + userDir);</span><br><span class="line">&#125;</span><br><span class="line">out:</span><br><span class="line">java的version:<span class="number">1.8</span>.0_191</span><br><span class="line">java的home:C:\Program Files\Java\jdk1.8.0_191\jre</span><br><span class="line">os的name:Windows <span class="number">10</span></span><br><span class="line">os的version:<span class="number">10.0</span></span><br><span class="line">user的name:goodwell</span><br><span class="line">user的home:C:\Users\goodwell</span><br><span class="line">user的dir:D:\Codes\IdeaProjects\JavaSenior\Day</span><br></pre></td></tr></table></figure>
<h2 id="Math类"><a href="#Math类" class="headerlink" title="Math类"></a>Math类</h2><p><strong>java.lang.Math</strong> 提供了一系列静态方法用于 科学 计算。<strong>其 方法的参数和返回值类型一般为double 型</strong>。</p>
<ul>
<li>abs 绝对值</li>
<li>acos,asin,atan,cos,sin,tan 三角函数</li>
<li>sqrt 平方根</li>
<li>pow(double a,doble b) a 的b 次幂</li>
<li>log 自然对数</li>
<li>exp e 为底指数</li>
<li>max(double a,double b)</li>
<li>min(double a,double b)</li>
<li>random() 返回0.0 到1.0 的随机数</li>
<li>long round(double a) double 型数据a 转换为long 型（四舍五入）</li>
<li>toDegrees(double angrad) 弧度—&gt; 角度</li>
<li>toRadians(double angdeg) 角度—&gt;弧度</li>
</ul>
<h2 id="BigInteger与BigDecimal"><a href="#BigInteger与BigDecimal" class="headerlink" title="BigInteger与BigDecimal"></a>BigInteger与BigDecimal</h2><h3 id="BigInteger类"><a href="#BigInteger类" class="headerlink" title="BigInteger类"></a>BigInteger类</h3><p><strong>java.math</strong>包的 BigInteger 可以表示<strong>不可变的任意精度的整数。</strong>提供所有 Java 的基本<strong>整数</strong>操作符的对应物，并提供 java.lang.Math 的所有相关方法。<br>另外，BigInteger 还提供以下运算：模算术、GCD 计算、质数测试、素数生成、位操作以及一些其他操作。</p>
<ul>
<li><p>构造器<br> BigInteger(String val)：根据字符串构建BigInteger对象</p>
</li>
<li><p>常用 方法<br> public BigInteger <strong>abs()</strong>：</p>
<p>返回此 BigInteger 的<strong>绝对值</strong>的 BigInteger。<br> BigInteger <strong>add</strong>(BigInteger val) ：</p>
<p>返回其值为 (this <strong>+</strong> val) 的 BigInteger<br> BigInteger <strong>subtract</strong>(BigInteger val) ：</p>
<p>返回其值为 (this <strong>-</strong> val) 的 BigInteger<br> BigInteger <strong>multiply</strong>(BigInteger val) ：</p>
<p>返回其值为 (this <strong>*</strong> val) 的 BigInteger<br> BigInteger <strong>divide</strong>(BigInteger val) ：</p>
<p>返回其值为 (this <strong>/</strong> val) 的 BigInteger。<em>整数相除只保留整数部分。</em><br> BigInteger <strong>remainder</strong>(BigInteger val) ：</p>
<p>返回其值为 (this <strong>%</strong> val) 的 BigInteger。<br> BigInteger[] <strong>divideAndRemainder</strong>(BigInteger val)：返回包含 (this / val) 后跟(this % val) 的两个BigInteger 的数组。<br> BigInteger <strong>pow</strong>(int exponent) ：</p>
<p>返回其值为 (this exponent ) 的 BigInteger。</p>
</li>
</ul>
<p>###　BigDecimal类</p>
<p>一般的Float类和Double类可以用来做科学计算或工程计算，但在 商业计算中，到 要求数字精度比较高，故用到java.math.BigDecimal类 。<br>BigDecimal类<strong>支持不可变的、任意精度的有符号十进制定点数。</strong></p>
<ul>
<li>构造器<br> public BigDecimal(double val)<br> public BigDecimal(String val)</li>
<li>常用方法<br> public BigDecimal add(BigDecimal augend)<br> public BigDecimal subtract(BigDecimal subtrahend)<br> public BigDecimal multiply(BigDecimal multiplicand)<br> public BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBigInteger</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigInteger bi = <span class="keyword">new</span> BigInteger(<span class="string">"12433241123"</span>);</span><br><span class="line">    BigDecimal bd = <span class="keyword">new</span> BigDecimal(<span class="string">"12435.351"</span>);</span><br><span class="line">    BigDecimal bd2 = <span class="keyword">new</span> BigDecimal(<span class="string">"11"</span>);</span><br><span class="line">    System.out.println(bi);</span><br><span class="line">    <span class="comment">// System.out.println(bd.divide(bd2));</span></span><br><span class="line">    System.out.println(bd.divide(bd2, BigDecimal.ROUND_HALF_UP));</span><br><span class="line">    System.out.println(bd.divide(bd2, <span class="number">15</span>, BigDecimal.ROUND_HALF_UP));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="枚举类的使用"><a href="#枚举类的使用" class="headerlink" title="枚举类的使用"></a>枚举类的使用</h2><p>含义: 类的对象只有<strong>有限个</strong>，<strong>确定的</strong>。(<strong>当需要定义一组常量时，强烈建议使用枚举类。若枚举类只有一个对象，则可作为单例模式的实现方式。</strong>)</p>
<p>如何定义：</p>
<ul>
<li>方式一：jdk5.0之前，自定义枚举类</li>
<li>方式二：jdk5.0时，可使用<strong>enum</strong>关键字定义枚举类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">enumTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Season spring = Season.SPRING;</span><br><span class="line">        System.out.println(spring);<span class="comment">//Season&#123;seasonName='春天', seasonDesc='春暖花开'&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义枚举类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1.声明season对象的属性： private final修饰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.私有化类的构造器，并给对象属性赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Season</span><span class="params">(String seasonName, String seasonDesc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">        <span class="keyword">this</span>.seasonName = seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.提供当前枚举类的多个对象: public static final修饰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING = <span class="keyword">new</span> Season(<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SUMMER = <span class="keyword">new</span> Season(<span class="string">"夏天"</span>, <span class="string">"夏日炎炎"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season AUTUMN = <span class="keyword">new</span> Season(<span class="string">"秋天"</span>, <span class="string">"秋高气爽"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season WINTER = <span class="keyword">new</span> Season(<span class="string">"冬天"</span>, <span class="string">"冬天雪地"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.其他诉求1：获取枚举类对象的属性</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//4.其他诉求2：提供toString()</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Season&#123;"</span> +</span><br><span class="line">                <span class="string">"seasonName='"</span> + seasonName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", seasonDesc='"</span> + seasonDesc + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">enumTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Season1 summer = Season1.SUMMER;</span><br><span class="line">        System.out.println(summer);<span class="comment">//SUMMER</span></span><br><span class="line"></span><br><span class="line">        System.out.println(Season1.class.getSuperclass());<span class="comment">//class java.lang.Enum</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用enum关键字定义枚举类</span></span><br><span class="line"><span class="comment">//说明：定义的枚举类默认继承于class java.lang.Enum</span></span><br><span class="line"><span class="keyword">enum</span> Season1 &#123;</span><br><span class="line">    <span class="comment">//1.提供当前枚举类的多个对象,多个对象之间用","隔开，末尾对象";"结束</span></span><br><span class="line">    SPRING(<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>),</span><br><span class="line">    SUMMER(<span class="string">"夏天"</span>, <span class="string">"夏日炎炎"</span>),</span><br><span class="line">    AUTUMN(<span class="string">"秋天"</span>, <span class="string">"秋高气爽"</span>),</span><br><span class="line">    WINTER(<span class="string">"冬天"</span>, <span class="string">"冬天雪地"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.声明season对象的属性： private final修饰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.私有化类的构造器，并给对象属性赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Season1</span><span class="params">(String seasonName, String seasonDesc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">        <span class="keyword">this</span>.seasonName = seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.其他诉求1：获取枚举类对象的属性</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    //4.其他诉求2：提供toString()</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public String toString() &#123;</span></span><br><span class="line"><span class="comment">//        return "Season1&#123;" +</span></span><br><span class="line"><span class="comment">//                "seasonName='" + seasonName + '\'' +</span></span><br><span class="line"><span class="comment">//                ", seasonDesc='" + seasonDesc + '\'' +</span></span><br><span class="line"><span class="comment">//                '&#125;';</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Enum类的主要方法"><a href="#Enum类的主要方法" class="headerlink" title="Enum类的主要方法"></a>Enum类的主要方法</h3><ul>
<li><strong>values()</strong> 方法：返回枚举类型的对象数组。该方法可以很方便地遍历所有的枚举值。</li>
<li><strong>valueOf(String str)</strong>：可以把一个字符串转为对应的枚举类对象。要求字符串必须是枚举类对象的“名字”。如不是，会有运行时异常：IllegalArgumentException。</li>
<li><strong>toString()</strong>：返回当前枚举类对象常量的名称</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//values():</span></span><br><span class="line">Season1[] values = Season1.values();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">    System.out.println(values[i]);</span><br><span class="line">&#125;<span class="comment">//SPRING SUMMER AUTUMN WINTER</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//valueOf(String objName):返回枚举类中对象名是objName的对象</span></span><br><span class="line">Season1 winter = Season1.valueOf(<span class="string">"WINTER"</span>);</span><br><span class="line">System.out.println(winter);<span class="comment">//WINTER</span></span><br></pre></td></tr></table></figure>
<h3 id="使用enum关键字定义的枚举类实现接口的情况"><a href="#使用enum关键字定义的枚举类实现接口的情况" class="headerlink" title="使用enum关键字定义的枚举类实现接口的情况"></a>使用enum关键字定义的枚举类实现接口的情况</h3><ul>
<li>情况一：实现接口，在enum类中实现抽象方法；</li>
<li>情况二：<strong>让枚举类的对象分别实现接口中的抽象方法</strong>（每个都不一样）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SPRING(<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>)&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"春天在哪里"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注解（Annotation）的使用"><a href="#注解（Annotation）的使用" class="headerlink" title="注解（Annotation）的使用"></a>注解（Annotation）的使用</h2><p><strong>框架 = 注解 + 反射 + 设计模式。</strong></p>
<h3 id="理解Annotation："><a href="#理解Annotation：" class="headerlink" title="理解Annotation："></a>理解Annotation：</h3><ul>
<li>jdk 5.0 新增的功能</li>
<li>Annotation 其实就是代码里的 特殊标记, 这些标记可以在编译, 类加<br>载, 运行时被读取, 并执行相应的处理。通过使用Annotation, 程序员<br>可以在不改变原有逻辑的情况下, 在源文件中嵌入一些补充信息。</li>
<li>在JavaSE中，注解的使用目的比较简单，例如标记过时的功能，<br>忽略警告等。在JavaEE/Android中注解占据了更重要的角色，例如<br>用来配置应用程序的任何切面，代替JavaEE旧版中所遗留的繁冗<br>代码和XML配置等。</li>
</ul>
<h3 id="Annotation的使用示例"><a href="#Annotation的使用示例" class="headerlink" title="Annotation的使用示例"></a>Annotation的使用示例</h3><ul>
<li><p>示例一：生成文档相关的注解</p>
</li>
<li><p>示例二： 在编译时进行格式检查(JDK 内置的三个基本注解)</p>
<ul>
<li><strong>@Override</strong>: 限定重写父类方法, 该注解只能用于方法</li>
<li><strong>@Deprecated</strong>: 用于表示所修饰的元素(类, 方法等)已过时。通常是因为<br>所修饰的结构危险或存在更好的选择</li>
<li><strong>@SuppressWarnings</strong>: 抑制编译器警告</li>
</ul>
</li>
<li><p>示例三： 跟踪 代码依赖性，实现替代配置文件功能</p>
</li>
</ul>
<h3 id="如何自定义注解"><a href="#如何自定义注解" class="headerlink" title="如何自定义注解"></a>如何自定义注解</h3><ol>
<li>注解声明为：publi  <strong>@interface</strong> XXX</li>
<li>内部定义成员，通常使用<strong>value</strong>表示</li>
<li>可以指定成员的默认值，使用<strong>default</strong>定义（String[] value default “hello”）</li>
<li>若自定义注解没有成员，表明是一个标识作用</li>
</ol>
<p>PS: </p>
<ul>
<li>若注解有成员，在使用注解时，需要指明成员的值</li>
<li>自定义注解必须配上注解的信息处理流程（使用反射）才有意义</li>
<li>自定义注解通常都会指明两个元注解：Retention、Target</li>
</ul>
<h3 id="jdk-提供的4种元注解"><a href="#jdk-提供的4种元注解" class="headerlink" title="jdk 提供的4种元注解"></a>jdk 提供的4种元注解</h3><p>元注解：<strong>对现有的注解进行解释说明的 注解</strong></p>
<ul>
<li><strong>Retention</strong>：指定所修饰的 Annotation 的<strong>生命周期</strong>：SOURCE \ CLASS（默认行为）\ RUNTIME只有声明为RUNTIME生命周期的注解，才能通过反射获得</li>
<li><strong>Target</strong>：用于指定被修饰的 Annotation 能用于<strong>修饰那些程序元素</strong></li>
<li><strong>Documented</strong>：表示所修饰的注解在被<strong>javadoc解析时，保留下来</strong></li>
<li><strong>Inherited</strong>：被它修饰的 Annotation 将<strong>具有继承性</strong></li>
</ul>
<p><strong>JDK8中 注解的新特性</strong>： <strong>可重复注解 、 类型注解</strong></p>
<ul>
<li><p>可重复注解</p>
<p>① 在MyAnnotation 上声明<strong>@Repeatable</strong>，成员值为 MyAnnotation<strong>.class</strong></p>
<p>② MyAnnotationd Taget 和 Reten等元注解与MyAnnotation相同。</p>
</li>
<li><p>类型注解</p>
<p>ELementType. TYPE PARAMETER 表示该注解能写在类型变量的声明语句中（如：泛型声明）<br>ELementType.TYPE_USE 表示该注解能写在使用类型的任何语句中</p>
</li>
</ul>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>集合、数组都是<strong>对 多个数据 进行 存储操作 的结构</strong>，简称<strong>Java容器</strong>。  </li>
<li>说明：此时的存储，主要指的是<strong>内存层面的存储</strong>，不涉及持久化的存储（.txt,.jpg,.avi,数据库中）</li>
</ul>
<p>数组在存储多个数据方面的特点（缺点*）：</p>
<ul>
<li>（*）一旦初始化后，长度就确定了</li>
<li>一旦定义好，元素的类型也确定了</li>
<li>（*）提供的方法非常有限，对于添加、删除、插入数据等操作，非常不便，同时效率不高</li>
<li>（*）获取数组中实际元素的个数的需求，没有现成的属性或方法可用</li>
<li>（*）存储数据的特点：有序、可重复。对于无序、不可重复的需求，不能满足</li>
</ul>
<p>Java集合 可以分为<strong>Collection</strong> 和 <strong>Map</strong>两种体系（接口）</p>
<ul>
<li><strong>Collection</strong>接口：<strong>单列数据</strong>，定义了存取一些对象的方法的集合<ul>
<li><strong>List</strong>：元素<strong>有序、可重复</strong>的集合，<strong>“动态数组”</strong></li>
<li><strong>Set</strong>：元素<strong>无序、不可重复</strong>的集合，<strong>“数学上的集合”</strong></li>
</ul>
</li>
<li><strong>Map</strong>接口：<strong>双列数据</strong>，保存具有<strong>映射</strong>关系”key-value对”的集合，<strong>“数学上的函数映射”</strong></li>
</ul>
<h3 id="集合框架"><a href="#集合框架" class="headerlink" title="集合框架"></a>集合框架</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|----Collection接口：单列集合，用来存储一个一个的对象</span><br><span class="line">	|----List接口：存储有序的、可重复的数据 --&gt; “动态”数组</span><br><span class="line">		|----ArrayList、LinkedList、Vector</span><br><span class="line">	</span><br><span class="line">	|----Set接口：存储无序的、不可重复的数据 --&gt; 数学中的“集合”</span><br><span class="line">		|----HashSet、LinkedHashSet、TreeSet</span><br><span class="line">	</span><br><span class="line">|----Map接口：双列接口，用来存储一对(key-value)数据 --&gt; y = f(x)</span><br><span class="line">		|----HashMap、LinkedHashMap、TreeMap、Hashtable、Properties</span><br></pre></td></tr></table></figure>
<h2 id="Collection常用方法（通用）"><a href="#Collection常用方法（通用）" class="headerlink" title="Collection常用方法（通用）"></a>Collection常用方法（通用）</h2><ul>
<li><strong>add(Object e)</strong>: 将元素e添加到集合coll中</li>
<li><strong>addAll(Collection coll1)</strong>: 将coll1集合中的元素添加到当前的集合中</li>
<li><strong>size()</strong>: 获取添加的元素的个数</li>
<li><strong>clear()</strong>: 清空集合元素</li>
<li><strong>isEmpty()</strong>: 判断当前集合是否为空</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//add(Object e): 将元素e添加到集合coll中、</span></span><br><span class="line">        coll.add(<span class="string">"AA"</span>);</span><br><span class="line">        coll.add(<span class="string">"BB"</span>);</span><br><span class="line">        coll.add(<span class="number">123</span>); <span class="comment">//自动装箱</span></span><br><span class="line">        coll.add(<span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//size(): 获取添加的元素的个数</span></span><br><span class="line">        System.out.println(coll.size());<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//addAll(Collection coll1): 将coll1集合中的元素添加到当前的集合中</span></span><br><span class="line">        Collection coll1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        coll1.add(<span class="number">456</span>);</span><br><span class="line">        coll1.add(<span class="string">"cc"</span>);</span><br><span class="line">        coll.addAll(coll1);</span><br><span class="line"></span><br><span class="line">        System.out.println(coll.size());<span class="comment">//6</span></span><br><span class="line">        System.out.println(coll);<span class="comment">//[AA, BB, 123, Thu Oct 31 12:03:02 CST 2019, 456, cc]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//clear(): 清空集合元素</span></span><br><span class="line">        coll.clear();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//isEmpty(): 判断当前集合是否为空</span></span><br><span class="line">        System.out.println(coll.isEmpty());<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>contains(Object obj)</strong>: 判断当前集合中<strong>是否包含obj</strong></li>
</ul>
<p>PS:向Collection接口的实现类的对象中 添加数据obj时，<strong>要求obj所在类要重写equals()。</strong>不是判断地址，判断内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="number">456</span>);</span><br><span class="line">    Person p = <span class="keyword">new</span> Person(<span class="string">"Jerry1"</span>, <span class="number">20</span>);</span><br><span class="line">    coll.add(p);</span><br><span class="line">    coll.add(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>));</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.contains(Object obj): 判断当前集合中是否包含obj</span></span><br><span class="line">    <span class="comment">//我们在判断时会调用obj对象所在类的equals()</span></span><br><span class="line">    <span class="keyword">boolean</span> contains = coll.contains(<span class="number">123</span>);</span><br><span class="line">    System.out.println(contains);<span class="comment">//true</span></span><br><span class="line">    System.out.println(coll.contains(<span class="keyword">new</span> String(<span class="string">"Tom"</span>)));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    System.out.println(coll.contains(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>)));<span class="comment">//false</span></span><br><span class="line">    System.out.println(coll.contains(p));<span class="comment">//true</span></span><br><span class="line">    <span class="comment">//PS:向Collection接口的实现类的对象中添加数据obj时，要求obj所在类要重写equals()。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>containsAll(Collection coll1)</strong>: 判断形参coll1中的所有元素都存在于当前集合中。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.containsAll(Collection coll1): 判断形参coll1中的所有元素都存在于当前集合中。</span></span><br><span class="line">Collection coll1 = Arrays.asList(<span class="number">123</span>,<span class="number">4567</span>);</span><br><span class="line">System.out.println(coll.containsAll(coll1));<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>remove(Object obj)</strong>: 从当前集合中移除obj元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="number">456</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>));</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.remove(Object obj): 从当前集合中移除obj元素</span></span><br><span class="line">    coll.remove(<span class="number">123</span>);</span><br><span class="line">    System.out.println(coll);</span><br><span class="line">    <span class="comment">//[456, com.good.java.Person@4ee285c6, Tom, false]</span></span><br><span class="line">    coll.remove(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>));</span><br><span class="line">    System.out.println(coll);</span><br><span class="line">    <span class="comment">//[456, com.good.java.Person@4ee285c6, Tom, false]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>removeAll(Collection coll1)</strong>: <strong>差集</strong>，从当前集合中移除coll1中所有的元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.removeAll(Collection coll1): 差集，从当前集合中移除coll1中所有的元素</span></span><br><span class="line">Collection coll1 = Arrays.asList(<span class="number">123</span>,<span class="number">456</span>);</span><br><span class="line">coll.removeAll(coll1);</span><br><span class="line">System.out.println(coll);</span><br><span class="line"><span class="comment">//[com.good.java.Person@4ee285c6, Tom, false]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>retainAll(Collection coll1):</strong> <strong>交集</strong>，获取当前集合和coll1集合的交集</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="number">456</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>));</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.retainAll(Collection coll1): 交集，获取当前集合和coll1集合的交集</span></span><br><span class="line">    Collection coll1 = Arrays.asList(<span class="number">123</span>,<span class="number">456</span>,<span class="number">789</span>);</span><br><span class="line">    coll.retainAll(coll1);</span><br><span class="line">    System.out.println(coll);</span><br><span class="line">    <span class="comment">//[123, 456]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>equals(Object obj)</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    Collection coll1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll1.add(<span class="number">123</span>);</span><br><span class="line">    coll1.add(<span class="number">456</span>);</span><br><span class="line"><span class="comment">//        coll1.add(new Person("Jerry", 20));</span></span><br><span class="line">    coll1.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll1.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6.equals(Object obj)</span></span><br><span class="line">    System.out.println(coll.equals(coll1));</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>hashCode():</strong> 返回当前对象的哈希值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> Person(<span class="string">"Jerry"</span>, <span class="number">20</span>));</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//7.hashCode(): 返回当前对象的哈希值</span></span><br><span class="line">System.out.println(coll.hashCode());<span class="comment">//701070075</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>集合 —&gt; 数组：<strong>toArray()</strong></p>
<p>/拓展：数组 —&gt; 集合： 调用Arrays类的静态方法<strong>asList()</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Object[] arr = coll.toArray();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    System.out.println(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//拓展：数组 ---&gt; 集合： 调用Arrays类的静态方法asList()</span></span><br><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="keyword">new</span> String[]&#123;<span class="string">"aa"</span>,<span class="string">"bb"</span>,<span class="string">"cc"</span>&#125;);</span><br><span class="line">System.out.println(list);<span class="comment">//[aa, bb, cc]</span></span><br><span class="line"></span><br><span class="line">List arr1 = Arrays.asList(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">123</span>,<span class="number">456</span>&#125;);</span><br><span class="line">System.out.println(arr1.size());<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">List arr2 = Arrays.asList(<span class="keyword">new</span> Integer[]&#123;<span class="number">123</span>,<span class="number">456</span>&#125;);</span><br><span class="line">System.out.println(arr2.size());<span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>iterator()</strong> 返回Iterator接口的实例，用于遍历集合元素，<em>注意是一次性的</em></li>
</ul>
<h3 id="集合元素的遍历（迭代器接口Iterator）"><a href="#集合元素的遍历（迭代器接口Iterator）" class="headerlink" title="集合元素的遍历（迭代器接口Iterator）"></a>集合元素的遍历（迭代器接口Iterator）</h3><ul>
<li>next()   判断是否还有下有一个元素</li>
<li>hasNext()   ①指针下移 ②将下移以后集合位置上的元素返回</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="string">"aa"</span>);</span><br><span class="line">    coll.add(<span class="string">"BB"</span>);</span><br><span class="line">    coll.add(<span class="number">123</span>); <span class="comment">//自动装箱</span></span><br><span class="line">    coll.add(<span class="keyword">new</span> Date());</span><br><span class="line">    Iterator iterator = coll.iterator();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line">    <span class="comment">//报异常NoSuchElementException</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式二： 不推荐</span></span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt; coll.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式三： 推荐</span></span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>remove() 删除集合中某数据（调用前需要先next()）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    Object obj = iterator.next();</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"BB"</span>.equals(obj)) &#123;</span><br><span class="line">        iterator.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="foreach-循环遍历集合"><a href="#foreach-循环遍历集合" class="headerlink" title="foreach 循环遍历集合"></a>foreach 循环遍历集合</h3><p>JDK5 新增了foreach 用于遍历数组和集合（内部任然调用迭代器）</p>
<ul>
<li><strong>for(集合元素类型 <em>局部变量</em>：集合对象)</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Object obj : coll) &#123;</span><br><span class="line">    System.out.println(obj);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 注意是局部变量，不会改变</span></span><br></pre></td></tr></table></figure>
<h2 id="List接口"><a href="#List接口" class="headerlink" title="List接口"></a>List接口</h2><p>替代数组，元素有序，且可重复</p>
<p>具体实现类：ArrayList、LinkedList、Vector</p>
<p>三者异同：</p>
<ul>
<li><p>同：三个类都实现了List接口，存储数据的特点相同，元素有序，且可重复</p>
</li>
<li><p>异：</p>
<p>ArrayList  作为List接口的主要实现类 ，线程不安全，效率高，底层用Object[]存储</p>
<p>LinkedList  底层用双向链表存储，对于频繁插入、删除操作，此类效率高</p>
<p>Vector  作为List的古老实现类，线程安全，效率低，底层用Object[]存储</p>
</li>
</ul>
<p>Arraylist，的源码分析：JDK7情况下<br>ArrayList list= new ArrayList（/（底层创建了长度是10850bc数 HelementData List. add （123）； //eLementData【0】= new Integer（123）； List.0（1）：/0果此次的添加导致底层 eLementDat数组容量不够，则扩容默认情况下，扩容为原来的容量的1.5倍，同时需要将原有数组中的数据复制到新的数组中结论：建议开发中使用带参的构造器：ArrayList List= new Arraylist（ unt capacity）</p>
<p>JDK8中 ArrayList的变化：<br>ArrayList list= new ArrayList（）/）底层0 bject】 elementdata初始化为}，并没有创建List.0d（123）；//第次调用d（）时，底层才创建了长度10的数组，并将数据123添加到 elemen后续的添加和扩容操作与jR7无异</p>
<p>总结：JDK7中的 Arraylist的对象的创建类似于单例的汉式，而8中的ryst的对象的创建类似于单例的像汉式，延迟了数组的创建，节省内存</p>
<h3 id="List中的常用方法"><a href="#List中的常用方法" class="headerlink" title="List中的常用方法"></a>List中的常用方法</h3><ul>
<li>void <strong>add</strong> (int index, Object ele）：在 index位置插入eLle元素</li>
<li><strong>boolean addAll</strong> (int index, Collection eles）：从 index位置开始特eles中的所有元素添加进来</li>
<li>Object <strong>get</strong> ( int index）：获取指定 index位置的元素</li>
<li>int <strong>indexOf</strong> (Object obj）：返园obj在集合中首次出现的位置</li>
<li>int <strong>lastIndexOf</strong> (Object obj）：返bj在当前集台中末次出现的位置</li>
<li><strong>Object remove</strong> ( int index）：移除指定inex位置的元素，<strong>并返回此元素</strong>。（区别于Collection的，eg：List. remove(2)； list.remove(new Integer (2)；）</li>
<li>Object <strong>set</strong> ( int index, Object ele）：设置指定 index位置的元素为ele </li>
<li><strong>List subList</strong> ( int fromIndex, int toIndex）：返从 fromIndex到 toIndex位置的子集合</li>
</ul>
<p><strong>总结：常用方法</strong></p>
<ul>
<li>增：add(Object obj)</li>
<li>删：remove(int index) /  remove(object obj)</li>
<li>改:  set(int index, Object ele)</li>
<li>查：get(int index)</li>
<li>插：add(int index, Object ele)</li>
<li>长度：size()</li>
<li>遍历：①Iterate送代器 ②增强for循环 ③普通的循环</li>
</ul>
<h2 id="Set接口"><a href="#Set接口" class="headerlink" title="Set接口"></a>Set接口</h2><p>存储<strong>无序的、不可重复</strong>的数据 –&gt; 数学中的“集合”<br>        |—-HashSet、LinkedHashSet、TreeSet</p>
<ul>
<li>无序性：不等于随机性，添加的位置不同</li>
<li>不可重复性：保证添加的元素按照equals()判断时，不能返回true</li>
</ul>
<p>PS：Set接口中<strong>没有额外定义新的方法</strong>，使用的都是Collection中声明过的方法。</p>
<p>要求：</p>
<ul>
<li>向Set中添加的数据，其所在类<strong>一定要重写hashCode() 和 equals()</strong></li>
<li>重写的方法必须保持一致性，相同的对象必须具有相等的散列码。（技巧：对象中用作equals方法比较的Field，都应该用来计算hashCode值）</li>
</ul>
<p><strong>HashSet</strong>： 作为set接口的主要实现类；<strong>线程不安全</strong>的；<strong>可以存储null值</strong></p>
<p><strong>LinkedHashSet</strong>： 作为HashSet的子类，遍历内部数据时，<strong>可以按照添加的顺序遍历</strong>（原因：在添加数据的同时，每个数据还维护了俩应用，记录此数据前一个数据和后一个数据的地址）优点：<strong>对于频繁的遍历操作效率更高。</strong></p>
<p><strong>TreeSet</strong>： <strong>可以按照添加对象的指定属性，进行排序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//HashSet</span></span><br><span class="line">    Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">    set.add(<span class="number">123</span>);</span><br><span class="line">    set.add(<span class="string">"AA"</span>);</span><br><span class="line">    set.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    Iterator iterator = set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//        AA</span></span><br><span class="line"><span class="comment">//        false</span></span><br><span class="line"><span class="comment">//        123</span></span><br><span class="line">	<span class="comment">//LinkedHashSet</span></span><br><span class="line">    LinkedHashSet linkedHashSet = <span class="keyword">new</span> LinkedHashSet();</span><br><span class="line">    linkedHashSet.add(<span class="number">123</span>);</span><br><span class="line">    linkedHashSet.add(<span class="string">"AA"</span>);</span><br><span class="line">    linkedHashSet.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    Iterator iterator1 = linkedHashSet.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator1.hasNext()) &#123;</span><br><span class="line">        System.out.println(iterator1.next());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//        123</span></span><br><span class="line"><span class="comment">//        AA</span></span><br><span class="line"><span class="comment">//        false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>TreeSet</strong>：向其中添加数据，要求是相同的对象。比较是否添加的对象相同，此处不使用equals，可以分别实现Comparable和Comparator实现自然和定制排序。</p>
<ul>
<li>自然排序<strong>使用的是compareTo</strong>返回0，必须<strong>重写compareTo</strong></li>
<li>定制排序<strong>使用的是compare</strong>返回0，必须<strong>重写compare</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    TreeSet set = <span class="keyword">new</span> TreeSet();</span><br><span class="line">    set.add(<span class="number">123</span>);</span><br><span class="line">    set.add(<span class="number">34</span>);</span><br><span class="line">    set.add(<span class="number">577</span>);</span><br><span class="line"></span><br><span class="line">    Iterator iterator = set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Map接口"><a href="#Map接口" class="headerlink" title="Map接口"></a>Map接口</h2><p>双列接口，用来存储一对(key-value)数据 –&gt; y = f(x)</p>
<p>|—-HashMap ：作为Map的主要实现类；线程不安全，效率高，<strong>能存储null 的key 和value</strong>，底层：数组＋链表（JDK7）+红黑树（JDK8）<br>        |—-LinkedHashMap ：保证在遍历map元素时，可以<strong>按照添加的顺序实现遍历</strong>，对于频繁的遍历操作，此类执行效率高于HashMap<br>|—-TreeMap ： 保证按照添加的 key-value对 进行排序，实现<strong>排序遍历</strong>，按照key自然排序或定制排序，底层使用红黑树。<br>|—-Hashtable ： 作为古老的实现类，线程安全，效率低，不能存储null 的key 和value<br>        |—-Properties ： <strong>常用来处理配置文件，key和value都是String类型</strong>、</p>
<p><strong>Map结构的理解：</strong></p>
<ul>
<li>Map中的 <strong>key</strong>：无序的、不可重复的，使用 <strong>Set</strong> 存储所有的key   —–&gt;  key所在的类要重写equals和 hashCode</li>
<li>Map中的 <strong>value</strong>：无序的、可重复的，使用 <strong>Collection</strong>存储所有的 value  —–&gt;  value所在的类要重写equals</li>
<li>一个键值对：key- value构成了一个 Entry对象</li>
<li>Map中的 <strong>entry</strong>：无序的、不可重复的，使用 <strong>Set</strong> 存所有entry</li>
</ul>
<p>HashMap的底层实现原理</p>
<p>HashMap的底层实现原理？d7为例说明HashMap map new HashMap（）：<br>在实例化以后，底层创建了长度是16的一维数组 Entry【 table<br>..可能已经执行过多次put map. put（key1， vaLue1）<br>首先，调用key1所在类的 hashcode（）计算key1哈希值，此哈希信经过某种算法计算以后，得到在 Entry数组中的存放位置。<br>如果此位置上的数据为空，此时的ey1- value1添加成功情况如果此位置上的数据不为空，（意味着此位置上存在一个或多个数据（以链表形式存在），比较key1和已经存在的一个或多个数据的哈希值：<br>如果Rey1的哈希值与已经存在的数据的哈希值都不相同，此的key1- value1添加成功。—）况2如果Rey1的哈希值和已经存在的某一个数据（Rey2-vaue2）的哈希值相同，继续比较：调用key1所在类的 equals（key2如果 equals（）返aLse：此的key1-vae1添加成功。—情况3如果 equaLs（）返回true：使用vLue1营换 value2补充：关于情况2和情况3：此的key1- value1和原来的数据以链表的方式存储</p>
<p>在不断的添加过程中，会涉及到扩容问题，默认的扩容方式：扩容为原来容量的2倍，并将原有的数据复制过来</p>
<p>jdk8相较于jdk7在底层实现方面的不同1. new Hash№p（）：底层没有创建一个长度为6的数组<br>2.j如k8底层的数组是：Mode【】，非 Entry【<br>3.营次调用put（）方法的，底层创建长度为16的数组4.jk7底居结构只有：数组+链表。dR8中底居结构：数组+链表+红黑树当数组的某一个索引位置上的元素以链表形式存在的数据个数&gt;8且当前数组的长度&gt;64的此时此索引位置上的所有数据改为体用红黑树存储。</p>
<h3 id="Map接口的常用方法"><a href="#Map接口的常用方法" class="headerlink" title="Map接口的常用方法"></a>Map接口的常用方法</h3><p><strong>添加、删除、修改操作</strong></p>
<ul>
<li><p>Object put(Object key, Object value)：将指定key-value添加到或修改）当前map对象中</p>
</li>
<li><p>void putALL(Map m)：将m中的所有key-value对存放到当前map中</p>
</li>
<li><p>Object remove(Object key)：移除指定key的key- value对，并返value </p>
</li>
<li><p>void clear()：清空当前map中的所有数据</p>
</li>
</ul>
<p><strong>元素查询的操作：</strong></p>
<ul>
<li><p>Object get(Object key)：获取指定key对应的value </p>
</li>
<li><p>boolean containsKey (Object key)：是否包含指定的key </p>
</li>
<li><p>boolean containsValue(Object value)：是否包含指定的value </p>
</li>
<li><p>int size()：返回map中 key- value对的个数</p>
</li>
<li><p>boolean isEmpty()：判断当前map是否为空</p>
</li>
<li><p>booLean equals(Object obj)：判断当前map和参数对象obj是否相等</p>
</li>
</ul>
<p><strong>元视图操作的方法：</strong></p>
<ul>
<li><p>Set keySet()：返回所有key构成的Set集合</p>
</li>
<li><p>Collection values()：返园所有 value构成的 Collection集合</p>
</li>
<li><p>Set entrySet()：返园所有key-value对构成的Set集台</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> test5（）&#123;</span><br><span class="line">	Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">    map.put(<span class="string">"AA"</span>，<span class="number">123</span>); </span><br><span class="line">    map.put(<span class="number">45</span>,<span class="number">123</span>);</span><br><span class="line">    map.put(<span class="string">"BB"</span>，<span class="number">56</span>);</span><br><span class="line">    <span class="comment">//遍历所有的key集：keySet()</span></span><br><span class="line">    Set set = map.keySet();</span><br><span class="line">    Iterator iterator = set.iterator();</span><br><span class="line">    While(iterator.hasNext()) &#123;</span><br><span class="line">        System.out.println(iterator,next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历所有的value集：values()</span></span><br><span class="line">    Collection values = map.values();</span><br><span class="line">    <span class="keyword">for</span>(object obj : values) &#123;</span><br><span class="line">        System.out.println(obj);  </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">//遍历所有的key-value</span></span><br><span class="line">	<span class="comment">//方式一 entrySet()</span></span><br><span class="line">    Set entrySet = map.entrySet();</span><br><span class="line">    Iterator iterator1 = entrySet.iterator();</span><br><span class="line">    While(iterator1.hasNext()) &#123;</span><br><span class="line">        Object obj = iterator1.next();</span><br><span class="line">        <span class="comment">//entrySet：集合中的元素都是entry </span></span><br><span class="line">        Map.Entry entry = (Map.Entry) obj;</span><br><span class="line">        System.out.println(entry.getKey() + <span class="string">"----"</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方式二：</span></span><br><span class="line">	Set keySet = map.keySet();</span><br><span class="line">    Iterator iterator2 = keySet.iterator();</span><br><span class="line">    While(iterator2.hasNext())&#123;</span><br><span class="line">        object key = iterator2.next();</span><br><span class="line">        Object value = map.get(key);</span><br><span class="line">        System.out.println(key + <span class="string">"====="</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>总结：常用方法：<br>添加：put(Object key, Object value)<br>删除：remove(Object key)<br>修改：put(Object key, Object value)<br>查询：get(Object key)<br>长度：size()<br>遍历：keySet()  /  values()  /  entrySet()</p>
<p>向 TreeMap 中添加key- value，要求 key必须是由同一个类创建的对象，因为要按照key进行排序：自然排序、定制排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Properties：常用来处理配置文件。key和value都是 String类型</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Properties pros = <span class="keyword">new</span> Properties();</span><br><span class="line">    FileInputstream fis = <span class="keyword">new</span> FileInputstream(jdbc.properties);</span><br><span class="line">    pros.load(fis); <span class="comment">//加载流对应的文件</span></span><br><span class="line">    String name = pros.getProperty(<span class="string">"name"</span>);</span><br><span class="line">    String password = pros.getProperty(<span class="string">"password1"</span>);</span><br><span class="line">    System.out.println(<span class="string">"name ="</span> + name + <span class="string">"password ="</span> password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Collections工具类"><a href="#Collections工具类" class="headerlink" title="Collections工具类"></a>Collections工具类</h3><p> <strong>操作Set、List和Map等集合的工具类</strong></p>
<p>● Collections中提供了一系列静态的方法对集合元素进行排序、查询和修改等操作，还提供了对集合对象设置不可变、对集合对象实现同步控制等方法。</p>
<p>●<strong>排序操作</strong>：（均为 static方法）</p>
<ul>
<li>reverse（List）：反转List中元素的顺序</li>
<li>shuffle（List）：对List集合元素进行随机排</li>
<li>sort（List）：根据元素的自然顺序对指定List集合元素按升序排序</li>
<li>sort（List, Comparator）：根据指定的 Comparator产生的顺序对List集合元素进行排序</li>
<li>swap（List,int,int）：将指定List集合中的i 处元素和j 处元素进行交换</li>
</ul>
<p><strong>查找、替换</strong></p>
<ul>
<li>Object max（ Collection）：根据元素的自然顺序，返回给定集合中的最大元素</li>
<li>Object max（ Collection, Comparator）：根据 Comparator指定的顺序，返回给定集合中的最大元素</li>
<li>Object min（ Collection）<br>Object min（Collection, Comparator）</li>
<li>int frequency（collection, Object）：返回指定集合中指定元素的出现次数</li>
<li>void copy（ List dest. List src）：将src中的内容复制到dest中</li>
<li>boolean replaceAll（ List list, Object oldVal, Object newVal）：使用新值替换List对象的所有旧值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> test2&#123;</span><br><span class="line">    List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    list.add(<span class="number">123</span>);</span><br><span class="line">    list.add(<span class="number">43</span>);</span><br><span class="line">    list.add(<span class="number">765</span>);</span><br><span class="line">    list.add(-<span class="number">97</span>);</span><br><span class="line">    <span class="comment">// 报异常：IndexOutOfBounds Exception（" Source does not fit in dest"）</span></span><br><span class="line">    <span class="comment">// List dest = new ArrayList;</span></span><br><span class="line">    <span class="comment">// Collections.copy(dest, List);</span></span><br><span class="line">    <span class="comment">// 正确的：</span></span><br><span class="line">    List dest = Arrays.asList(<span class="keyword">new</span> Object(list.size());</span><br><span class="line">    System.out.println(dest.size());</span><br><span class="line">    <span class="comment">// List.sizeof </span></span><br><span class="line">    Collections.copy(dest, list);</span><br><span class="line">    System.out.println(dest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Collections类中提供了多个<strong>synchronizedXxx()</strong>方法，该方法可使将指定集合包装成 <strong>线程同步 的集合</strong>，从而可以解决多线程并发访问集合时的线程安全。</p>
<h1 id="泛型Generic"><a href="#泛型Generic" class="headerlink" title="泛型Generic"></a>泛型Generic</h1><p><strong>标签</strong></p>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>集合容器类在 设计阶段/声明阶段 不能确定这个容器到底实际存的是什么类型的对象，所以在<strong>JDK1.5之前只能把元素类型设计为 Object, JDK1.5之后使用泛型来解决。</strong> 因为这个时候除了元素的类型不确定，其他的部分是确定的，例如关于这个元素如何保存，如何管理等是确定的，因此此时<strong>把元素的类型设计成一个参数，这个类型参数叫做泛型</strong>。 Collection<e>，List<e>， ArrayList<e>这个<e>就是类型参数，即泛型。（不能是基础类型）</e></e></e></e></p>
<p>所谓泛型，就是允许在定义类、接口时通过一个标识<strong>表示类中 某个属性的类型 或者是 某个方法的返回值及参数类型</strong>。这个类型参数将在使用时（例如，继承或实现这个接口，用这个类型声明变量、创建对象时）确定（即传入实际的类型参数，也称为类型实参）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在集合中使用泛型之前的情况</span></span><br><span class="line"><span class="meta">@Test</span> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> test1&#123;</span><br><span class="line">    ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">//需求：存放学生的成绩</span></span><br><span class="line">    list.add(<span class="number">78</span>);</span><br><span class="line">    list.add(<span class="number">76</span>);</span><br><span class="line">    <span class="comment">//问题一：类型不安全</span></span><br><span class="line">    List.add(<span class="string">"Tom"</span>);</span><br><span class="line">    <span class="keyword">for</span>(object score : list）&#123;</span><br><span class="line">        <span class="comment">//问题二：强转时，可能出现 CLassCastException</span></span><br><span class="line">        <span class="keyword">int</span> stuScore = (Integer) score;</span><br><span class="line">        System.out.println(stuScore);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//在集合中使用泛型的情况</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> test2&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    list.add(<span class="number">78</span>);</span><br><span class="line">    list.add(<span class="number">76</span>);</span><br><span class="line">    <span class="comment">//编译时，就会进行类型检查，保证数据的安全</span></span><br><span class="line">    List.add(<span class="string">"Tom"</span>);</span><br><span class="line">    <span class="keyword">for</span>(Integer score : list) &#123;</span><br><span class="line">        <span class="comment">//避免了强转操作</span></span><br><span class="line">        <span class="keyword">int</span> stuScore = score;</span><br><span class="line">        System.out.println(stuScore);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//方式二：</span></span><br><span class="line">    Iterator&lt;Integer&gt; iterator = list.iterator();</span><br><span class="line">    While(iterator.hasNext()) &#123;</span><br><span class="line">        <span class="keyword">int</span> stuScore = iterator.next();</span><br><span class="line">        System.out.println(stuScore); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在集合中使用泛型的情况：以 HashMap 为例</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">    map.put(<span class="string">"Jerry"</span>, <span class="number">87</span>);</span><br><span class="line">    map.put(<span class="string">"Jack"</span>, <span class="number">67</span>);</span><br><span class="line">   <span class="comment">// map.put(123，"ABC");报错</span></span><br><span class="line">    <span class="comment">//泛型的放套</span></span><br><span class="line">    Set&lt;Map Entry&lt;string, Integer&gt;&gt; entry = map.entryset();</span><br><span class="line">    Iterator&lt;Map Entry&lt;String, Integer&gt;&gt; iterator = entry.iterator();</span><br><span class="line">    While(iterator.hasNext())&#123;</span><br><span class="line">        Map Entry&lt;String, Integer&gt; e = iterator.next();</span><br><span class="line">        String key = e.getKey();</span><br><span class="line">        Integer value = e.getValue();</span><br><span class="line">        System.out.println(key + <span class="string">"----"</span> + value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="在集合中使用泛型总结"><a href="#在集合中使用泛型总结" class="headerlink" title="在集合中使用泛型总结"></a><strong>在集合中使用泛型总结</strong></h2><ul>
<li><p>① 集合接口或集合类在jdk5.0时都修改为带泛型的结构。</p>
</li>
<li><p>② 在实例化 集合类 时，可以指明具体的泛型类型</p>
</li>
<li><p>③ 指明完以后，在集合类或接口中<strong>凡是定义类或接口时，内部结构（比如：方法、构造器、属性等）使用到类的泛型的位置，都指定为实例化的泛型类型</strong>。</p>
<p>比如：add(E e)  —&gt; 实例化以后：add(Integer e)</p>
</li>
<li><p>④ 注意点：泛型的类型必须是类，<strong>不能是基本数据类型</strong>。需要用到基本数据类型的位置，拿包装类替换</p>
</li>
<li><p>⑤ 如果实例化时，没有指明泛型的类型。默认类型为java.lang.Object类型。</p>
</li>
</ul>
<h2 id="自定义泛型结构"><a href="#自定义泛型结构" class="headerlink" title="自定义泛型结构"></a><strong>自定义泛型结构</strong></h2><h3 id="泛型类、泛型接口"><a href="#泛型类、泛型接口" class="headerlink" title="泛型类、泛型接口"></a>泛型类、泛型接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子类在继承带泛型的父类时，指明了泛型类型。则实例化子类对象时，不再要指明泛型</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubOrder1</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">order</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class">    // <span class="title">Suborder1</span>&lt;<span class="title">T</span>&gt;：仍然是泛型类</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">subOrder</span> <span class="keyword">extends</span> <span class="title">order</span>&lt;<span class="title">Integer</span>&gt;</span></span><br><span class="line"><span class="class">    // <span class="title">SubOrder</span>：不是泛型类</span></span><br></pre></td></tr></table></figure>
<p>PS:</p>
<ul>
<li><p>泛型类可能有多个参数，此时应将多个参数一起放在尖括号内。</p>
<p>比如 &lt;E1, E2, E3&gt;  </p>
</li>
<li><p>泛型类的 构造器 如下： public GenericClass(){}<br>而下面是错误的：public Generic Class<e>(){}</e></p>
</li>
<li><p>实例化后，操作原来泛型位置的结构 必须与指定的泛型类型一致</p>
</li>
<li><p><strong>泛型不同的引用不能相互赋值</strong></p>
<p>尽管在编译时 ArrayList<string>和 ArrayList<integer>是两种类型，但是，在运行时只有一个 ArrayList被加载到JVM中</integer></string></p>
</li>
<li><p>泛型如果不指定，将被搽除，泛型对应的类型均按照Object处理，但不等价于Object。</p>
<p>经验：<strong>泛型要使用一路都用</strong>。要不用，一路都不要用。</p>
</li>
<li><p>如果泛型类是一个接口或抽象类，则不可创建泛型类的对象。</p>
</li>
<li><p>jdk1.7，泛型的简化操作：ArrayList<e> fist = new Array List&lt;&gt;();；</e></p>
</li>
<li><p>泛型的指定中不能使用基本数据类型，可以使用包装类替换。</p>
</li>
<li><p>在 类/接口 上声明的泛型，在本类或本接口中即<strong>代表某种类型，可以作为非静态属性的类型、非静态方法的参数类型、非静态方法的返回值类型。</strong>但在<strong>静态方法中不能使用类的泛型。</strong></p>
</li>
<li><p><strong>异常类不能是泛型的</strong></p>
</li>
<li><p>不能使用new E。但是可以：E elements = (E) new Object()<br>参考：ArrayList 源码中声明：Object[] elementData，而非泛型参数类型数组。</p>
</li>
<li><p>父类有泛型，子类可以选择保留泛型也可以选择指定泛型类型：</p>
<p>子类 不保留 父类的泛型：按需实现没有类型 擦除 具体类型</p>
<p>子类 保留 父类的泛型：泛型子类 全部保留 / 部分保留</p>
<p>结论：子类必须是“富二代”，子类除了指定或保留父类的泛型，还可以增加自己的泛型</p>
</li>
</ul>
<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a><strong>泛型方法</strong></h3><p>在方法中出现了泛型的结构，<strong>泛型参数 与 类的泛型参数没有任何关系</strong>。<br>换句话说，<strong>泛型方法所属的类是不是泛型类都没有关系</strong></p>
<p>泛型方法，<strong>可以声明为静态的</strong>。原因：泛型参数是在调用方法时确定的，并非在实例化类时确定。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function">List&lt;E&gt; <span class="title">copyFromArrayToList</span><span class="params">(E[] arr)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;E&gt; list = <span class="keyword">new</span> ArrayList&lt;E&gt;();</span><br><span class="line">    <span class="keyword">for</span>(E e : arr) &#123;</span><br><span class="line">        list.add(e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="泛型在继承方面的体现"><a href="#泛型在继承方面的体现" class="headerlink" title="泛型在继承方面的体现"></a><strong>泛型在继承方面的体现</strong></h3><p>虽然类A是类B的父类，但是G<a> 和 G<b> 二者不具备子父类关系，二者是并列关系。</b></a></p>
<p>补充：类A是类B的父类，A<g> 是B<g> 的父类</g></g></p>
<h3 id="通配符："><a href="#通配符：" class="headerlink" title="通配符： ?"></a>通配符： ?</h3><p>类A是类B的父类，G<a> 和G<b> 是没有关系的，二者共同的父类是：G&lt;?&gt;</b></a></p>
<ul>
<li><strong>对于G&lt;?&gt; 就不能向其内部添加数据，除了添加null之外</strong></li>
<li>允许读取数据，<strong>读取的数据类型为Object。</strong></li>
</ul>
<h3 id="有限制条件的通配符"><a href="#有限制条件的通配符" class="headerlink" title="有限制条件的通配符"></a><strong>有限制条件的通配符</strong></h3><ul>
<li>? extends A:</li>
<li>? super A:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*有限制条件的通配符的使用。</span></span><br><span class="line"><span class="comment">        ? extends A:</span></span><br><span class="line"><span class="comment">              上限&lt;=  G&lt;? extends A&gt; 可以作为G&lt;A&gt;和G&lt;B&gt;的父类，其中B是A的子类</span></span><br><span class="line"><span class="comment">        ? super A:</span></span><br><span class="line"><span class="comment">              下限&gt;=  G&lt;? super A&gt; 可以作为G&lt;A&gt;和G&lt;B&gt;的父类，其中B是A的父类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;? extends Person&gt; list1 = <span class="keyword">null</span>;</span><br><span class="line">        List&lt;? <span class="keyword">super</span> Person&gt; list2 = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        List&lt;Student&gt; list3 = <span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">        List&lt;Person&gt; list4 = <span class="keyword">new</span> ArrayList&lt;Person&gt;();</span><br><span class="line">        List&lt;Object&gt; list5 = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">        list1 = list3;</span><br><span class="line">        list1 = list4;</span><br><span class="line"><span class="comment">//        list1 = list5;</span></span><br><span class="line"><span class="comment">//        list2 = list3;</span></span><br><span class="line">        list2 = list4;</span><br><span class="line">        list2 = list5;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//读取数据：</span></span><br><span class="line">        list1 = list3;</span><br><span class="line">        Person p = list1.get(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//编译不通过</span></span><br><span class="line">        <span class="comment">//Student s = list1.get(0);</span></span><br><span class="line">        list2 = list4;</span><br><span class="line">        Object obj = list2.get(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">////编译不通过</span></span><br><span class="line"><span class="comment">//        Person obj = list2.get(0);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//写入数据：</span></span><br><span class="line">        <span class="comment">//编译不通过</span></span><br><span class="line"><span class="comment">//        list1.add(new Student());</span></span><br><span class="line">        <span class="comment">//编译通过</span></span><br><span class="line">        list2.add(<span class="keyword">new</span> Person());</span><br><span class="line">        list2.add(<span class="keyword">new</span> Student());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h1><h2 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h2><p>java.io.File类，<strong>文件和文件目录路径的抽象表示形式</strong>，与平台无关</p>
<ul>
<li>File类的一个对象，代表一个文件或一个文件目录(俗称：文件夹)</li>
<li>File类声明在java.io包下</li>
<li>File类中涉及到关于<strong>文件或文件目录</strong>的<strong>创建、删除、重命名、修改时间、文件大小</strong>等方法，</li>
<li><strong>并未涉及到写入或读取文件内容的操作</strong>。如果需要读取或写入文件内容，必须使用IO流来完成。</li>
<li>后续File类的对象常会<strong>作为参数传递到流的构造器</strong>中，指明读取或写入的”终点”.</li>
</ul>
<h3 id="创建File类的实例"><a href="#创建File类的实例" class="headerlink" title="创建File类的实例"></a>创建File类的实例</h3><ul>
<li>File(String filePath)</li>
<li>File(String parentPath,String childPath)</li>
<li>File(File parentFile,String childPath)</li>
</ul>
<p>PS：</p>
<ul>
<li>相对路径：相较于某个路径下，指明的路径。<br>绝对路径：包含盘符在内的文件或文件目录的路径</li>
<li>.路径分隔符<br>windows:\<br>unix:/</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造器1</span></span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);<span class="comment">//相对于当前module</span></span><br><span class="line">    File file2 =  <span class="keyword">new</span> File(<span class="string">"D:\\workspace_idea1\\JavaSenior\\day08\\he.txt"</span>);</span><br><span class="line">    System.out.println(file1);</span><br><span class="line">    System.out.println(file2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造器2：</span></span><br><span class="line">    File file3 = <span class="keyword">new</span> File(<span class="string">"D:\\workspace_idea1"</span>,<span class="string">"JavaSenior"</span>);</span><br><span class="line">    System.out.println(file3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造器3：</span></span><br><span class="line">    File file4 = <span class="keyword">new</span> File(file3,<span class="string">"hi.txt"</span>);</span><br><span class="line">    System.out.println(file4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li>public String <strong>getAbsolutePath()</strong>：获取绝对路径</li>
<li>public String <strong>getPath()</strong> ：获取路径</li>
<li>public String <strong>getName()</strong> ：获取名称</li>
<li>public String <strong>getParent()</strong>：获取上层文件目录路径。若无，返回null</li>
<li>public long <strong>length</strong>() ：获取<strong>文件长度</strong>（即：<strong>字节数</strong>）。<strong>不能获取目录的长度。</strong></li>
<li>public long <strong>lastModified</strong>() ：获取最后一次的修改时间，<strong>毫秒值</strong></li>
</ul>
<p>如下的两个方法适用于<strong>文件目录</strong>：</p>
<ul>
<li>public String[] <strong>list()</strong> ：获取指定目录下的<strong>所有文件或者文件目录的名称数组</strong></li>
<li>public File[] <strong>listFiles()</strong> ：获取指定目录下的<strong>所有文件或者文件目录的File数组</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"d:\\io\\hi.txt"</span>);</span><br><span class="line">    System.out.println(file1.getAbsolutePath());</span><br><span class="line">    System.out.println(file1.getPath());</span><br><span class="line">    System.out.println(file1.getName());</span><br><span class="line">    System.out.println(file1.getParent());</span><br><span class="line">    System.out.println(file1.length());</span><br><span class="line">    System.out.println(<span class="keyword">new</span> Date(file1.lastModified()));</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line">    System.out.println(file2.getAbsolutePath());</span><br><span class="line">    System.out.println(file2.getPath());</span><br><span class="line">    System.out.println(file2.getName());</span><br><span class="line">    System.out.println(file2.getParent());</span><br><span class="line">    System.out.println(file2.length());</span><br><span class="line">    System.out.println(file2.lastModified());</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"D:\\workspace_idea1\\JavaSenior"</span>);</span><br><span class="line"></span><br><span class="line">    String[] list = file.list();</span><br><span class="line">    <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    File[] files = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span>(File f : files)&#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>public boolean <strong>renameTo</strong>(File dest):把文件重命名为指定的文件路径<br>比如：file1.renameTo(file2)为例：要想保证返回true,需要<strong>file1在硬盘中是存在的，且file2不能在硬盘中存在</strong>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"D:\\io\\hi.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span> renameTo = file2.renameTo(file1);</span><br><span class="line">    System.out.println(renameTo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>public boolean <strong>isDirectory()</strong>：判断是否是文件目录</li>
<li>public boolean <strong>isFile()</strong> ：判断是否是文件</li>
<li>public boolean <strong>exists()</strong> ：判断是否存在</li>
<li>public boolean <strong>canRead()</strong> ：判断是否可读</li>
<li>public boolean <strong>canWrite()</strong> ：判断是否可写</li>
<li>public boolean <strong>isHidden()</strong> ：判断是否隐藏</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">    file1 = <span class="keyword">new</span> File(<span class="string">"hello1.txt"</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(file1.isDirectory());</span><br><span class="line">    System.out.println(file1.isFile());</span><br><span class="line">    System.out.println(file1.exists());</span><br><span class="line">    System.out.println(file1.canRead());</span><br><span class="line">    System.out.println(file1.canWrite());</span><br><span class="line">    System.out.println(file1.isHidden());</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"d:\\io"</span>);</span><br><span class="line">    file2 = <span class="keyword">new</span> File(<span class="string">"d:\\io1"</span>);</span><br><span class="line">    System.out.println(file2.isDirectory());</span><br><span class="line">    System.out.println(file2.isFile());</span><br><span class="line">    System.out.println(file2.exists());</span><br><span class="line">    System.out.println(file2.canRead());</span><br><span class="line">    System.out.println(file2.canWrite());</span><br><span class="line">    System.out.println(file2.isHidden());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>创建</strong></p>
<ul>
<li>public boolean <strong>createNewFile()</strong> ：创建文件。<strong>若文件存在，则不创建，返回false</strong></li>
<li>public boolean <strong>mkdir()</strong> ：创建文件目录。如果此文件目录存在，就不创建了。如果<strong>此文件目录的上层目录不存在，也不创建。</strong></li>
<li>public boolean <strong>mkdirs()</strong> ：创建文件目录。如果此文件目录存在，就不创建了。如果<strong>上层文件目录不存在，一并创建</strong></li>
</ul>
<p><strong>删除</strong></p>
<ul>
<li>public boolean <strong>delete()</strong>：删除文件或者文件夹<pre><code>删除注意事项：**Java中的删除不走回收站**。
</code></pre></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"hi.txt"</span>);</span><br><span class="line">    <span class="keyword">if</span>(!file1.exists())&#123;</span><br><span class="line">        <span class="comment">//文件的创建</span></span><br><span class="line">        file1.createNewFile();</span><br><span class="line">        System.out.println(<span class="string">"创建成功"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//文件存在</span></span><br><span class="line">        file1.delete();</span><br><span class="line">        System.out.println(<span class="string">"删除成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//文件目录的创建</span></span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"d:\\io\\io1\\io3"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span> mkdir = file1.mkdir();</span><br><span class="line">    <span class="keyword">if</span>(mkdir)&#123;</span><br><span class="line">        System.out.println(<span class="string">"创建成功1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"d:\\io\\io1\\io4"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span> mkdir1 = file2.mkdirs();</span><br><span class="line">    <span class="keyword">if</span>(mkdir1)&#123;</span><br><span class="line">        System.out.println(<span class="string">"创建成功2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//要想删除成功，io4文件目录下不能有子目录或文件</span></span><br><span class="line">    File file3 = <span class="keyword">new</span> File(<span class="string">"D:\\io\\io1\\io4"</span>);</span><br><span class="line">    file3 = <span class="keyword">new</span> File(<span class="string">"D:\\io\\io1"</span>);</span><br><span class="line">    System.out.println(file3.delete()); <span class="comment">//false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><p>处理设备之间的数据传输，对于数据的输入输出操作以“流Stream”的方式进行。</p>
<h3 id="流的分类"><a href="#流的分类" class="headerlink" title="流的分类"></a>流的分类</h3><ul>
<li>按操作数据单位不同分为：字节流（8bit），字符流（16bit）</li>
<li>按数据流的流向不同分为：输入流，输出流</li>
<li>按流的角色的不同分为：节点流，处理流</li>
</ul>
<table>
<thead>
<tr>
<th>抽象基类</th>
<th>字节流</th>
<th>字符流</th>
</tr>
</thead>
<tbody>
<tr>
<td>输入流</td>
<td>InputStream</td>
<td>Reader</td>
</tr>
<tr>
<td>输出流</td>
<td>OutputStream</td>
<td>Writer</td>
</tr>
</tbody>
</table>
<p>PS：</p>
<ul>
<li>Java的O流共涉及40多个类，实际上非常规则，都是从如上4个抽象基类派生的</li>
<li>由这四个类派生出来的子类名称都是以其父类名作为子类名后缀</li>
</ul>
<h3 id="流的体系结构"><a href="#流的体系结构" class="headerlink" title="流的体系结构"></a>流的体系结构</h3><table>
<thead>
<tr>
<th>抽象基类</th>
<th>节点流（或文件流）</th>
<th>缓冲流（处理流的一种）</th>
</tr>
</thead>
<tbody>
<tr>
<td>InputStream</td>
<td>FileInputStream   (read(byte[] buffer))</td>
<td>BufferedInputStream (read(byte[] buffer))</td>
</tr>
<tr>
<td>OutputStream</td>
<td>FileOutputStream  (write(byte[] buffer,0,len)</td>
<td>BufferedOutputStream (write(byte[] buffer,0,len) / flush()</td>
</tr>
<tr>
<td>Reader</td>
<td>FileReader (read(char[] cbuf))</td>
<td>BufferedReader (read(char[] cbuf) / readLine())</td>
</tr>
<tr>
<td>Writer</td>
<td>FileWriter (write(char[] cbuf,0,len)</td>
<td>BufferedWriter (write(char[] cbuf,0,len) / flush()</td>
</tr>
</tbody>
</table>
<h2 id="节点流"><a href="#节点流" class="headerlink" title="节点流"></a>节点流</h2><h3 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h3><p><strong>1.read()</strong> 从内存中写出数据到硬盘的文件里。</p>
<ul>
<li>File类的实例化</li>
<li>FileReader流的实例化</li>
<li>读入的操作</li>
<li>资源的关闭</li>
</ul>
<p>说明点：</p>
<ul>
<li>read()的理解：返回读入的一个字符。如果达到文件末尾，返回-1</li>
<li>异常的处理：<strong>为了保证流资源一定可以执行关闭操作。需要使用try-catch-finally处理</strong></li>
<li>读入的文件一定要存在，否则就会报<strong>FileNotFoundException</strong>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader</span><span class="params">()</span></span>&#123;</span><br><span class="line">    FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.实例化File类的对象，指明要操作的文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);<span class="comment">//相较于当前Module</span></span><br><span class="line">        <span class="comment">//2.提供具体的流</span></span><br><span class="line">        fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.数据的读入</span></span><br><span class="line">        <span class="comment">//read():返回读入的一个字符。如果达到文件末尾，返回-1</span></span><br><span class="line">        <span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//        int data = fr.read();</span></span><br><span class="line"><span class="comment">//        while(data != -1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.print((char)data);</span></span><br><span class="line"><span class="comment">//            data = fr.read();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//方式二：语法上针对于方式一的修改</span></span><br><span class="line">        <span class="keyword">int</span> data;</span><br><span class="line">        <span class="keyword">while</span>((data = fr.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.流的关闭操作</span></span><br><span class="line"><span class="comment">//            try &#123;</span></span><br><span class="line"><span class="comment">//                if(fr != null)</span></span><br><span class="line"><span class="comment">//                    fr.close();</span></span><br><span class="line"><span class="comment">//            &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">//                e.printStackTrace();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">//或</span></span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>//对read()操作升级：使用read的重载方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader1</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.File类的实例化</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.FileReader流的实例化</span></span><br><span class="line">        fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.读入的操作</span></span><br><span class="line">        <span class="comment">//read(char[] cbuf):返回每次读入cbuf数组中的字符的个数。如果达到文件末尾，返回-1</span></span><br><span class="line">        <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//方式一：</span></span><br><span class="line">            <span class="comment">//错误的写法</span></span><br><span class="line"><span class="comment">//                for(int i = 0;i &lt; cbuf.length;i++)&#123;</span></span><br><span class="line"><span class="comment">//                    System.out.print(cbuf[i]);</span></span><br><span class="line"><span class="comment">//                &#125; //heloworld123ld</span></span><br><span class="line">                <span class="comment">//正确的写法</span></span><br><span class="line"><span class="comment">//                for(int i = 0;i &lt; len;i++)&#123;</span></span><br><span class="line"><span class="comment">//                    System.out.print(cbuf[i]);</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line">                <span class="comment">//方式二：</span></span><br><span class="line">                <span class="comment">//错误的写法,对应着方式一的错误的写法</span></span><br><span class="line"><span class="comment">//                String str = new String(cbuf);</span></span><br><span class="line"><span class="comment">//                System.out.print(str);</span></span><br><span class="line">                <span class="comment">//正确的写法</span></span><br><span class="line">                String str = <span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len);</span><br><span class="line">                System.out.print(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="comment">//4.资源的关闭</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>2.write()</strong> 从内存中写出数据到硬盘的文件里。</p>
<p>说明：</p>
<ul>
<li>输出操作，<strong>对应的File可以不存在的。并不会报异常</strong></li>
<li>File对应的硬盘中的文件如果不存在，在输出的过程中，会自动创建此文件。<br>File对应的硬盘中的文件如果存在：<pre><code>如果流使用的构造器是：**FileWriter(file,false)** / **FileWriter(file)**:**对原有文件的覆盖**
如果流使用的构造器是：**FileWriter(file,true)**:**不会对原有文件覆盖，而是在原有文件基础上追加内容**
</code></pre></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.提供File类的对象，指明写出到的文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello1.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.提供FileWriter的对象，用于数据的写出</span></span><br><span class="line">        fw = <span class="keyword">new</span> FileWriter(file,<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.写出的操作</span></span><br><span class="line">        fw.write(<span class="string">"I have a dream!\n"</span>);</span><br><span class="line">        fw.write(<span class="string">"you need to have a dream!"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.流资源的关闭</span></span><br><span class="line">        <span class="keyword">if</span>(fw != <span class="keyword">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReaderFileWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">    FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建File类的对象，指明读入和写出的文件</span></span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">"hello2.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//不能使用字符流来处理图片等字节数据</span></span><br><span class="line"><span class="comment">//            File srcFile = new File("爱情与友情.jpg");</span></span><br><span class="line"><span class="comment">//            File destFile = new File("爱情与友情1.jpg");</span></span><br><span class="line">     	<span class="comment">//2.创建输入流和输出流的对象</span></span><br><span class="line">        fr = <span class="keyword">new</span> FileReader(srcFile);</span><br><span class="line">        fw = <span class="keyword">new</span> FileWriter(destFile);</span><br><span class="line">       	<span class="comment">//3.数据的读入和写出操作</span></span><br><span class="line">        <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len;<span class="comment">//记录每次读入到cbuf数组中的字符的个数</span></span><br><span class="line">        <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//每次写出len个字符</span></span><br><span class="line">            fw.write(cbuf,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.关闭流资源</span></span><br><span class="line">        <span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//            try &#123;</span></span><br><span class="line"><span class="comment">//                if(fw != null)</span></span><br><span class="line"><span class="comment">//                    fw.close();</span></span><br><span class="line"><span class="comment">//            &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">//                e.printStackTrace();</span></span><br><span class="line"><span class="comment">//            &#125;finally&#123;</span></span><br><span class="line"><span class="comment">//                try &#123;</span></span><br><span class="line"><span class="comment">//                    if(fr != null)</span></span><br><span class="line"><span class="comment">//                        fr.close();</span></span><br><span class="line"><span class="comment">//                &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">//                    e.printStackTrace();</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">//方式二：</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(fw != <span class="keyword">null</span>)</span><br><span class="line">                    fw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        	<span class="keyword">try</span> &#123;</span><br><span class="line">            	<span class="keyword">if</span>(fr != <span class="keyword">null</span>)</span><br><span class="line">         	    fr.close();</span><br><span class="line">      		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">     	      	e.printStackTrace();</span><br><span class="line">    	    &#125;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h3><p>结论：</p>
<ul>
<li>对于<strong>文本文件</strong>(.txt,.java,.c,.cpp)，使用<strong>字符流处理</strong></li>
<li>对于<strong>非文本文件</strong>(.jpg,.mp3,.mp4,.avi,.doc,.ppt,…)，使用<strong>字节流处理</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用字节流FileInputStream处理文本文件，可能出现乱码。</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileInputStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1. 造文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.造流</span></span><br><span class="line">        fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.读数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len;<span class="comment">//记录每次读取的字节的个数</span></span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(buffer,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//4.关闭资源</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现对图片的复制操作</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileInputOutputStream</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">"爱情与友情.jpg"</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">"爱情与友情2.jpg"</span>);</span><br><span class="line">        fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//复制的过程</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//指定路径下文件的复制</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String srcPath,String destPath)</span></span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(destPath);</span><br><span class="line">        fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">        <span class="comment">//复制的过程</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCopyFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    String srcPath = <span class="string">"C:\\Users\\Administrator\\Desktop\\01-视频.avi"</span>;</span><br><span class="line">    String destPath = <span class="string">"C:\\Users\\Administrator\\Desktop\\02-视频.avi"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//        String srcPath = "hello.txt";</span></span><br><span class="line">    <span class="comment">//        String destPath = "hello3.txt";</span></span><br><span class="line"></span><br><span class="line">    copyFile(srcPath,destPath);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"复制操作花费的时间为："</span> + (end - start));<span class="comment">//618</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h2><p>处理流，就是“套接”在已有的流的基础上。处理流之一：缓冲流</p>
<ul>
<li>BufferedInputStream</li>
<li>BufferedOutputStream</li>
<li>BufferedReader</li>
<li>BufferedWriter</li>
</ul>
<p>作用：<strong>提高流的读取、写入的速度</strong>（内部提供了一个缓冲区）</p>
<p>实现非文本文件的复制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BufferedStreamTest</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">    BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">    BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.造文件</span></span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">"爱情与友情.jpg"</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">"爱情与友情3.jpg"</span>);</span><br><span class="line">        <span class="comment">//2.造流</span></span><br><span class="line">        <span class="comment">//2.1 造节点流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream((srcFile));</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">        <span class="comment">//2.2 造缓冲流</span></span><br><span class="line">        bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">        bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.复制的细节：读取、写入</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">            <span class="comment">//                bos.flush();//刷新缓冲区</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.资源关闭</span></span><br><span class="line">        <span class="comment">//要求：先关闭外层的流，再关闭内层的流</span></span><br><span class="line">        <span class="keyword">if</span>(bos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(bis != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//说明：关闭外层流的同时，内层流也会自动的进行关闭。关于内层流的关闭，我们可以省略.</span></span><br><span class="line">        <span class="comment">//        fos.close();</span></span><br><span class="line">        <span class="comment">//        fis.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现文本文件的复制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBufferedReaderBufferedWriter</span><span class="params">()</span></span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">    BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//创建文件和相应的流</span></span><br><span class="line">        br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="keyword">new</span> File(<span class="string">"dbcp.txt"</span>)));</span><br><span class="line">        bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="keyword">new</span> File(<span class="string">"dbcp1.txt"</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//读写操作</span></span><br><span class="line">        <span class="comment">//方式一：使用char[]数组</span></span><br><span class="line">        <span class="comment">//            char[] cbuf = new char[1024];</span></span><br><span class="line">        <span class="comment">//            int len;</span></span><br><span class="line">        <span class="comment">//            while((len = br.read(cbuf)) != -1)&#123;</span></span><br><span class="line">        <span class="comment">//                bw.write(cbuf,0,len);</span></span><br><span class="line">        <span class="comment">//    //            bw.flush();</span></span><br><span class="line">        <span class="comment">//            &#125;</span></span><br><span class="line">        <span class="comment">//方式二：使用String</span></span><br><span class="line">        String data;</span><br><span class="line">        <span class="keyword">while</span>((data = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//方法一：</span></span><br><span class="line">            <span class="comment">//                bw.write(data + "\n");//data中不包含换行符</span></span><br><span class="line">            <span class="comment">//方法二：</span></span><br><span class="line">            bw.write(data);<span class="comment">//data中不包含换行符</span></span><br><span class="line">            bw.newLine();<span class="comment">//提供换行的操作</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        <span class="keyword">if</span>(bw != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(br != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现文件复制的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">copyFileWithBuffered</span><span class="params">(String srcPath,String destPath)</span></span>&#123;</span><br><span class="line">    BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">    BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.造文件</span></span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(destPath);</span><br><span class="line">        <span class="comment">//2.造流</span></span><br><span class="line">        <span class="comment">//2.1 造节点流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream((srcFile));</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">        <span class="comment">//2.2 造缓冲流</span></span><br><span class="line">        bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">        bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.复制的细节：读取、写入</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.资源关闭</span></span><br><span class="line">        <span class="comment">//要求：先关闭外层的流，再关闭内层的流</span></span><br><span class="line">        <span class="keyword">if</span>(bos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(bis != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//说明：关闭外层流的同时，内层流也会自动的进行关闭。关于内层流的关闭，我们可以省略.</span></span><br><span class="line">        <span class="comment">//        fos.close();</span></span><br><span class="line">        <span class="comment">//        fis.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCopyFileWithBuffered</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    String srcPath = <span class="string">"C:\\Users\\Administrator\\Desktop\\01-视频.avi"</span>;</span><br><span class="line">    String destPath = <span class="string">"C:\\Users\\Administrator\\Desktop\\03-视频.avi"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    copyFileWithBuffered(srcPath,destPath);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"复制操作花费的时间为："</span> + (end - start));<span class="comment">//618 - 176</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h2><p>处理流之二：转换流</p>
<ul>
<li><p>转换流：<strong>属于字符流</strong></p>
<p>InputStreamReader：将一个字节的输入流转换为字符的输入流</p>
<p>OutputStreamWriter：将一个字符的输出流转换为字节的输出流</p>
</li>
<li><p>作用：提供<strong>字节流与字符流之间的转换</strong></p>
</li>
<li><p>解码：字节、字节数组  —&gt;字符数组、字符串</p>
<p>编码：字符数组、字符串 —&gt; 字节、字节数组</p>
</li>
<li><p>字符集<br>ASCII：美国标准信息交换码。<br>   用一个字节的7位可以表示。<br>ISO8859-1：拉丁码表。欧洲码表<br>   用一个字节的8位表示。<br>GB2312：中国的中文编码表。最多两个字节编码所有字符<br>GBK：中国的中文编码表升级，融合了更多的中文文字符号。最多两个字节编码<br>Unicode：国际标准码，融合了目前人类使用的所有字符。为每个字符分配唯一的字符码。所有的文字都用两个字节来表示。<br>UTF-8：变长的编码方式，可用1-4个字节来表示一个字符。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    此时处理异常的话，仍然应该使用try-catch-finally</span></span><br><span class="line"><span class="comment">    InputStreamReader的使用，实现字节的输入流到字符的输入流的转换</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"dbcp.txt"</span>);</span><br><span class="line">    <span class="comment">//        InputStreamReader isr = new InputStreamReader(fis);//使用系统默认的字符集</span></span><br><span class="line">    <span class="comment">//参数2指明了字符集，具体使用哪个字符集，取决于文件dbcp.txt保存时使用的字符集</span></span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">"UTF-8"</span>);<span class="comment">//使用系统默认的字符集</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        String str = <span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len);</span><br><span class="line">        System.out.print(str);</span><br><span class="line">    &#125;</span><br><span class="line">    isr.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    此时处理异常的话，仍然应该使用try-catch-finally</span></span><br><span class="line"><span class="comment">    综合使用InputStreamReader和OutputStreamWriter</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//1.造文件、造流</span></span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">"dbcp.txt"</span>);</span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"dbcp_gbk.txt"</span>);</span><br><span class="line"></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file2);</span><br><span class="line"></span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">"utf-8"</span>);</span><br><span class="line">    OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">"gbk"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.读写过程</span></span><br><span class="line">    <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        osw.write(cbuf,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.关闭资源</span></span><br><span class="line">    isr.close();</span><br><span class="line">    osw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="其他流"><a href="#其他流" class="headerlink" title="其他流"></a>其他流</h2><ul>
<li><strong>标准的输入、输出流</strong></li>
<li><strong>打印流</strong></li>
<li><strong>数据流</strong></li>
</ul>
<h3 id="标准的输入、输出流"><a href="#标准的输入、输出流" class="headerlink" title="标准的输入、输出流"></a>标准的输入、输出流</h3><ul>
<li>System.in:标准的输入流，默认从键盘输入</li>
<li>System.out:标准的输出流，默认从控制台输出</li>
</ul>
<p>System类的 <strong>setIn(InputStream is)</strong> / <strong>setOut(PrintStream ps)</strong> 方式<strong>重新指定输入和输出的流。</strong></p>
<pre><code>练习：
从键盘输入字符串，要求将读取到的整行字符串转成大写输出。然后继续进行输入操作，
直至当输入“e”或者“exit”时，退出程序。

方法一：使用Scanner实现，调用next()返回一个字符串
方法二：使用System.in实现。System.in  ---&gt;  转换流 ---&gt; BufferedReader的readLine()
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(System.in);</span><br><span class="line">        br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"请输入字符串："</span>);</span><br><span class="line">            String data = br.readLine();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">"e"</span>.equalsIgnoreCase(data) || <span class="string">"exit"</span>.equalsIgnoreCase(data)) &#123;</span><br><span class="line">                System.out.println(<span class="string">"程序结束"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String upperCase = data.toUpperCase();</span><br><span class="line">            System.out.println(upperCase);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (br != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h3><p><strong>PrintStream</strong> 和 <strong>PrintWriter</strong></p>
<p>实现将<strong>基本数据类型的 数据格式 转化 为字符串</strong>输出，提供了一系列重载的print() 和 println()<br>练习：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    PrintStream ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"D:\\IO\\text.txt"</span>));</span><br><span class="line">        <span class="comment">// 创建打印输出流,设置为自动刷新模式(写入换行符或字节 '\n' 时都会刷新输出缓冲区)</span></span><br><span class="line">        ps = <span class="keyword">new</span> PrintStream(fos, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="keyword">null</span>) &#123;<span class="comment">// 把标准输出流(控制台输出)改成文件</span></span><br><span class="line">            System.setOut(ps);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">255</span>; i++) &#123; <span class="comment">// 输出ASCII字符</span></span><br><span class="line">            System.out.print((<span class="keyword">char</span>) i);</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">50</span> == <span class="number">0</span>) &#123; <span class="comment">// 每50个数据一行</span></span><br><span class="line">                System.out.println(); <span class="comment">// 换行</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ps.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h3><p><strong>DataInputStream</strong>  和  <strong>DataOutputStream</strong><br>作用：用于<strong>读取或写出基本数据类型的变量或字符串</strong></p>
<p>练习：将内存中的字符串、基本数据类型的变量写出到文件中。</p>
<p>注意：处理异常的话，仍然应该使用try-catch-finally.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line">    DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"data.txt"</span>));</span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line">    dos.writeUTF(<span class="string">"刘建辰"</span>);</span><br><span class="line">    dos.flush();<span class="comment">//刷新操作，将内存中的数据写入文件</span></span><br><span class="line">    dos.writeInt(<span class="number">23</span>);</span><br><span class="line">    dos.flush();</span><br><span class="line">    dos.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">    dos.flush();</span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line">    dos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 将文件中存储的基本数据类型变量和字符串读取到内存中，保存在变量中。</p>
<p>注意点：读取不同类型的数据的顺序要与当初写入文件时，保存的数据的顺序一致！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line">    DataInputStream dis = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"data.txt"</span>));</span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line">    String name = dis.readUTF();</span><br><span class="line">    <span class="keyword">int</span> age = dis.readInt();</span><br><span class="line">    <span class="keyword">boolean</span> isMale = dis.readBoolean();</span><br><span class="line">    System.out.println(<span class="string">"name = "</span> + name);</span><br><span class="line">    System.out.println(<span class="string">"age = "</span> + age);</span><br><span class="line">    System.out.println(<span class="string">"isMale = "</span> + isMale);</span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line">    dis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="对象流"><a href="#对象流" class="headerlink" title="对象流"></a>对象流</h3><p> <strong>ObjectInputStream</strong> 和 <strong>ObjectOutputStream</strong></p>
<ul>
<li><p>作用：用于存储和读取基本数据类型数据或对象的处理流。它的强大之处就是可以把Java中的对象写入到数据源中，也能把对象从数据源中还原回来。</p>
</li>
<li><p>要想一个java对象是可序列化的，需要满足相应的要求。见Person.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Person需要满足如下的要求，方可序列化</span></span><br><span class="line"><span class="comment"> * 1.需要实现接口：Serializable</span></span><br><span class="line"><span class="comment"> * 2.当前类提供一个全局常量：serialVersionUID</span></span><br><span class="line"><span class="comment"> * 3.除了当前Person类需要实现Serializable接口之外，还必须保证其内部所有属性也必须是可序列化的。（默认情况下，基本数据类型可序列化）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 补充：ObjectOutputStream和ObjectInputStream不能序列化static和transient修饰的成员变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">475463534532L</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>序列化机制</strong>：</p>
<p>对象序列化机制允许把<strong>内存中的Java对象 </strong>转换成 平台无关的 <strong>二进制流</strong>，从而允许把这种 二进制流 持久地保存在磁盘上，或通过网络将这种二进制流传输到另一个网络节点。</p>
<p>当其它程序获取了这种二进制流，就可以恢复成原来的Java对象。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    序列化过程：将内存中的java对象保存到磁盘中或通过网络传输出去</span></span><br><span class="line"><span class="comment">    使用ObjectOutputStream实现</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testObjectOutputStream</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.</span></span><br><span class="line">        oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"object.dat"</span>));</span><br><span class="line">        <span class="comment">//2.</span></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> String(<span class="string">"我爱北京天安门"</span>));</span><br><span class="line">        oos.flush();<span class="comment">//刷新操作</span></span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"王铭"</span>,<span class="number">23</span>));</span><br><span class="line">        oos.flush();</span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"张学良"</span>,<span class="number">23</span>,<span class="number">1001</span>,<span class="keyword">new</span> Account(<span class="number">5000</span>)));</span><br><span class="line">        oos.flush();</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(oos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//3.</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    反序列化：将磁盘文件中的对象还原为内存中的一个java对象</span></span><br><span class="line"><span class="comment">    使用ObjectInputStream来实现</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testObjectInputStream</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"object.dat"</span>));</span><br><span class="line"></span><br><span class="line">        Object obj = ois.readObject();</span><br><span class="line">        String str = (String) obj;</span><br><span class="line"></span><br><span class="line">        Person p = (Person) ois.readObject();</span><br><span class="line">        Person p1 = (Person) ois.readObject();</span><br><span class="line"></span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.println(p);</span><br><span class="line">        System.out.println(p1);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ois != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ois.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="随机存取文件流"><a href="#随机存取文件流" class="headerlink" title="随机存取文件流"></a>随机存取文件流</h3><p><strong>RandomAccessFile</strong></p>
<ul>
<li>直接继承于java.lang.Object类，实现了<strong>DataInput</strong> 和 <strong>DataOutput</strong>接口</li>
<li><strong>既可以作为一个输入流，又可以作为一个输出流</strong></li>
<li>作为输出流时，写出到的文件如果不存在，则在执行过程中自动创建。</li>
<li>如果写出到的文件存在，则会对<strong>原有文件内容进行覆盖</strong>。（默认情况下，<strong>从头覆盖</strong>，不是覆盖文件）</li>
<li>可以通过相关的操作，实现RandomAccessFile “<strong>插入</strong>”数据的效果</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    RandomAccessFile raf1 = <span class="keyword">null</span>;</span><br><span class="line">    RandomAccessFile raf2 = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.</span></span><br><span class="line">        raf1 = <span class="keyword">new</span> RandomAccessFile(<span class="keyword">new</span> File(<span class="string">"爱情与友情.jpg"</span>),<span class="string">"r"</span>);</span><br><span class="line">        raf2 = <span class="keyword">new</span> RandomAccessFile(<span class="keyword">new</span> File(<span class="string">"爱情与友情1.jpg"</span>),<span class="string">"rw"</span>);</span><br><span class="line">        <span class="comment">//2.</span></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = raf1.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            raf2.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//3.</span></span><br><span class="line">        <span class="keyword">if</span>(raf1 != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                raf1.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(raf2 != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                raf2.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    RandomAccessFile raf1 = <span class="keyword">new</span> RandomAccessFile(<span class="string">"hello.txt"</span>,<span class="string">"rw"</span>);</span><br><span class="line"></span><br><span class="line">    raf1.seek(<span class="number">3</span>);<span class="comment">//将指针调到角标为3的位置</span></span><br><span class="line">    raf1.write(<span class="string">"xyz"</span>.getBytes());<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    raf1.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用RandomAccessFile<strong>实现数据的插入效果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    RandomAccessFile raf1 = <span class="keyword">new</span> RandomAccessFile(<span class="string">"hello.txt"</span>,<span class="string">"rw"</span>);</span><br><span class="line"></span><br><span class="line">    raf1.seek(<span class="number">3</span>);<span class="comment">//将指针调到角标为3的位置</span></span><br><span class="line">    <span class="comment">//保存指针3后面的所有数据到StringBuilder中</span></span><br><span class="line">    StringBuilder builder = <span class="keyword">new</span> StringBuilder((<span class="keyword">int</span>) <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>).length());</span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = raf1.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        builder.append(<span class="keyword">new</span> String(buffer,<span class="number">0</span>,len)) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//调回指针，写入“xyz”</span></span><br><span class="line">    raf1.seek(<span class="number">3</span>);</span><br><span class="line">    raf1.write(<span class="string">"xyz"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将StringBuilder中的数据写入到文件中</span></span><br><span class="line">    raf1.write(builder.toString().getBytes());</span><br><span class="line"></span><br><span class="line">    raf1.close();</span><br><span class="line">    <span class="comment">//思考：将StringBuilder替换为ByteArrayOutputStream</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>网络编程中有两个主要的问题：</p>
<ol>
<li>如何准确地定位网络上一台或多台主机；定位主机上的特定的应用</li>
<li>找到主机后如何可靠高效地进行数据传输</li>
</ol>
<p>网络编程中的两个要素：</p>
<ol>
<li>对应问题一：<strong>IP和端口号</strong></li>
<li>对应问题二：提供<strong>网络通信协议</strong>：TCP/IP参考模型（应用层、传输层、网络层、物理+数据链路层）</li>
</ol>
<p>通信要素一：</p>
<h2 id="IP和端口号"><a href="#IP和端口号" class="headerlink" title="IP和端口号"></a>IP和端口号</h2><ul>
<li>IP:唯一的标识 Internet 上的计算机（通信实体）</li>
<li>在Java中使用InetAddress类代表IP</li>
<li>IP分类：IPv4 和 IPv6 ; 万维网 和 局域网</li>
<li>域名:   <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a>   <a href="http://www.mi.com" target="_blank" rel="noopener">www.mi.com</a>  <a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a>  <a href="http://www.jd.com" target="_blank" rel="noopener">www.jd.com</a></li>
<li>本地回路地址：127.0.0.1 对应着：localhost</li>
<li>如何实例化InetAddress:两个方法：getByName(String host) 、 getLocalHost()</li>
<li>两个常用方法：getHostName() / getHostAddress()</li>
<li>端口号：正在计算机上运行的进程。</li>
<li>要求：不同的进程有不同的端口号</li>
<li>范围：被规定为一个 16 位的整数 0~65535。</li>
<li>端口号与IP地址的组合得出一个网络套接字：Socket</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//File file = new File("hello.txt");</span></span><br><span class="line">        InetAddress inet1 = InetAddress.getByName(<span class="string">"192.168.10.14"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(inet1);</span><br><span class="line"></span><br><span class="line">        InetAddress inet2 = InetAddress.getByName(<span class="string">"www.atguigu.com"</span>);</span><br><span class="line">        System.out.println(inet2);</span><br><span class="line"></span><br><span class="line">        InetAddress inet3 = InetAddress.getByName(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">        System.out.println(inet3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取本地ip</span></span><br><span class="line">        InetAddress inet4 = InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(inet4);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//getHostName()</span></span><br><span class="line">        System.out.println(inet2.getHostName());</span><br><span class="line">        <span class="comment">//getHostAddress()</span></span><br><span class="line">        System.out.println(inet2.getHostAddress());</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现TCP的网络编程</p>
<ul>
<li>例题3：从客户端发送文件给服务端，服务端保存到本地。并返回“发送成功”给客户端。</li>
<li>并关闭相应的连接。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">client</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line">    Socket socket = <span class="keyword">new</span> Socket(InetAddress.getByName(<span class="string">"127.0.0.1"</span>),<span class="number">9090</span>);</span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line">    OutputStream os = socket.getOutputStream();</span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">"beauty.jpg"</span>));</span><br><span class="line">    <span class="comment">//4.</span></span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        os.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭数据的输出</span></span><br><span class="line">    socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.接收来自于服务器端的数据，并显示到控制台上</span></span><br><span class="line">    InputStream is = socket.getInputStream();</span><br><span class="line">    ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">    <span class="keyword">byte</span>[] bufferr = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> len1;</span><br><span class="line">    <span class="keyword">while</span>((len1 = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        baos.write(buffer,<span class="number">0</span>,len1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(baos.toString());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6.</span></span><br><span class="line">    fis.close();</span><br><span class="line">    os.close();</span><br><span class="line">    socket.close();</span><br><span class="line">    baos.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    这里涉及到的异常，应该使用try-catch-finally处理</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">server</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line">    ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line">    Socket socket = ss.accept();</span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line">    InputStream is = socket.getInputStream();</span><br><span class="line">    <span class="comment">//4.</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"beauty2.jpg"</span>));</span><br><span class="line">    <span class="comment">//5.</span></span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"图片传输完成"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6.服务器端给予客户端反馈</span></span><br><span class="line">    OutputStream os = socket.getOutputStream();</span><br><span class="line">    os.write(<span class="string">"你好，美女，照片我已收到，非常漂亮！"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//7.</span></span><br><span class="line">    fos.close();</span><br><span class="line">    is.close();</span><br><span class="line">    socket.close();</span><br><span class="line">    ss.close();</span><br><span class="line">    os.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>UDPd协议的网络编程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//发送端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sender</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    DatagramSocket socket = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    String str = <span class="string">"我是UDP方式发送的导弹"</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] data = str.getBytes();</span><br><span class="line">    InetAddress inet = InetAddress.getLocalHost();</span><br><span class="line">    DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(data,<span class="number">0</span>,data.length,inet,<span class="number">9090</span>);</span><br><span class="line"></span><br><span class="line">    socket.send(packet);</span><br><span class="line"></span><br><span class="line">    socket.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接收端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiver</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    DatagramSocket socket = <span class="keyword">new</span> DatagramSocket(<span class="number">9090</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];</span><br><span class="line">    DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buffer,<span class="number">0</span>,buffer.length);</span><br><span class="line"></span><br><span class="line">    socket.receive(packet);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="keyword">new</span> String(packet.getData(),<span class="number">0</span>,packet.getLength()));</span><br><span class="line"></span><br><span class="line">    socket.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>URL网络编程</strong></p>
<ul>
<li><p>URL:统一资源定位符，对应着互联网的某一资源地址</p>
</li>
<li><p>格式：</p>
<p><a href="http://localhost:8080/examples/beauty.jpg?username=Tom" target="_blank" rel="noopener">http://localhost:8080/examples/beauty.jpg?username=Tom</a></p>
<p>协议   主机名    端口号  资源地址           参数列表</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        URL url = <span class="keyword">new</span> URL(<span class="string">"http://localhost:8080/examples/beauty.jpg?username=Tom"</span>);</span><br><span class="line">        <span class="comment">//            public String getProtocol(  )     获取该URL的协议名</span></span><br><span class="line">        System.out.println(url.getProtocol());</span><br><span class="line">        <span class="comment">//            public String getHost(  )           获取该URL的主机名</span></span><br><span class="line">        System.out.println(url.getHost());</span><br><span class="line">        <span class="comment">//            public String getPort(  )            获取该URL的端口号</span></span><br><span class="line">        System.out.println(url.getPort());</span><br><span class="line">        <span class="comment">//            public String getPath(  )           获取该URL的文件路径</span></span><br><span class="line">        System.out.println(url.getPath());</span><br><span class="line">        <span class="comment">//            public String getFile(  )             获取该URL的文件名</span></span><br><span class="line">        System.out.println(url.getFile());</span><br><span class="line">        <span class="comment">//            public String getQuery(   )        获取该URL的查询名</span></span><br><span class="line">        System.out.println(url.getQuery());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (MalformedURLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    HttpURLConnection urlConnection = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        URL url = <span class="keyword">new</span> URL(<span class="string">"http://localhost:8080/examples/beauty.jpg"</span>);</span><br><span class="line"></span><br><span class="line">        urlConnection = (HttpURLConnection) url.openConnection();</span><br><span class="line"></span><br><span class="line">        urlConnection.connect();</span><br><span class="line"></span><br><span class="line">        is = urlConnection.getInputStream();</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"day10\\beauty3.jpg"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"下载完成"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(urlConnection != <span class="keyword">null</span>)&#123;</span><br><span class="line">            urlConnection.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="idea快捷键："><a href="#idea快捷键：" class="headerlink" title="*idea快捷键："></a>*<em>idea快捷键：</em></h1><ol>
<li>重构一切：Ctrl+Shift+Alt+T</li>
<li>智能补全：Ctrl+Shift+Space</li>
<li>选你所想：Ctrl+W</li>
<li>自我修复：Alt+Enter</li>
<li>自动完成：Ctrl+Shift+Enter</li>
<li>可以新建类、方法等任何东西、get/set、toString方法： alt+insert</li>
<li>自动new完整对象： Ctrl+Alt+V，可以引入变量</li>
<li>自动选中模块代码：Ctrl+W</li>
<li>移动到前/后方法：Alt+Forward/Backward</li>
<li>删除行：Ctrl+Y、复制：Ctrl+D</li>
<li>切换vim模式：Ctrl+;</li>
<li>高亮错误或警告快速定位：F2或shift+F2</li>
<li>打开类或资源：Ctrl+N/Ctrl+Shift+N</li>
<li>弹出框中搜索任何东西，包括类、资源、配置项、方法：Shift+Shift</li>
<li>查看当前类的所有方法：Ctrl+F12</li>
<li>找到类或方法使用的地方：，Alt+F7</li>
<li>格式化import列表：Ctrl+Alt+O，格式化代码：Ctrl+Alt+L</li>
<li>查看项目结构选中类：Alt+1，查看搜索窗口：Alt+3，查看运行调试Alt+4/5</li>
<li>打开最近打开或编辑过的文件列表：Ctrl+E</li>
<li>运行程序：Alt+Shift+F10，启动调试：Shift+F9，停止：Ctrl+F2。</li>
<li>调试：F7/F8/F9分别对应Step into，Step over，Continue</li>
<li>上/下移一行：Alt+Shift+Up/Down</li>
</ol>
<h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><p><strong>反射的特征：动态性</strong></p>
<p>疑问1：通过直接new的方式或反射的方式都可以调用公共的结构，开发中到底用那个？<br>建议：直接new的方式。<br>什么时候会使用：反射的方式。<br>疑问2：反射机制与面向对象中的封装性是不是矛盾的？如何看待两个技术？<br>不矛盾。</p>
<h2 id="java-lang-Class类的理解"><a href="#java-lang-Class类的理解" class="headerlink" title="java.lang.Class类的理解"></a>java.lang.Class类的理解</h2><ul>
<li><strong>类的加载过程</strong>：<pre><code>程序经过javac.exe命令以后，会生成一个或多个字节码文件(.class结尾)。
接着我们使用java.exe命令对某个字节码文件进行解释运行。相当于将某个字节码文件
加载到内存中。此过程就称为类的加载。加载到内存中的类，我们就称为运行时类，此
运行时类，就作为Class的一个实例。
</code></pre></li>
<li>换句话说，<strong>Class的实例就对应着一个运行时类</strong>。</li>
<li>加载到内存中的运行时类，<strong>会缓存一定的时间</strong>。在此时间之内，我们可以通过不同的方式来获取此运行时类。</li>
</ul>
<h3 id="获取Class的实例的方式"><a href="#获取Class的实例的方式" class="headerlink" title="获取Class的实例的方式"></a>获取Class的实例的方式</h3><ol>
<li>调用运行时类的属性：.class</li>
<li>通过运行时类的对象,调用getClass()</li>
<li>调用Class的静态方法：forName(String classPath)</li>
<li>使用类的加载器：ClassLoader  (了解)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//（前三种方式需要掌握）</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">    <span class="comment">//方式一：调用运行时类的属性：.class</span></span><br><span class="line">    Class clazz1 = Person.class;</span><br><span class="line">    System.out.println(clazz1);</span><br><span class="line">    <span class="comment">//方式二：通过运行时类的对象,调用getClass()</span></span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">    Class clazz2 = p1.getClass();</span><br><span class="line">    System.out.println(clazz2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式三：调用Class的静态方法：forName(String classPath)</span></span><br><span class="line">    Class clazz3 = Class.forName(<span class="string">"com.atguigu.java.Person"</span>);</span><br><span class="line">    <span class="comment">//        clazz3 = Class.forName("java.lang.String");</span></span><br><span class="line">    System.out.println(clazz3);</span><br><span class="line"></span><br><span class="line">    System.out.println(clazz1 == clazz2);</span><br><span class="line">    System.out.println(clazz1 == clazz3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式四：使用类的加载器：ClassLoader  (了解)</span></span><br><span class="line">    ClassLoader classLoader = ReflectionTest.class.getClassLoader();</span><br><span class="line">    Class clazz4 = classLoader.loadClass(<span class="string">"com.atguigu.java.Person"</span>);</span><br><span class="line">    System.out.println(clazz4);</span><br><span class="line"></span><br><span class="line">    System.out.println(clazz1 == clazz4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Class实例可以是哪些结构的说明：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//万事万物皆对象？对象.xxx,File,URL,反射,前端、数据库操作</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class c1 = Object.class;</span><br><span class="line">    Class c2 = Comparable.class;</span><br><span class="line">    Class c3 = String[].class;</span><br><span class="line">    Class c4 = <span class="keyword">int</span>[][].class;</span><br><span class="line">    Class c5 = ElementType.class;</span><br><span class="line">    Class c6 = Override.class;</span><br><span class="line">    Class c7 = <span class="keyword">int</span>.class;</span><br><span class="line">    Class c8 = <span class="keyword">void</span>.class;</span><br><span class="line">    Class c9 = Class.class;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">    Class c10 = a.getClass();</span><br><span class="line">    Class c11 = b.getClass();</span><br><span class="line">    <span class="comment">// 只要数组的元素类型与维度一样，就是同一个Class</span></span><br><span class="line">    System.out.println(c10 == c11);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>了解类的加载器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//对于自定义类，使用系统类加载器进行加载</span></span><br><span class="line">    ClassLoader classLoader = ClassLoaderTest.class.getClassLoader();</span><br><span class="line">    System.out.println(classLoader);</span><br><span class="line">    <span class="comment">//调用系统类加载器的getParent()：获取扩展类加载器</span></span><br><span class="line">    ClassLoader classLoader1 = classLoader.getParent();</span><br><span class="line">    System.out.println(classLoader1);</span><br><span class="line">    <span class="comment">//调用扩展类加载器的getParent()：无法获取引导类加载器</span></span><br><span class="line">    <span class="comment">//引导类加载器主要负责加载java的核心类库，无法加载自定义类的。</span></span><br><span class="line">    ClassLoader classLoader2 = classLoader1.getParent();</span><br><span class="line">    System.out.println(classLoader2);</span><br><span class="line"></span><br><span class="line">    ClassLoader classLoader3 = String.class.getClassLoader();</span><br><span class="line">    System.out.println(classLoader3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 ClassLoader加载配置文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Properties：用来读取配置文件。</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    Properties pros =  <span class="keyword">new</span> Properties();</span><br><span class="line">    <span class="comment">//此时的文件默认在当前的module下。</span></span><br><span class="line">    <span class="comment">//读取配置文件的方式一：</span></span><br><span class="line">    <span class="comment">//        FileInputStream fis = new FileInputStream("jdbc.properties");</span></span><br><span class="line">    <span class="comment">//        FileInputStream fis = new FileInputStream("src\\jdbc1.properties");</span></span><br><span class="line">    <span class="comment">//        pros.load(fis);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取配置文件的方式二：使用ClassLoader</span></span><br><span class="line">    <span class="comment">//配置文件默认识别为：当前module的src下</span></span><br><span class="line">    ClassLoader classLoader = ClassLoaderTest.class.getClassLoader();</span><br><span class="line">    InputStream is = classLoader.getResourceAsStream(<span class="string">"jdbc1.properties"</span>);</span><br><span class="line">    pros.load(is);</span><br><span class="line"></span><br><span class="line">    String user = pros.getProperty(<span class="string">"user"</span>);</span><br><span class="line">    String password = pros.getProperty(<span class="string">"password"</span>);</span><br><span class="line">    System.out.println(<span class="string">"user = "</span> + user + <span class="string">",password = "</span> + password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过反射</p>
<h2 id="创建运行时类的对象"><a href="#创建运行时类的对象" class="headerlink" title="创建运行时类的对象"></a>创建运行时类的对象</h2><ul>
<li><strong>newInstance()</strong>: 调用此方法，创建对应的运行时类的对象。内部调用了运行时类的空参的构造器。<br>要想此方法正常的创建运行时类的对象，要求：<ol>
<li>运行时类必须提供空参的构造器</li>
<li>空参的构造器的访问权限得够。通常，设置为public。</li>
</ol>
</li>
</ul>
<p>在javabean中要求提供一个public的空参构造器。原因：<br>1.便于通过反射，创建运行时类的对象<br>2.便于子类继承此运行时类时，默认调用super()时，保证父类有此构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IllegalAccessException, InstantiationException </span>&#123;</span><br><span class="line">    Class&lt;Person&gt; clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Person obj = clazz.newInstance();</span><br><span class="line">    System.out.println(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>体会反射的动态性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">100</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="keyword">new</span> Random().nextInt(<span class="number">3</span>);<span class="comment">//0,1,2</span></span><br><span class="line">        String classPath = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">switch</span>(num)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                classPath = <span class="string">"java.util.Date"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                classPath = <span class="string">"java.lang.Object"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                classPath = <span class="string">"com.atguigu.java.Person"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Object obj = getInstance(classPath);</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    创建一个指定类的对象。</span></span><br><span class="line"><span class="comment">    classPath:指定类的全类名</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getInstance</span><span class="params">(String classPath)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Class clazz =  Class.forName(classPath);</span><br><span class="line">    <span class="keyword">return</span> clazz.newInstance();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取运行时类的完整结构"><a href="#获取运行时类的完整结构" class="headerlink" title="获取运行时类的完整结构"></a>获取运行时类的完整结构</h2><h3 id="属性结构"><a href="#属性结构" class="headerlink" title="属性结构"></a>属性结构</h3><ul>
<li><strong>getFields()</strong>:  获取当前运行时类及其父类中声明为<strong>public访问权限的属性</strong></li>
<li><strong>getDeclaredFields()</strong>:  获取当前运行时类中声明的<strong>所有属性</strong>。（<strong>不包含父类中声明的属性</strong>）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    <span class="comment">//获取属性结构</span></span><br><span class="line">    <span class="comment">//getFields():获取当前运行时类及其父类中声明为public访问权限的属性</span></span><br><span class="line">    Field[] fields = clazz.getFields();</span><br><span class="line">    <span class="keyword">for</span>(Field f : fields)&#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//getDeclaredFields():获取当前运行时类中声明的所有属性。（不包含父类中声明的属性）</span></span><br><span class="line">    Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">    <span class="keyword">for</span>(Field f : declaredFields)&#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>权限修饰符  数据类型 变量名</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">    <span class="keyword">for</span>(Field f : declaredFields)&#123;</span><br><span class="line">        <span class="comment">//1.权限修饰符</span></span><br><span class="line">        <span class="keyword">int</span> modifier = f.getModifiers();</span><br><span class="line">        System.out.print(Modifier.toString(modifier) + <span class="string">"\t"</span>);</span><br><span class="line">        <span class="comment">//2.数据类型</span></span><br><span class="line">        Class type = f.getType();</span><br><span class="line">        System.out.print(type.getName() + <span class="string">"\t"</span>);</span><br><span class="line">        <span class="comment">//3.变量名</span></span><br><span class="line">        String fName = f.getName();</span><br><span class="line">        System.out.print(fName);</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法结构"><a href="#方法结构" class="headerlink" title="方法结构"></a>方法结构</h3><ul>
<li><strong>getMethods():</strong>   获取当前运行时类及其所有父类中声明为public权限的方法</li>
<li><strong>getDeclaredMethods():</strong>   获取当前运行时类中声明的所有方法。（不包含父类中声明的方法）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    <span class="comment">//getMethods():获取当前运行时类及其所有父类中声明为public权限的方法</span></span><br><span class="line">    Method[] methods = clazz.getMethods();</span><br><span class="line">    <span class="keyword">for</span>(Method m : methods)&#123;</span><br><span class="line">        System.out.println(m);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//getDeclaredMethods():获取当前运行时类中声明的所有方法。（不包含父类中声明的方法）</span></span><br><span class="line">    Method[] declaredMethods = clazz.getDeclaredMethods();</span><br><span class="line">    <span class="keyword">for</span>(Method m : declaredMethods)&#123;</span><br><span class="line">        System.out.println(m);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>权限修饰符  返回值类型  方法名(参数类型1 形参名1,…) throws XxxException{}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    Method[] declaredMethods = clazz.getDeclaredMethods();</span><br><span class="line">    <span class="keyword">for</span>(Method m : declaredMethods)&#123;</span><br><span class="line">        <span class="comment">//1.获取方法声明的注解</span></span><br><span class="line">        Annotation[] annos = m.getAnnotations();</span><br><span class="line">        <span class="keyword">for</span>(Annotation a : annos)&#123;</span><br><span class="line">            System.out.println(a);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.权限修饰符</span></span><br><span class="line">        System.out.print(Modifier.toString(m.getModifiers()) + <span class="string">"\t"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.返回值类型</span></span><br><span class="line">        System.out.print(m.getReturnType().getName() + <span class="string">"\t"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.方法名</span></span><br><span class="line">        System.out.print(m.getName());</span><br><span class="line">        System.out.print(<span class="string">"("</span>);</span><br><span class="line">        <span class="comment">//5.形参列表</span></span><br><span class="line">        Class[] parameterTypes = m.getParameterTypes();</span><br><span class="line">        <span class="keyword">if</span>(!(parameterTypes == <span class="keyword">null</span> &amp;&amp; parameterTypes.length == <span class="number">0</span>))&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; parameterTypes.length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == parameterTypes.length - <span class="number">1</span>)&#123;</span><br><span class="line">                    System.out.print(parameterTypes[i].getName() + <span class="string">" args_"</span> + i);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.print(parameterTypes[i].getName() + <span class="string">" args_"</span> + i + <span class="string">","</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">")"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.抛出的异常</span></span><br><span class="line">        Class[] exceptionTypes = m.getExceptionTypes();</span><br><span class="line">        <span class="keyword">if</span>(exceptionTypes.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.print(<span class="string">"throws "</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; exceptionTypes.length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == exceptionTypes.length - <span class="number">1</span>)&#123;</span><br><span class="line">                    System.out.print(exceptionTypes[i].getName());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.print(exceptionTypes[i].getName() + <span class="string">","</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="构造器结构"><a href="#构造器结构" class="headerlink" title="构造器结构"></a>构造器结构</h3><ul>
<li><strong>getConstructors()</strong>:   获取当前运行时类中声明为public的构造器</li>
<li><strong>getDeclaredConstructors():</strong>   获取当前运行时类中声明的所有的构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    <span class="comment">//getConstructors():获取当前运行时类中声明为public的构造器</span></span><br><span class="line">    Constructor[] constructors = clazz.getConstructors();</span><br><span class="line">    <span class="keyword">for</span>(Constructor c : constructors)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//getDeclaredConstructors():获取当前运行时类中声明的所有的构造器</span></span><br><span class="line">    Constructor[] declaredConstructors = clazz.getDeclaredConstructors();</span><br><span class="line">    <span class="keyword">for</span>(Constructor c : declaredConstructors)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="其他结构"><a href="#其他结构" class="headerlink" title="其他结构"></a>其他结构</h3><p>获取运行时类的父类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Class superclass = clazz.getSuperclass();</span><br><span class="line">    System.out.println(superclass);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>获取运行时类的带泛型的父类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Type genericSuperclass = clazz.getGenericSuperclass();</span><br><span class="line">    System.out.println(genericSuperclass);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>获取运行时类的带泛型的父类的泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Type genericSuperclass = clazz.getGenericSuperclass();</span><br><span class="line">    ParameterizedType paramType = (ParameterizedType) genericSuperclass;</span><br><span class="line">    <span class="comment">//获取泛型类型</span></span><br><span class="line">    Type[] actualTypeArguments = paramType.getActualTypeArguments();</span><br><span class="line">    <span class="comment">//        System.out.println(actualTypeArguments[0].getTypeName());</span></span><br><span class="line">    System.out.println(((Class)actualTypeArguments[<span class="number">0</span>]).getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>获取运行时类实现的接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Class[] interfaces = clazz.getInterfaces();</span><br><span class="line">    <span class="keyword">for</span>(Class c : interfaces)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//获取运行时类的父类实现的接口</span></span><br><span class="line">    Class[] interfaces1 = clazz.getSuperclass().getInterfaces();</span><br><span class="line">    <span class="keyword">for</span>(Class c : interfaces1)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>获取运行时类所在的包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Package pack = clazz.getPackage();</span><br><span class="line">    System.out.println(pack);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>获取运行时类声明的注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    Annotation[] annotations = clazz.getAnnotations();</span><br><span class="line">    <span class="keyword">for</span>(Annotation annos : annotations)&#123;</span><br><span class="line">        System.out.println(annos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="调用运行时类的指定结构"><a href="#调用运行时类的指定结构" class="headerlink" title="调用运行时类的指定结构"></a>调用运行时类的指定结构</h2><p>属性、方法、构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不需要掌握</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testField</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建运行时类的对象</span></span><br><span class="line">    Person p = (Person) clazz.newInstance();</span><br><span class="line">    <span class="comment">//获取指定的属性：要求运行时类中属性声明为public</span></span><br><span class="line">    <span class="comment">//通常不采用此方法</span></span><br><span class="line">    Field id = clazz.getField(<span class="string">"id"</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        设置当前属性的值</span></span><br><span class="line"><span class="comment">        set():参数1：指明设置哪个对象的属性   参数2：将此属性值设置为多少</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    id.set(p,<span class="number">1001</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        获取当前属性的值</span></span><br><span class="line"><span class="comment">        get():参数1：获取哪个对象的当前属性值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    <span class="keyword">int</span> pId = (<span class="keyword">int</span>) id.get(p);</span><br><span class="line">    System.out.println(pId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="操作指定的属性"><a href="#操作指定的属性" class="headerlink" title="操作指定的属性"></a>操作指定的属性</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    如何操作运行时类中的指定的属性 -- 需要掌握</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testField1</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建运行时类的对象</span></span><br><span class="line">    Person p = (Person) clazz.newInstance();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1. getDeclaredField(String fieldName):获取运行时类中指定变量名的属性</span></span><br><span class="line">    Field name = clazz.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.保证当前属性是可访问的</span></span><br><span class="line">    name.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">//3.获取、设置指定对象的此属性值</span></span><br><span class="line">    name.set(p,<span class="string">"Tom"</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(name.get(p));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="指定的方法"><a href="#指定的方法" class="headerlink" title="指定的方法"></a>指定的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    如何操作运行时类中的指定的方法 -- 需要掌握</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMethod</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    <span class="comment">//创建运行时类的对象</span></span><br><span class="line">    Person p = (Person) clazz.newInstance();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1.获取指定的某个方法</span></span><br><span class="line"><span class="comment">        getDeclaredMethod():参数1 ：指明获取的方法的名称  参数2：指明获取的方法的形参列表</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    Method show = clazz.getDeclaredMethod(<span class="string">"show"</span>, String.class);</span><br><span class="line">    <span class="comment">//2.保证当前方法是可访问的</span></span><br><span class="line">    show.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        3. 调用方法的invoke():参数1：方法的调用者  参数2：给方法形参赋值的实参</span></span><br><span class="line"><span class="comment">        invoke()的返回值即为对应类中调用的方法的返回值。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    Object returnValue = show.invoke(p,<span class="string">"CHN"</span>); <span class="comment">//String nation = p.show("CHN");</span></span><br><span class="line">    System.out.println(returnValue);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"*************如何调用静态方法*****************"</span>);</span><br><span class="line">    <span class="comment">// private static void showDesc()</span></span><br><span class="line"></span><br><span class="line">    Method showDesc = clazz.getDeclaredMethod(<span class="string">"showDesc"</span>);</span><br><span class="line">    showDesc.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">//如果调用的运行时类中的方法没有返回值，则此invoke()返回null</span></span><br><span class="line">    <span class="comment">//        Object returnVal = showDesc.invoke(null);</span></span><br><span class="line">    Object returnVal = showDesc.invoke(Person.class);</span><br><span class="line">    System.out.println(returnVal);<span class="comment">//null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="指定的构造器"><a href="#指定的构造器" class="headerlink" title="指定的构造器"></a>指定的构造器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    如何调用运行时类中的指定的构造器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConstructor</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//private Person(String name)</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1.获取指定的构造器</span></span><br><span class="line"><span class="comment">        getDeclaredConstructor():参数：指明构造器的参数列表</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    Constructor constructor = clazz.getDeclaredConstructor(String.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.保证此构造器是可访问的</span></span><br><span class="line">    constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.调用此构造器创建运行时类的对象</span></span><br><span class="line">    Person per = (Person) constructor.newInstance(<span class="string">"Tom"</span>);</span><br><span class="line">    System.out.println(per);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="应用：动态代理"><a href="#应用：动态代理" class="headerlink" title="应用：动态代理"></a>应用：动态代理</h2><p> 静态代理举例</p>
<p>特点：代理类和被代理类在编译期间，就确定下来了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">produceCloth</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyClothFactory</span> <span class="keyword">implements</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ClothFactory factory;<span class="comment">//用被代理类对象进行实例化</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyClothFactory</span><span class="params">(ClothFactory factory)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.factory = factory;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">produceCloth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"代理工厂做一些准备工作"</span>);</span><br><span class="line"></span><br><span class="line">        factory.produceCloth();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"代理工厂做一些后续的收尾工作"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NikeClothFactory</span> <span class="keyword">implements</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">produceCloth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Nike工厂生产一批运动服"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建被代理类的对象</span></span><br><span class="line">        ClothFactory nike = <span class="keyword">new</span> NikeClothFactory();</span><br><span class="line">        <span class="comment">//创建代理类的对象</span></span><br><span class="line">        ClothFactory proxyClothFactory = <span class="keyword">new</span> ProxyClothFactory(nike);</span><br><span class="line">        proxyClothFactory.produceCloth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>动态代理的举例</p>
<p>要想实现动态代理，需要解决的问题？<br>问题一：如何根据加载到内存中的被代理类，动态的创建一个代理类及其对象。<br>问题二：当通过代理类的对象调用方法a时，如何动态的去调用被代理类中的同名方法a。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">getBelief</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperMan</span> <span class="keyword">implements</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBelief</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"I believe I can fly!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我喜欢吃"</span> + food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanUtil</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====================通用方法一===================="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====================通用方法二===================="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">要想实现动态代理，需要解决的问题？</span></span><br><span class="line"><span class="comment">问题一：如何根据加载到内存中的被代理类，动态的创建一个代理类及其对象。</span></span><br><span class="line"><span class="comment">问题二：当通过代理类的对象调用方法a时，如何动态的去调用被代理类中的同名方法a。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span></span>&#123;</span><br><span class="line">    <span class="comment">//调用此方法，返回一个代理类的对象。解决问题一</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getProxyInstance</span><span class="params">(Object obj)</span></span>&#123;<span class="comment">//obj:被代理类的对象</span></span><br><span class="line">        MyInvocationHandler handler = <span class="keyword">new</span> MyInvocationHandler();</span><br><span class="line">        handler.bind(obj);</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(obj.getClass().getClassLoader(),obj.getClass().getInterfaces(),handler);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object obj;<span class="comment">//需要使用被代理类的对象进行赋值</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bind</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//当我们通过代理类的对象，调用方法a时，就会自动的调用如下的方法：invoke()</span></span><br><span class="line">    <span class="comment">//将被代理类要执行的方法a的功能就声明在invoke()中</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"></span><br><span class="line">        HumanUtil util = <span class="keyword">new</span> HumanUtil();</span><br><span class="line">        util.method1();</span><br><span class="line">        <span class="comment">//method:即为代理类对象调用的方法，此方法也就作为了被代理类对象要调用的方法</span></span><br><span class="line">        <span class="comment">//obj:被代理类的对象</span></span><br><span class="line">        Object returnValue = method.invoke(obj,args);</span><br><span class="line"></span><br><span class="line">        util.method2();</span><br><span class="line">        <span class="comment">//上述方法的返回值就作为当前类中的invoke()的返回值。</span></span><br><span class="line">        <span class="keyword">return</span> returnValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SuperMan superMan = <span class="keyword">new</span> SuperMan();</span><br><span class="line">        <span class="comment">//proxyInstance:代理类的对象</span></span><br><span class="line">        Human proxyInstance = (Human) ProxyFactory.getProxyInstance(superMan);</span><br><span class="line">        <span class="comment">//当通过代理类对象调用方法时，会自动的调用被代理类中同名的方法</span></span><br><span class="line">        String belief = proxyInstance.getBelief();</span><br><span class="line">        System.out.println(belief);</span><br><span class="line">        proxyInstance.eat(<span class="string">"四川麻辣烫"</span>);        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line">        NikeClothFactory nikeClothFactory = <span class="keyword">new</span> NikeClothFactory();</span><br><span class="line">        ClothFactory proxyClothFactory = (ClothFactory) ProxyFactory.getProxyInstance(nikeClothFactory);</span><br><span class="line">        proxyClothFactory.produceCloth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="新特性"><a href="#新特性" class="headerlink" title="新特性"></a>新特性</h1><h2 id="Java8其他新特性"><a href="#Java8其他新特性" class="headerlink" title="Java8其他新特性"></a>Java8其他新特性</h2><h3 id="Lambda表达式"><a href="#Lambda表达式" class="headerlink" title="Lambda表达式"></a>Lambda表达式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Lambda表达式的使用</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1.举例： (o1,o2) -&gt; Integer.compare(o1,o2);</span></span><br><span class="line"><span class="comment"> * 2.格式：</span></span><br><span class="line"><span class="comment"> *      -&gt; :lambda操作符 或 箭头操作符</span></span><br><span class="line"><span class="comment"> *      -&gt;左边：lambda形参列表 （其实就是接口中的抽象方法的形参列表）</span></span><br><span class="line"><span class="comment"> *      -&gt;右边：lambda体 （其实就是重写的抽象方法的方法体）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 3. Lambda表达式的使用：（分为6种情况介绍）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    总结：</span></span><br><span class="line"><span class="comment"> *    -&gt;左边：lambda形参列表的参数类型可以省略(类型推断)；如果lambda形参列表只有一个参数，其一对()也可以省略</span></span><br><span class="line"><span class="comment"> *    -&gt;右边：lambda体应该使用一对&#123;&#125;包裹；如果lambda体只有一条执行语句（可能是return语句），省略这一对&#123;&#125;和return关键字</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 4.Lambda表达式的本质：作为函数式接口的实例</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 5. 如果一个接口中，只声明了一个抽象方法，则此接口就称为函数式接口。我们可以在一个接口上使用 <span class="doctag">@FunctionalInterface</span> 注解，</span></span><br><span class="line"><span class="comment"> *   这样做可以检查它是否是一个函数式接口。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 6. 所以以前用匿名实现类表示的现在都可以用Lambda表达式来写。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 上午 11:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LambdaTest1</span> </span>&#123;</span><br><span class="line">    <span class="comment">//语法格式一：无参，无返回值</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Runnable r1 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"我爱北京天安门"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        r1.run();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"***********************"</span>);</span><br><span class="line"></span><br><span class="line">        Runnable r2 = () -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">"我爱北京故宫"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        r2.run();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//语法格式二：Lambda 需要一个参数，但是没有返回值。</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con = <span class="keyword">new</span> Consumer&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        con.accept(<span class="string">"谎言和誓言的区别是什么？"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con1 = (String s) -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con1.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//语法格式三：数据类型可以省略，因为可由编译器推断得出，称为“类型推断”</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con1 = (String s) -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con1.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con2 = (s) -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con2.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">//类型推断</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;<span class="comment">//类型推断</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//语法格式四：Lambda 若只需要一个参数时，参数的小括号可以省略</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; con1 = (s) -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con1.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con2 = s -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con2.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//语法格式五：Lambda 需要两个或以上的参数，多条执行语句，并且可以有返回值</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Integer&gt; com1 = <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">                System.out.println(o1);</span><br><span class="line">                System.out.println(o2);</span><br><span class="line">                <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(com1.compare(<span class="number">12</span>,<span class="number">21</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line">        Comparator&lt;Integer&gt; com2 = (o1,o2) -&gt; &#123;</span><br><span class="line">            System.out.println(o1);</span><br><span class="line">            System.out.println(o2);</span><br><span class="line">            <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(com2.compare(<span class="number">12</span>,<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//语法格式六：当 Lambda 体只有一条语句时，return 与大括号若有，都可以省略</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Integer&gt; com1 = (o1,o2) -&gt; &#123;</span><br><span class="line">            <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(com1.compare(<span class="number">12</span>,<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Integer&gt; com2 = (o1,o2) -&gt; o1.compareTo(o2);</span><br><span class="line"></span><br><span class="line">        System.out.println(com2.compare(<span class="number">12</span>,<span class="number">21</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test8</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; con1 = s -&gt; &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;;</span><br><span class="line">        con1.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line"></span><br><span class="line">        Consumer&lt;String&gt; con2 = s -&gt; System.out.println(s);</span><br><span class="line"></span><br><span class="line">        con2.accept(<span class="string">"一个是听得人当真了，一个是说的人当真了"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="函数式-Functional接囗"><a href="#函数式-Functional接囗" class="headerlink" title="函数式 Functional接囗"></a>函数式 Functional接囗</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java内置的4大核心函数式接口</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 消费型接口 Consumer&lt;T&gt;     void accept(T t)</span></span><br><span class="line"><span class="comment"> * 供给型接口 Supplier&lt;T&gt;     T get()</span></span><br><span class="line"><span class="comment"> * 函数型接口 Function&lt;T,R&gt;   R apply(T t)</span></span><br><span class="line"><span class="comment"> * 断定型接口 Predicate&lt;T&gt;    boolean test(T t)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 下午 2:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LambdaTest2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        happyTime(<span class="number">500</span>, <span class="keyword">new</span> Consumer&lt;Double&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Double aDouble)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"学习太累了，去天上人间买了瓶矿泉水，价格为："</span> + aDouble);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"********************"</span>);</span><br><span class="line"></span><br><span class="line">        happyTime(<span class="number">400</span>,money -&gt; System.out.println(<span class="string">"学习太累了，去天上人间喝了口水，价格为："</span> + money));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">happyTime</span><span class="params">(<span class="keyword">double</span> money, Consumer&lt;Double&gt; con)</span></span>&#123;</span><br><span class="line">        con.accept(money);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">"北京"</span>,<span class="string">"南京"</span>,<span class="string">"天津"</span>,<span class="string">"东京"</span>,<span class="string">"西京"</span>,<span class="string">"普京"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; filterStrs = filterString(list, <span class="keyword">new</span> Predicate&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> s.contains(<span class="string">"京"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(filterStrs);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; filterStrs1 = filterString(list,s -&gt; s.contains(<span class="string">"京"</span>));</span><br><span class="line">        System.out.println(filterStrs1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据给定的规则，过滤集合中的字符串。此规则由Predicate的方法决定</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">filterString</span><span class="params">(List&lt;String&gt; list, Predicate&lt;String&gt; pre)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;String&gt; filterList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">            <span class="keyword">if</span>(pre.test(s))&#123;</span><br><span class="line">                filterList.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> filterList;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法引用与构造器引用"><a href="#方法引用与构造器引用" class="headerlink" title="方法引用与构造器引用"></a>方法引用与构造器引用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 方法引用的使用</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1.使用情境：当要传递给Lambda体的操作，已经有实现的方法了，可以使用方法引用！</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 2.方法引用，本质上就是Lambda表达式，而Lambda表达式作为函数式接口的实例。所以</span></span><br><span class="line"><span class="comment"> *   方法引用，也是函数式接口的实例。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 3. 使用格式：  类(或对象) :: 方法名</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 4. 具体分为如下的三种情况：</span></span><br><span class="line"><span class="comment"> *    情况1     对象 :: 非静态方法</span></span><br><span class="line"><span class="comment"> *    情况2     类 :: 静态方法</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    情况3     类 :: 非静态方法</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 5. 方法引用使用的要求：要求接口中的抽象方法的形参列表和返回值类型与方法引用的方法的</span></span><br><span class="line"><span class="comment"> *    形参列表和返回值类型相同！（针对于情况1和情况2）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Created by shkstart.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodRefTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 情况一：对象 :: 实例方法</span></span><br><span class="line">	<span class="comment">//Consumer中的void accept(T t)</span></span><br><span class="line">	<span class="comment">//PrintStream中的void println(T t)</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Consumer&lt;String&gt; con1 = str -&gt; System.out.println(str);</span><br><span class="line">		con1.accept(<span class="string">"北京"</span>);</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line">		PrintStream ps = System.out;</span><br><span class="line">		Consumer&lt;String&gt; con2 = ps::println;</span><br><span class="line">		con2.accept(<span class="string">"beijing"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Supplier中的T get()</span></span><br><span class="line">	<span class="comment">//Employee中的String getName()</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Employee emp = <span class="keyword">new</span> Employee(<span class="number">1001</span>,<span class="string">"Tom"</span>,<span class="number">23</span>,<span class="number">5600</span>);</span><br><span class="line"></span><br><span class="line">		Supplier&lt;String&gt; sup1 = () -&gt; emp.getName();</span><br><span class="line">		System.out.println(sup1.get());</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line">		Supplier&lt;String&gt; sup2 = emp::getName;</span><br><span class="line">		System.out.println(sup2.get());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 情况二：类 :: 静态方法</span></span><br><span class="line">	<span class="comment">//Comparator中的int compare(T t1,T t2)</span></span><br><span class="line">	<span class="comment">//Integer中的int compare(T t1,T t2)</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Comparator&lt;Integer&gt; com1 = (t1,t2) -&gt; Integer.compare(t1,t2);</span><br><span class="line">		System.out.println(com1.compare(<span class="number">12</span>,<span class="number">21</span>));</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">		Comparator&lt;Integer&gt; com2 = Integer::compare;</span><br><span class="line">		System.out.println(com2.compare(<span class="number">12</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Function中的R apply(T t)</span></span><br><span class="line">	<span class="comment">//Math中的Long round(Double d)</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Function&lt;Double,Long&gt; func = <span class="keyword">new</span> Function&lt;Double, Long&gt;() &#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> Long <span class="title">apply</span><span class="params">(Double d)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> Math.round(d);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">		Function&lt;Double,Long&gt; func1 = d -&gt; Math.round(d);</span><br><span class="line">		System.out.println(func1.apply(<span class="number">12.3</span>));</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">		Function&lt;Double,Long&gt; func2 = Math::round;</span><br><span class="line">		System.out.println(func2.apply(<span class="number">12.6</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 情况三：类 :: 实例方法  (有难度)</span></span><br><span class="line">	<span class="comment">// Comparator中的int comapre(T t1,T t2)</span></span><br><span class="line">	<span class="comment">// String中的int t1.compareTo(t2)</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Comparator&lt;String&gt; com1 = (s1,s2) -&gt; s1.compareTo(s2);</span><br><span class="line">		System.out.println(com1.compare(<span class="string">"abc"</span>,<span class="string">"abd"</span>));</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">		Comparator&lt;String&gt; com2 = String :: compareTo;</span><br><span class="line">		System.out.println(com2.compare(<span class="string">"abd"</span>,<span class="string">"abm"</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//BiPredicate中的boolean test(T t1, T t2);</span></span><br><span class="line">	<span class="comment">//String中的boolean t1.equals(t2)</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		BiPredicate&lt;String,String&gt; pre1 = (s1,s2) -&gt; s1.equals(s2);</span><br><span class="line">		System.out.println(pre1.test(<span class="string">"abc"</span>,<span class="string">"abc"</span>));</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line">		BiPredicate&lt;String,String&gt; pre2 = String :: equals;</span><br><span class="line">		System.out.println(pre2.test(<span class="string">"abc"</span>,<span class="string">"abd"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// Function中的R apply(T t)</span></span><br><span class="line">	<span class="comment">// Employee中的String getName();</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Employee employee = <span class="keyword">new</span> Employee(<span class="number">1001</span>, <span class="string">"Jerry"</span>, <span class="number">23</span>, <span class="number">6000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		Function&lt;Employee,String&gt; func1 = e -&gt; e.getName();</span><br><span class="line">		System.out.println(func1.apply(employee));</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		Function&lt;Employee,String&gt; func2 = Employee::getName;</span><br><span class="line">		System.out.println(func2.apply(employee));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 一、构造器引用</span></span><br><span class="line"><span class="comment"> *      和方法引用类似，函数式接口的抽象方法的形参列表和构造器的形参列表一致。</span></span><br><span class="line"><span class="comment"> *      抽象方法的返回值类型即为构造器所属的类的类型</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 二、数组引用</span></span><br><span class="line"><span class="comment"> *     大家可以把数组看做是一个特殊的类，则写法与构造器引用一致。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Created by shkstart</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstructorRefTest</span> </span>&#123;</span><br><span class="line">	<span class="comment">//构造器引用</span></span><br><span class="line">    <span class="comment">//Supplier中的T get()</span></span><br><span class="line">    <span class="comment">//Employee的空参构造器：Employee()</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Supplier&lt;Employee&gt; sup = <span class="keyword">new</span> Supplier&lt;Employee&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Employee <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Employee();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Supplier&lt;Employee&gt;  sup1 = () -&gt; <span class="keyword">new</span> Employee();</span><br><span class="line">        System.out.println(sup1.get());</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Supplier&lt;Employee&gt;  sup2 = Employee :: <span class="keyword">new</span>;</span><br><span class="line">        System.out.println(sup2.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Function中的R apply(T t)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Function&lt;Integer,Employee&gt; func1 = id -&gt; <span class="keyword">new</span> Employee(id);</span><br><span class="line">        Employee employee = func1.apply(<span class="number">1001</span>);</span><br><span class="line">        System.out.println(employee);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Function&lt;Integer,Employee&gt; func2 = Employee :: <span class="keyword">new</span>;</span><br><span class="line">        Employee employee1 = func2.apply(<span class="number">1002</span>);</span><br><span class="line">        System.out.println(employee1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//BiFunction中的R apply(T t,U u)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        BiFunction&lt;Integer,String,Employee&gt; func1 = (id,name) -&gt; <span class="keyword">new</span> Employee(id,name);</span><br><span class="line">        System.out.println(func1.apply(<span class="number">1001</span>,<span class="string">"Tom"</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        BiFunction&lt;Integer,String,Employee&gt; func2 = Employee :: <span class="keyword">new</span>;</span><br><span class="line">        System.out.println(func2.apply(<span class="number">1002</span>,<span class="string">"Tom"</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组引用</span></span><br><span class="line">    <span class="comment">//Function中的R apply(T t)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Function&lt;Integer,String[]&gt; func1 = length -&gt; <span class="keyword">new</span> String[length];</span><br><span class="line">        String[] arr1 = func1.apply(<span class="number">5</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr1));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*******************"</span>);</span><br><span class="line"></span><br><span class="line">        Function&lt;Integer,String[]&gt; func2 = String[] :: <span class="keyword">new</span>;</span><br><span class="line">        String[] arr2 = func2.apply(<span class="number">10</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr2));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>强大的 Stream API</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Stream关注的是对数据的运算，与CPU打交道</span></span><br><span class="line"><span class="comment"> *    集合关注的是数据的存储，与内存打交道</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 2.</span></span><br><span class="line"><span class="comment"> * ①Stream 自己不会存储元素。</span></span><br><span class="line"><span class="comment"> * ②Stream 不会改变源对象。相反，他们会返回一个持有结果的新Stream。</span></span><br><span class="line"><span class="comment"> * ③Stream 操作是延迟执行的。这意味着他们会等到需要结果的时候才执行</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 3.Stream 执行流程</span></span><br><span class="line"><span class="comment"> * ① Stream的实例化</span></span><br><span class="line"><span class="comment"> * ② 一系列的中间操作（过滤、映射、...)</span></span><br><span class="line"><span class="comment"> * ③ 终止操作</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 4.说明：</span></span><br><span class="line"><span class="comment"> * 4.1 一个中间操作链，对数据源的数据进行处理</span></span><br><span class="line"><span class="comment"> * 4.2 一旦执行终止操作，就执行中间操作链，并产生结果。之后，不会再被使用</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  测试Stream的实例化</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 下午 4:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamAPITest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建 Stream方式一：通过集合</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        default Stream&lt;E&gt; stream() : 返回一个顺序流</span></span><br><span class="line">        Stream&lt;Employee&gt; stream = employees.stream();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        default Stream&lt;E&gt; parallelStream() : 返回一个并行流</span></span><br><span class="line">        Stream&lt;Employee&gt; parallelStream = employees.parallelStream();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建 Stream方式二：通过数组</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        <span class="comment">//调用Arrays类的static &lt;T&gt; Stream&lt;T&gt; stream(T[] array): 返回一个流</span></span><br><span class="line">        IntStream stream = Arrays.stream(arr);</span><br><span class="line"></span><br><span class="line">        Employee e1 = <span class="keyword">new</span> Employee(<span class="number">1001</span>,<span class="string">"Tom"</span>);</span><br><span class="line">        Employee e2 = <span class="keyword">new</span> Employee(<span class="number">1002</span>,<span class="string">"Jerry"</span>);</span><br><span class="line">        Employee[] arr1 = <span class="keyword">new</span> Employee[]&#123;e1,e2&#125;;</span><br><span class="line">        Stream&lt;Employee&gt; stream1 = Arrays.stream(arr1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建 Stream方式三：通过Stream的of()</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Stream&lt;Integer&gt; stream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建 Stream方式四：创建无限流</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//      迭代</span></span><br><span class="line"><span class="comment">//      public static&lt;T&gt; Stream&lt;T&gt; iterate(final T seed, final UnaryOperator&lt;T&gt; f)</span></span><br><span class="line">        <span class="comment">//遍历前10个偶数</span></span><br><span class="line">        Stream.iterate(<span class="number">0</span>, t -&gt; t + <span class="number">2</span>).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//      生成</span></span><br><span class="line"><span class="comment">//      public static&lt;T&gt; Stream&lt;T&gt; generate(Supplier&lt;T&gt; s)</span></span><br><span class="line">        Stream.generate(Math::random).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试Stream的中间操作</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 下午 4:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamAPITest1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1-筛选与切片</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Employee&gt; list = EmployeeData.getEmployees();</span><br><span class="line"><span class="comment">//        filter(Predicate p)——接收 Lambda ， 从流中排除某些元素。</span></span><br><span class="line">        Stream&lt;Employee&gt; stream = list.stream();</span><br><span class="line">        <span class="comment">//练习：查询员工表中薪资大于7000的员工信息</span></span><br><span class="line">        stream.filter(e -&gt; e.getSalary() &gt; <span class="number">7000</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"><span class="comment">//        limit(n)——截断流，使其元素不超过给定数量。</span></span><br><span class="line">        list.stream().limit(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        skip(n) —— 跳过元素，返回一个扔掉了前 n 个元素的流。若流中元素不足 n 个，则返回一个空流。与 limit(n) 互补</span></span><br><span class="line">        list.stream().skip(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"><span class="comment">//        distinct()——筛选，通过流所生成元素的 hashCode() 和 equals() 去除重复元素</span></span><br><span class="line"></span><br><span class="line">        list.add(<span class="keyword">new</span> Employee(<span class="number">1010</span>,<span class="string">"刘强东"</span>,<span class="number">40</span>,<span class="number">8000</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Employee(<span class="number">1010</span>,<span class="string">"刘强东"</span>,<span class="number">41</span>,<span class="number">8000</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Employee(<span class="number">1010</span>,<span class="string">"刘强东"</span>,<span class="number">40</span>,<span class="number">8000</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Employee(<span class="number">1010</span>,<span class="string">"刘强东"</span>,<span class="number">40</span>,<span class="number">8000</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Employee(<span class="number">1010</span>,<span class="string">"刘强东"</span>,<span class="number">40</span>,<span class="number">8000</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//        System.out.println(list);</span></span><br><span class="line"></span><br><span class="line">        list.stream().distinct().forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//映射</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        map(Function f)——接收一个函数作为参数，将元素转换成其他形式或提取信息，该函数会被应用到每个元素上，并将其映射成一个新的元素。</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">"aa"</span>, <span class="string">"bb"</span>, <span class="string">"cc"</span>, <span class="string">"dd"</span>);</span><br><span class="line">        list.stream().map(str -&gt; str.toUpperCase()).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        练习1：获取员工姓名长度大于3的员工的姓名。</span></span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">        Stream&lt;String&gt; namesStream = employees.stream().map(Employee::getName);</span><br><span class="line">        namesStream.filter(name -&gt; name.length() &gt; <span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//练习2：</span></span><br><span class="line">        Stream&lt;Stream&lt;Character&gt;&gt; streamStream = list.stream().map(StreamAPITest1::fromStringToStream);</span><br><span class="line">        streamStream.forEach(s -&gt;&#123;</span><br><span class="line">            s.forEach(System.out::println);</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println();</span><br><span class="line"><span class="comment">//        flatMap(Function f)——接收一个函数作为参数，将流中的每个值都换成另一个流，然后把所有流连接成一个流。</span></span><br><span class="line">        Stream&lt;Character&gt; characterStream = list.stream().flatMap(StreamAPITest1::fromStringToStream);</span><br><span class="line">        characterStream.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将字符串中的多个字符构成的集合转换为对应的Stream的实例</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Stream&lt;Character&gt; <span class="title">fromStringToStream</span><span class="params">(String str)</span></span>&#123;<span class="comment">//aa</span></span><br><span class="line">        ArrayList&lt;Character&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(Character c : str.toCharArray())&#123;</span><br><span class="line">            list.add(c);</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">return</span> list.stream();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ArrayList list1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        list1.add(<span class="number">1</span>);</span><br><span class="line">        list1.add(<span class="number">2</span>);</span><br><span class="line">        list1.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        ArrayList list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        list2.add(<span class="number">4</span>);</span><br><span class="line">        list2.add(<span class="number">5</span>);</span><br><span class="line">        list2.add(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        list1.add(list2);</span></span><br><span class="line">        list1.addAll(list2);</span><br><span class="line">        System.out.println(list1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3-排序</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        sorted()——自然排序</span></span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">12</span>, <span class="number">43</span>, <span class="number">65</span>, <span class="number">34</span>, <span class="number">87</span>, <span class="number">0</span>, -<span class="number">98</span>, <span class="number">7</span>);</span><br><span class="line">        list.stream().sorted().forEach(System.out::println);</span><br><span class="line">        <span class="comment">//抛异常，原因:Employee没有实现Comparable接口</span></span><br><span class="line"><span class="comment">//        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span></span><br><span class="line"><span class="comment">//        employees.stream().sorted().forEach(System.out::println);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        sorted(Comparator com)——定制排序</span></span><br><span class="line"></span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">        employees.stream().sorted( (e1,e2) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">int</span> ageValue = Integer.compare(e1.getAge(),e2.getAge());</span><br><span class="line">           <span class="keyword">if</span>(ageValue != <span class="number">0</span>)&#123;</span><br><span class="line">               <span class="keyword">return</span> ageValue;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">return</span> -Double.compare(e1.getSalary(),e2.getSalary());</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">        &#125;).forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试Stream的终止操作</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 下午 6:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamAPITest2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1-匹配与查找</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        allMatch(Predicate p)——检查是否匹配所有元素。</span></span><br><span class="line"><span class="comment">//          练习：是否所有的员工的年龄都大于18</span></span><br><span class="line">        <span class="keyword">boolean</span> allMatch = employees.stream().allMatch(e -&gt; e.getAge() &gt; <span class="number">18</span>);</span><br><span class="line">        System.out.println(allMatch);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        anyMatch(Predicate p)——检查是否至少匹配一个元素。</span></span><br><span class="line"><span class="comment">//         练习：是否存在员工的工资大于 10000</span></span><br><span class="line">        <span class="keyword">boolean</span> anyMatch = employees.stream().anyMatch(e -&gt; e.getSalary() &gt; <span class="number">10000</span>);</span><br><span class="line">        System.out.println(anyMatch);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        noneMatch(Predicate p)——检查是否没有匹配的元素。</span></span><br><span class="line"><span class="comment">//          练习：是否存在员工姓“雷”</span></span><br><span class="line">        <span class="keyword">boolean</span> noneMatch = employees.stream().noneMatch(e -&gt; e.getName().startsWith(<span class="string">"雷"</span>));</span><br><span class="line">        System.out.println(noneMatch);</span><br><span class="line"><span class="comment">//        findFirst——返回第一个元素</span></span><br><span class="line">        Optional&lt;Employee&gt; employee = employees.stream().findFirst();</span><br><span class="line">        System.out.println(employee);</span><br><span class="line"><span class="comment">//        findAny——返回当前流中的任意元素</span></span><br><span class="line">        Optional&lt;Employee&gt; employee1 = employees.parallelStream().findAny();</span><br><span class="line">        System.out.println(employee1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">        <span class="comment">// count——返回流中元素的总个数</span></span><br><span class="line">        <span class="keyword">long</span> count = employees.stream().filter(e -&gt; e.getSalary() &gt; <span class="number">5000</span>).count();</span><br><span class="line">        System.out.println(count);</span><br><span class="line"><span class="comment">//        max(Comparator c)——返回流中最大值</span></span><br><span class="line"><span class="comment">//        练习：返回最高的工资：</span></span><br><span class="line">        Stream&lt;Double&gt; salaryStream = employees.stream().map(e -&gt; e.getSalary());</span><br><span class="line">        Optional&lt;Double&gt; maxSalary = salaryStream.max(Double::compare);</span><br><span class="line">        System.out.println(maxSalary);</span><br><span class="line"><span class="comment">//        min(Comparator c)——返回流中最小值</span></span><br><span class="line"><span class="comment">//        练习：返回最低工资的员工</span></span><br><span class="line">        Optional&lt;Employee&gt; employee = employees.stream().min((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary()));</span><br><span class="line">        System.out.println(employee);</span><br><span class="line">        System.out.println();</span><br><span class="line"><span class="comment">//        forEach(Consumer c)——内部迭代</span></span><br><span class="line">        employees.stream().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用集合的遍历操作</span></span><br><span class="line">        employees.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2-归约</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        reduce(T identity, BinaryOperator)——可以将流中元素反复结合起来，得到一个值。返回 T</span></span><br><span class="line"><span class="comment">//        练习1：计算1-10的自然数的和</span></span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>);</span><br><span class="line">        Integer sum = list.stream().reduce(<span class="number">0</span>, Integer::sum);</span><br><span class="line">        System.out.println(sum);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        reduce(BinaryOperator) ——可以将流中元素反复结合起来，得到一个值。返回 Optional&lt;T&gt;</span></span><br><span class="line"><span class="comment">//        练习2：计算公司所有员工工资的总和</span></span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">        Stream&lt;Double&gt; salaryStream = employees.stream().map(Employee::getSalary);</span><br><span class="line"><span class="comment">//        Optional&lt;Double&gt; sumMoney = salaryStream.reduce(Double::sum);</span></span><br><span class="line">        Optional&lt;Double&gt; sumMoney = salaryStream.reduce((d1,d2) -&gt; d1 + d2);</span><br><span class="line">        System.out.println(sumMoney.get());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3-收集</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        collect(Collector c)——将流转换为其他形式。接收一个 Collector接口的实现，用于给Stream中元素做汇总的方法</span></span><br><span class="line"><span class="comment">//        练习1：查找工资大于6000的员工，结果返回为一个List或Set</span></span><br><span class="line"></span><br><span class="line">        List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">        List&lt;Employee&gt; employeeList = employees.stream().filter(e -&gt; e.getSalary() &gt; <span class="number">6000</span>).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        employeeList.forEach(System.out::println);</span><br><span class="line">        System.out.println();</span><br><span class="line">        Set&lt;Employee&gt; employeeSet = employees.stream().filter(e -&gt; e.getSalary() &gt; <span class="number">6000</span>).collect(Collectors.toSet());</span><br><span class="line"></span><br><span class="line">        employeeSet.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Optional类"><a href="#Optional类" class="headerlink" title="Optional类"></a>Optional类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Optional类：为了在程序中避免出现空指针异常而创建的。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 常用的方法：ofNullable(T t)</span></span><br><span class="line"><span class="comment"> *            orElse(T t)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> shkstart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019 下午 7:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OptionalTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Optional.of(T t) : 创建一个 Optional 实例，t必须非空；</span></span><br><span class="line"><span class="comment">Optional.empty() : 创建一个空的 Optional 实例</span></span><br><span class="line"><span class="comment">Optional.ofNullable(T t)：t可以为null</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Girl girl = <span class="keyword">new</span> Girl();</span><br><span class="line"><span class="comment">//        girl = null;</span></span><br><span class="line">        <span class="comment">//of(T t):保证t是非空的</span></span><br><span class="line">        Optional&lt;Girl&gt; optionalGirl = Optional.of(girl);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Girl girl = <span class="keyword">new</span> Girl();</span><br><span class="line"><span class="comment">//        girl = null;</span></span><br><span class="line">        <span class="comment">//ofNullable(T t)：t可以为null</span></span><br><span class="line">        Optional&lt;Girl&gt; optionalGirl = Optional.ofNullable(girl);</span><br><span class="line">        System.out.println(optionalGirl);</span><br><span class="line">        <span class="comment">//orElse(T t1):如果单前的Optional内部封装的t是非空的，则返回内部的t.</span></span><br><span class="line">        <span class="comment">//如果内部的t是空的，则返回orElse()方法中的参数t1.</span></span><br><span class="line">        Girl girl1 = optionalGirl.orElse(<span class="keyword">new</span> Girl(<span class="string">"赵丽颖"</span>));</span><br><span class="line">        System.out.println(girl1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGirlName</span><span class="params">(Boy boy)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> boy.getGirl().getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Boy boy = <span class="keyword">new</span> Boy();</span><br><span class="line">        boy = <span class="keyword">null</span>;</span><br><span class="line">        String girlName = getGirlName(boy);</span><br><span class="line">        System.out.println(girlName);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//优化以后的getGirlName():</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGirlName1</span><span class="params">(Boy boy)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(boy != <span class="keyword">null</span>)&#123;</span><br><span class="line">            Girl girl = boy.getGirl();</span><br><span class="line">            <span class="keyword">if</span>(girl != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> girl.getName();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Boy boy = <span class="keyword">new</span> Boy();</span><br><span class="line">        boy = <span class="keyword">null</span>;</span><br><span class="line">        String girlName = getGirlName1(boy);</span><br><span class="line">        System.out.println(girlName);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用Optional类的getGirlName():</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGirlName2</span><span class="params">(Boy boy)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Optional&lt;Boy&gt; boyOptional = Optional.ofNullable(boy);</span><br><span class="line">        <span class="comment">//此时的boy1一定非空</span></span><br><span class="line">        Boy boy1 = boyOptional.orElse(<span class="keyword">new</span> Boy(<span class="keyword">new</span> Girl(<span class="string">"迪丽热巴"</span>)));</span><br><span class="line"></span><br><span class="line">        Girl girl = boy1.getGirl();</span><br><span class="line"></span><br><span class="line">        Optional&lt;Girl&gt; girlOptional = Optional.ofNullable(girl);</span><br><span class="line">        <span class="comment">//girl1一定非空</span></span><br><span class="line">        Girl girl1 = girlOptional.orElse(<span class="keyword">new</span> Girl(<span class="string">"古力娜扎"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> girl1.getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Boy boy = <span class="keyword">null</span>;</span><br><span class="line">        boy = <span class="keyword">new</span> Boy();</span><br><span class="line">        boy = <span class="keyword">new</span> Boy(<span class="keyword">new</span> Girl(<span class="string">"苍老师"</span>));</span><br><span class="line">        String girlName = getGirlName2(boy);</span><br><span class="line">        System.out.println(girlName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    
      <div>
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>goodwell感谢您的阅读-------------</div>
    
</div>
      </div>
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>小二，上酒~</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="goodwell 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="goodwell 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    goodwell
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://goodwell42.github.io/uncategorized/Java-Basics/" title="Java-Basics">https://goodwell42.github.io/uncategorized/Java-Basics/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/Java/小结/Java-summary2/" rel="next" title="Java-summary2">
                <i class="fa fa-chevron-left"></i> Java-summary2
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c18c3a6695e48e0" async="async"></script>
</div>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MTY5OC8xODI0NA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="goodwell">
            
              <p class="site-author-name" itemprop="name">goodwell</p>
              <p class="site-description motion-element" itemprop="description">行百里者半九十</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">42</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">38</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/goodwell42" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://goodwell42.github.io/LoveChan/" target="_blank" title="LoveChan">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>LoveChan</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/gu-de-wei-er" target="_blank" title="Zhihu">
                      
                        <i class="iconfont icon-zhihu"></i>Zhihu</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/u/5960245380" target="_blank" title="Weibo">
                      
                        <i class="iconfont icon-weibo"></i>Weibo</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://pjvbe4vjy.bkt.clouddn.com/blog/img/QQcode.jpg" target="_blank" title="QQ">
                      
                        <i class="iconfont icon-qq"></i>QQ</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://pjvbe4vjy.bkt.clouddn.com/blog/img/VXcode.png" target="_blank" title="WeChat">
                      
                        <i class="iconfont icon-weixin"></i>WeChat</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://me.csdn.net/goodwell_42" target="_blank" title="CSDN">
                      
                        <i class="iconfont icon-csdn"></i>CSDN</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://user.qzone.qq.com/731186915/main" target="_blank" title="Qzone">
                      
                        <i class="iconfont icon-qqkongjian"></i>Qzone</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://space.bilibili.com/32815179" target="_blank" title="Bilibili">
                      
                        <i class="iconfont icon-bilibilidonghua"></i>Bilibili</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://music.163.com/#/user/home?id=411200181" target="_blank" title="Netease">
                      
                        <i class="iconfont icon-netease"></i>Netease</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.github.io" title="Github" target="_blank">Github</a>
                  </li>
                
              </ul>
            </div>
          

          
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Java路线"><span class="nav-number">1.</span> <span class="nav-text">Java路线</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一阶段入门进阶"><span class="nav-number">1.1.</span> <span class="nav-text">第一阶段入门进阶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二阶段Web基础和工具"><span class="nav-number">1.2.</span> <span class="nav-text">第二阶段Web基础和工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三阶段企业级应用框架培训"><span class="nav-number">1.3.</span> <span class="nav-text">第三阶段企业级应用框架培训</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第四阶段高级应用框架培训"><span class="nav-number">1.4.</span> <span class="nav-text">第四阶段高级应用框架培训</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第五阶段高级话题"><span class="nav-number">1.5.</span> <span class="nav-text">第五阶段高级话题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本概念"><span class="nav-number">2.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Java语言的特点"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">Java语言的特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Java两种核心机制"><span class="nav-number">2.0.0.2.</span> <span class="nav-text">Java两种核心机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#名词解释"><span class="nav-number">2.0.0.3.</span> <span class="nav-text">名词解释</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#基本语法"><span class="nav-number">3.</span> <span class="nav-text">基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#注释类型Comment"><span class="nav-number">3.0.0.1.</span> <span class="nav-text">注释类型Comment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Java-API-文档"><span class="nav-number">3.0.0.2.</span> <span class="nav-text">Java API 文档</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关键字与保留字"><span class="nav-number">3.0.0.3.</span> <span class="nav-text">关键字与保留字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标识符"><span class="nav-number">3.0.0.4.</span> <span class="nav-text">标识符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#变量"><span class="nav-number">3.0.0.5.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#进制"><span class="nav-number">3.0.0.6.</span> <span class="nav-text">进制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运算符"><span class="nav-number">3.0.0.7.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#程序流程控制"><span class="nav-number">3.0.0.8.</span> <span class="nav-text">程序流程控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#引用数据类型变量：数组"><span class="nav-number">3.0.0.9.</span> <span class="nav-text">引用数据类型变量：数组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#补充：eclipse快捷键"><span class="nav-number">3.0.1.</span> <span class="nav-text">*补充：eclipse快捷键</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#面向对象"><span class="nav-number">4.</span> <span class="nav-text">面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java类及类的成员："><span class="nav-number">4.1.</span> <span class="nav-text">Java类及类的成员：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类与对象"><span class="nav-number">4.1.1.</span> <span class="nav-text">类与对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#类的成员"><span class="nav-number">4.1.1.1.</span> <span class="nav-text">类的成员</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类和对象的使用"><span class="nav-number">4.1.1.2.</span> <span class="nav-text">类和对象的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对象的内存解析"><span class="nav-number">4.1.1.3.</span> <span class="nav-text">对象的内存解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#理解万事万物皆对象"><span class="nav-number">4.1.1.4.</span> <span class="nav-text">理解万事万物皆对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性"><span class="nav-number">4.1.2.</span> <span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#属性（成员变量）VS-局部变量"><span class="nav-number">4.1.2.1.</span> <span class="nav-text">属性（成员变量）VS 局部变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-number">4.1.3.</span> <span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方法重载-overload"><span class="nav-number">4.1.3.1.</span> <span class="nav-text">方法重载(overload)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#可变个数的形参"><span class="nav-number">4.1.3.2.</span> <span class="nav-text">可变个数的形参</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方法参数的值传递机制"><span class="nav-number">4.1.3.3.</span> <span class="nav-text">方法参数的值传递机制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类的成员之三：构造器（构造方法constructor）"><span class="nav-number">4.1.4.</span> <span class="nav-text">类的成员之三：构造器（构造方法constructor）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类的成员之四：代码块（初始化块）"><span class="nav-number">4.1.5.</span> <span class="nav-text">类的成员之四：代码块（初始化块）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#属性赋值的相关问题："><span class="nav-number">4.1.5.1.</span> <span class="nav-text">属性赋值的相关问题：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类的成员之五：内部类"><span class="nav-number">4.1.6.</span> <span class="nav-text">类的成员之五：内部类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象的三个特征"><span class="nav-number">4.2.</span> <span class="nav-text">面向对象的三个特征</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#封装与隐藏"><span class="nav-number">4.2.1.</span> <span class="nav-text">封装与隐藏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#体现"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">体现:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#目标：高内聚，低耦合"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">目标：高内聚，低耦合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#权限修饰符（从小到大）"><span class="nav-number">4.2.1.3.</span> <span class="nav-text">权限修饰符（从小到大）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#继承性inheritance"><span class="nav-number">4.2.2.</span> <span class="nav-text">继承性inheritance</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#好处："><span class="nav-number">4.2.2.1.</span> <span class="nav-text">好处：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#格式："><span class="nav-number">4.2.2.2.</span> <span class="nav-text">格式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方法的重写-override-overwrite"><span class="nav-number">4.2.2.3.</span> <span class="nav-text">方法的重写(override/overwrite)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多态性polymorphism"><span class="nav-number">4.2.3.</span> <span class="nav-text">多态性polymorphism</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#多态的使用："><span class="nav-number">4.2.3.1.</span> <span class="nav-text">多态的使用：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#虚拟方法调用（Virtual-Method-Invocation）"><span class="nav-number">4.2.3.2.</span> <span class="nav-text">虚拟方法调用（Virtual Method Invocation）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多态性的使用前提："><span class="nav-number">4.2.3.3.</span> <span class="nav-text">多态性的使用前提：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#向下转型（使用强制类型转换符）"><span class="nav-number">4.2.3.4.</span> <span class="nav-text">向下转型（使用强制类型转换符）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他关键字："><span class="nav-number">4.3.</span> <span class="nav-text">其他关键字：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#this："><span class="nav-number">4.3.0.1.</span> <span class="nav-text">this：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#super："><span class="nav-number">4.3.0.2.</span> <span class="nav-text">super：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#static："><span class="nav-number">4.3.0.3.</span> <span class="nav-text">static：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#final："><span class="nav-number">4.3.0.4.</span> <span class="nav-text">final：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#abstract：抽象类与抽象方法"><span class="nav-number">4.3.0.5.</span> <span class="nav-text">abstract：抽象类与抽象方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#接口（interface）"><span class="nav-number">4.3.0.6.</span> <span class="nav-text">接口（interface）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#补充"><span class="nav-number">4.3.1.</span> <span class="nav-text">补充</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaBean"><span class="nav-number">4.3.1.1.</span> <span class="nav-text">JavaBean</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Debug调试"><span class="nav-number">4.3.2.</span> <span class="nav-text">Debug调试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置断点"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">设置断点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JUnit单元测试方法"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">JUnit单元测试方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Object类："><span class="nav-number">4.3.3.</span> <span class="nav-text">Object类：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#VS-equals"><span class="nav-number">4.3.3.1.</span> <span class="nav-text">== VS equals()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toString-方法"><span class="nav-number">4.3.3.2.</span> <span class="nav-text">toString()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#main-方法"><span class="nav-number">4.3.3.3.</span> <span class="nav-text">main()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#包装类-Wrapper-的使用"><span class="nav-number">4.3.3.4.</span> <span class="nav-text">包装类(Wrapper)的使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设计模式"><span class="nav-number">4.3.4.</span> <span class="nav-text">设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#单例-Singleton-设计模式"><span class="nav-number">4.3.4.1.</span> <span class="nav-text">单例(Singleton)设计模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模板方法设计模式（TemplateMethod）"><span class="nav-number">4.3.4.2.</span> <span class="nav-text">模板方法设计模式（TemplateMethod）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MVC设计模式"><span class="nav-number">4.3.4.3.</span> <span class="nav-text">MVC设计模式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常处理"><span class="nav-number">5.</span> <span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述与体系结构"><span class="nav-number">5.0.1.</span> <span class="nav-text">概述与体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异常处理机制"><span class="nav-number">5.0.2.</span> <span class="nav-text">异常处理机制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#抓抛模型："><span class="nav-number">5.0.2.1.</span> <span class="nav-text">抓抛模型：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#①-try-catch-finally"><span class="nav-number">5.0.2.2.</span> <span class="nav-text">① try-catch-finally</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#②-throws-异常类型"><span class="nav-number">5.0.2.3.</span> <span class="nav-text">② throws + 异常类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如何选择"><span class="nav-number">5.0.2.4.</span> <span class="nav-text">如何选择</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义异常类"><span class="nav-number">5.0.2.5.</span> <span class="nav-text">自定义异常类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#throw-VS-throws"><span class="nav-number">5.0.2.6.</span> <span class="nav-text">throw VS throws</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#程序、进程、线程"><span class="nav-number">6.</span> <span class="nav-text">程序、进程、线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本概念-1"><span class="nav-number">6.0.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#何时需要多线程"><span class="nav-number">6.0.2.</span> <span class="nav-text">何时需要多线程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多线程的创建"><span class="nav-number">6.1.</span> <span class="nav-text">多线程的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方法一：继承于Thread类"><span class="nav-number">6.1.1.</span> <span class="nav-text">方法一：继承于Thread类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法二：实现Runnable接口"><span class="nav-number">6.1.2.</span> <span class="nav-text">方法二：实现Runnable接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#两种创建方式的对比"><span class="nav-number">6.1.3.</span> <span class="nav-text">两种创建方式的对比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法三：实现Callable接口"><span class="nav-number">6.1.4.</span> <span class="nav-text">方法三：实现Callable接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Runnable-VS-Callable"><span class="nav-number">6.1.5.</span> <span class="nav-text">使用Runnable VS Callable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法四：使用线程池"><span class="nav-number">6.1.6.</span> <span class="nav-text">方法四：使用线程池</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程的生命周期"><span class="nav-number">6.2.</span> <span class="nav-text">线程的生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程的同步"><span class="nav-number">6.3.</span> <span class="nav-text">线程的同步</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方式一：同步代码块"><span class="nav-number">6.3.1.</span> <span class="nav-text">方式一：同步代码块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步的优缺点："><span class="nav-number">6.3.2.</span> <span class="nav-text">同步的优缺点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法二：同步方法"><span class="nav-number">6.3.3.</span> <span class="nav-text">方法二：同步方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程的死锁问题"><span class="nav-number">6.3.4.</span> <span class="nav-text">线程的死锁问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方式三：lock锁-—-JDK5-0新增"><span class="nav-number">6.3.5.</span> <span class="nav-text">方式三：lock锁  —  JDK5.0新增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#synchronized-VS-Lock-异同"><span class="nav-number">6.3.6.</span> <span class="nav-text">synchronized VS Lock 异同</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#优先使用顺序："><span class="nav-number">6.3.7.</span> <span class="nav-text">优先使用顺序：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程的通信"><span class="nav-number">6.4.</span> <span class="nav-text">线程的通信</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串相关的类"><span class="nav-number">7.</span> <span class="nav-text">字符串相关的类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">7.1.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#特点"><span class="nav-number">7.1.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例化的方式"><span class="nav-number">7.1.2.</span> <span class="nav-text">实例化的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用方法"><span class="nav-number">7.1.3.</span> <span class="nav-text">常用方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类型转换"><span class="nav-number">7.1.4.</span> <span class="nav-text">类型转换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#StringBuffer类"><span class="nav-number">7.2.</span> <span class="nav-text">StringBuffer类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#时间相关的类"><span class="nav-number">8.</span> <span class="nav-text">时间相关的类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JDk8之前的日期和时间的API"><span class="nav-number">8.1.</span> <span class="nav-text">JDk8之前的日期和时间的API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#①-java-lang-System类"><span class="nav-number">8.1.1.</span> <span class="nav-text">①.  java.lang.System类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#②-java-util-Date-java-sql-Date继承前者"><span class="nav-number">8.1.2.</span> <span class="nav-text">②.  java.util.Date (java.sql.Date继承前者)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#③-SimpleDateFormat类"><span class="nav-number">8.1.3.</span> <span class="nav-text">③.  SimpleDateFormat类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#④-Calendar类"><span class="nav-number">8.1.4.</span> <span class="nav-text">④.  Calendar类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JDK-8中新日期时间API"><span class="nav-number">8.2.</span> <span class="nav-text">JDK 8中新日期时间API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#java-time"><span class="nav-number">8.2.1.</span> <span class="nav-text">java.time</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Instant"><span class="nav-number">8.2.2.</span> <span class="nav-text">Instant</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java-time-format-DateTimeFormatter"><span class="nav-number">8.2.3.</span> <span class="nav-text">java.time.format.DateTimeFormatter</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java比较器"><span class="nav-number">9.</span> <span class="nav-text">Java比较器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#自然排序：java-lang-Comparable"><span class="nav-number">9.1.</span> <span class="nav-text">自然排序：java.lang.Comparable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定制排序：java-util-Comparator"><span class="nav-number">9.2.</span> <span class="nav-text">定制排序：java.util.Comparator</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他类"><span class="nav-number">10.</span> <span class="nav-text">其他类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#System类"><span class="nav-number">10.1.</span> <span class="nav-text">System类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Math类"><span class="nav-number">10.2.</span> <span class="nav-text">Math类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BigInteger与BigDecimal"><span class="nav-number">10.3.</span> <span class="nav-text">BigInteger与BigDecimal</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BigInteger类"><span class="nav-number">10.3.1.</span> <span class="nav-text">BigInteger类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#枚举类的使用"><span class="nav-number">10.4.</span> <span class="nav-text">枚举类的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Enum类的主要方法"><span class="nav-number">10.4.1.</span> <span class="nav-text">Enum类的主要方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用enum关键字定义的枚举类实现接口的情况"><span class="nav-number">10.4.2.</span> <span class="nav-text">使用enum关键字定义的枚举类实现接口的情况</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注解（Annotation）的使用"><span class="nav-number">10.5.</span> <span class="nav-text">注解（Annotation）的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#理解Annotation："><span class="nav-number">10.5.1.</span> <span class="nav-text">理解Annotation：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Annotation的使用示例"><span class="nav-number">10.5.2.</span> <span class="nav-text">Annotation的使用示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何自定义注解"><span class="nav-number">10.5.3.</span> <span class="nav-text">如何自定义注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jdk-提供的4种元注解"><span class="nav-number">10.5.4.</span> <span class="nav-text">jdk 提供的4种元注解</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#集合"><span class="nav-number">11.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述"><span class="nav-number">11.1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#集合框架"><span class="nav-number">11.1.1.</span> <span class="nav-text">集合框架</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection常用方法（通用）"><span class="nav-number">11.2.</span> <span class="nav-text">Collection常用方法（通用）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#集合元素的遍历（迭代器接口Iterator）"><span class="nav-number">11.2.1.</span> <span class="nav-text">集合元素的遍历（迭代器接口Iterator）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#foreach-循环遍历集合"><span class="nav-number">11.2.2.</span> <span class="nav-text">foreach 循环遍历集合</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#List接口"><span class="nav-number">11.3.</span> <span class="nav-text">List接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#List中的常用方法"><span class="nav-number">11.3.1.</span> <span class="nav-text">List中的常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set接口"><span class="nav-number">11.4.</span> <span class="nav-text">Set接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Map接口"><span class="nav-number">11.5.</span> <span class="nav-text">Map接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Map接口的常用方法"><span class="nav-number">11.5.1.</span> <span class="nav-text">Map接口的常用方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Collections工具类"><span class="nav-number">11.5.2.</span> <span class="nav-text">Collections工具类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#泛型Generic"><span class="nav-number">12.</span> <span class="nav-text">泛型Generic</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念"><span class="nav-number">12.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在集合中使用泛型总结"><span class="nav-number">12.2.</span> <span class="nav-text">在集合中使用泛型总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义泛型结构"><span class="nav-number">12.3.</span> <span class="nav-text">自定义泛型结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#泛型类、泛型接口"><span class="nav-number">12.3.1.</span> <span class="nav-text">泛型类、泛型接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#泛型方法"><span class="nav-number">12.3.2.</span> <span class="nav-text">泛型方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#泛型在继承方面的体现"><span class="nav-number">12.3.3.</span> <span class="nav-text">泛型在继承方面的体现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通配符："><span class="nav-number">12.3.4.</span> <span class="nav-text">通配符： ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#有限制条件的通配符"><span class="nav-number">12.3.5.</span> <span class="nav-text">有限制条件的通配符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IO"><span class="nav-number">13.</span> <span class="nav-text">IO</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#File类"><span class="nav-number">13.1.</span> <span class="nav-text">File类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建File类的实例"><span class="nav-number">13.1.1.</span> <span class="nav-text">创建File类的实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用方法-1"><span class="nav-number">13.1.2.</span> <span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IO流"><span class="nav-number">13.2.</span> <span class="nav-text">IO流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#流的分类"><span class="nav-number">13.2.1.</span> <span class="nav-text">流的分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流的体系结构"><span class="nav-number">13.2.2.</span> <span class="nav-text">流的体系结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#节点流"><span class="nav-number">13.3.</span> <span class="nav-text">节点流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字符流"><span class="nav-number">13.3.1.</span> <span class="nav-text">字符流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字节流"><span class="nav-number">13.3.2.</span> <span class="nav-text">字节流</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缓冲流"><span class="nav-number">13.4.</span> <span class="nav-text">缓冲流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#转换流"><span class="nav-number">13.5.</span> <span class="nav-text">转换流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他流"><span class="nav-number">13.6.</span> <span class="nav-text">其他流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#标准的输入、输出流"><span class="nav-number">13.6.1.</span> <span class="nav-text">标准的输入、输出流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打印流"><span class="nav-number">13.6.2.</span> <span class="nav-text">打印流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据流"><span class="nav-number">13.6.3.</span> <span class="nav-text">数据流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象流"><span class="nav-number">13.6.4.</span> <span class="nav-text">对象流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#随机存取文件流"><span class="nav-number">13.6.5.</span> <span class="nav-text">随机存取文件流</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网络编程"><span class="nav-number">14.</span> <span class="nav-text">网络编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-1"><span class="nav-number">14.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IP和端口号"><span class="nav-number">14.2.</span> <span class="nav-text">IP和端口号</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#idea快捷键："><span class="nav-number">15.</span> <span class="nav-text">*idea快捷键：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#反射"><span class="nav-number">16.</span> <span class="nav-text">反射</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-2"><span class="nav-number">16.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-Class类的理解"><span class="nav-number">16.2.</span> <span class="nav-text">java.lang.Class类的理解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取Class的实例的方式"><span class="nav-number">16.2.1.</span> <span class="nav-text">获取Class的实例的方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建运行时类的对象"><span class="nav-number">16.3.</span> <span class="nav-text">创建运行时类的对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#获取运行时类的完整结构"><span class="nav-number">16.4.</span> <span class="nav-text">获取运行时类的完整结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#属性结构"><span class="nav-number">16.4.1.</span> <span class="nav-text">属性结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法结构"><span class="nav-number">16.4.2.</span> <span class="nav-text">方法结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构造器结构"><span class="nav-number">16.4.3.</span> <span class="nav-text">构造器结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他结构"><span class="nav-number">16.4.4.</span> <span class="nav-text">其他结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调用运行时类的指定结构"><span class="nav-number">16.5.</span> <span class="nav-text">调用运行时类的指定结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#操作指定的属性"><span class="nav-number">16.5.1.</span> <span class="nav-text">操作指定的属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#指定的方法"><span class="nav-number">16.5.2.</span> <span class="nav-text">指定的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#指定的构造器"><span class="nav-number">16.5.3.</span> <span class="nav-text">指定的构造器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#应用：动态代理"><span class="nav-number">16.6.</span> <span class="nav-text">应用：动态代理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新特性"><span class="nav-number">17.</span> <span class="nav-text">新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java8其他新特性"><span class="nav-number">17.1.</span> <span class="nav-text">Java8其他新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lambda表达式"><span class="nav-number">17.1.1.</span> <span class="nav-text">Lambda表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数式-Functional接囗"><span class="nav-number">17.1.2.</span> <span class="nav-text">函数式 Functional接囗</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法引用与构造器引用"><span class="nav-number">17.1.3.</span> <span class="nav-text">方法引用与构造器引用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Optional类"><span class="nav-number">17.1.4.</span> <span class="nav-text">Optional类</span></a></li></ol></li></ol></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">goodwell</span>

  
</div>

<div class="footer-text">
  今日视此虽近，邈若山河。<br>
<span id="busuanzi_container_site_pv">
    <i class="fa fa-area-chart"></i>本站总访问量<span id="busuanzi_value_site_pv"></span>次&nbsp;&nbsp;&nbsp;&nbsp;|
</span>
<span id="busuanzi_container_site_uv">
    &nbsp;&nbsp;&nbsp;<i class="fa fa-tag"></i>您是第<span id="busuanzi_value_site_uv"></span>个来到的小伙伴
</span>
</div>
<section class="footer-time">
    <span class="footer__copyright">
    <div>
    <span id="span_dt_dt"> </span>
    <script language="javascript">
      function show_date_time(){
        window.setTimeout("show_date_time()", 1000);
        BirthDay=new Date("12/15/2018 00:56:12");//这个日期是可以修改的
        today=new Date();
        timeold=(today.getTime()-BirthDay.getTime());//其实仅仅改了这里
        sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
        msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
        e_hrsold=(e_daysold-daysold)*24;
        hrsold=Math.floor(e_hrsold);
        e_minsold=(e_hrsold-hrsold)*60;
        minsold=Math.floor((e_hrsold-hrsold)*60);
        seconds=Math.floor((e_minsold-minsold)*60);
        span_dt_dt.innerHTML="goodwell的博客已经独自照看历代星辰 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒啦";
      }
      show_date_time();
    </script>
    </div>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
</span></section>
<!--
   <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>

-->



        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("zmquuMIn4FHVMvzsMvA3RG0V-gzGzoHsz", "LR8efKVYvMbL50bIn4YFl9s8");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

  <script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="/js/src/custom.js"></script>
  undefined
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/click.js"></script>
  <!--崩溃欺骗-->
  <script type="text/javascript" src="/js/src/crash_cheat.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
